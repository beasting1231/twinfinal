function ZR(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function MT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Mp={exports:{}},Fc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function JR(){if(Jb)return Fc;Jb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Fc.Fragment=e,Fc.jsx=t,Fc.jsxs=t,Fc}var ew;function eI(){return ew||(ew=1,Mp.exports=JR()),Mp.exports}var A=eI(),kp={exports:{}},je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function tI(){if(tw)return je;tw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,S={};function N(V,re,ue){this.props=V,this.context=re,this.refs=S,this.updater=ue||C}N.prototype.isReactComponent={},N.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},N.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function B(){}B.prototype=N.prototype;function H(V,re,ue){this.props=V,this.context=re,this.refs=S,this.updater=ue||C}var G=H.prototype=new B;G.constructor=H,D(G,N.prototype),G.isPureReactComponent=!0;var ee=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},le=Object.prototype.hasOwnProperty;function O(V,re,ue,ce,me,Ne){return ue=Ne.ref,{$$typeof:n,type:V,key:re,ref:ue!==void 0?ue:null,props:Ne}}function x(V,re){return O(V.type,re,void 0,void 0,void 0,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function U(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ue){return re[ue]})}var L=/\/+/g;function j(V,re){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):re.toString(36)}function k(){}function _e(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(k,k):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Se(V,re,ue,ce,me){var Ne=typeof V;(Ne==="undefined"||Ne==="boolean")&&(V=null);var ge=!1;if(V===null)ge=!0;else switch(Ne){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(V.$$typeof){case n:case e:ge=!0;break;case y:return ge=V._init,Se(ge(V._payload),re,ue,ce,me)}}if(ge)return me=me(V),ge=ce===""?"."+j(V,0):ce,ee(me)?(ue="",ge!=null&&(ue=ge.replace(L,"$&/")+"/"),Se(me,re,ue,"",function(Je){return Je})):me!=null&&(M(me)&&(me=x(me,ue+(me.key==null||V&&V.key===me.key?"":(""+me.key).replace(L,"$&/")+"/")+ge)),re.push(me)),1;ge=0;var de=ce===""?".":ce+":";if(ee(V))for(var Ae=0;Ae<V.length;Ae++)ce=V[Ae],Ne=de+j(ce,Ae),ge+=Se(ce,re,ue,Ne,me);else if(Ae=E(V),typeof Ae=="function")for(V=Ae.call(V),Ae=0;!(ce=V.next()).done;)ce=ce.value,Ne=de+j(ce,Ae++),ge+=Se(ce,re,ue,Ne,me);else if(Ne==="object"){if(typeof V.then=="function")return Se(_e(V),re,ue,ce,me);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ge}function Y(V,re,ue){if(V==null)return V;var ce=[],me=0;return Se(V,ce,"","",function(Ne){return re.call(ue,Ne,me++)}),ce}function K(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(ue){(V._status===0||V._status===-1)&&(V._status=1,V._result=ue)},function(ue){(V._status===0||V._status===-1)&&(V._status=2,V._result=ue)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var z=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ve(){}return je.Children={map:Y,forEach:function(V,re,ue){Y(V,function(){re.apply(this,arguments)},ue)},count:function(V){var re=0;return Y(V,function(){re++}),re},toArray:function(V){return Y(V,function(re){return re})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},je.Component=N,je.Fragment=t,je.Profiler=a,je.PureComponent=H,je.StrictMode=i,je.Suspense=m,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,je.__COMPILER_RUNTIME={__proto__:null,c:function(V){return te.H.useMemoCache(V)}},je.cache=function(V){return function(){return V.apply(null,arguments)}},je.cloneElement=function(V,re,ue){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ce=D({},V.props),me=V.key,Ne=void 0;if(re!=null)for(ge in re.ref!==void 0&&(Ne=void 0),re.key!==void 0&&(me=""+re.key),re)!le.call(re,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&re.ref===void 0||(ce[ge]=re[ge]);var ge=arguments.length-2;if(ge===1)ce.children=ue;else if(1<ge){for(var de=Array(ge),Ae=0;Ae<ge;Ae++)de[Ae]=arguments[Ae+2];ce.children=de}return O(V.type,me,void 0,void 0,Ne,ce)},je.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},je.createElement=function(V,re,ue){var ce,me={},Ne=null;if(re!=null)for(ce in re.key!==void 0&&(Ne=""+re.key),re)le.call(re,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(me[ce]=re[ce]);var ge=arguments.length-2;if(ge===1)me.children=ue;else if(1<ge){for(var de=Array(ge),Ae=0;Ae<ge;Ae++)de[Ae]=arguments[Ae+2];me.children=de}if(V&&V.defaultProps)for(ce in ge=V.defaultProps,ge)me[ce]===void 0&&(me[ce]=ge[ce]);return O(V,Ne,void 0,void 0,null,me)},je.createRef=function(){return{current:null}},je.forwardRef=function(V){return{$$typeof:h,render:V}},je.isValidElement=M,je.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:K}},je.memo=function(V,re){return{$$typeof:g,type:V,compare:re===void 0?null:re}},je.startTransition=function(V){var re=te.T,ue={};te.T=ue;try{var ce=V(),me=te.S;me!==null&&me(ue,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ve,z)}catch(Ne){z(Ne)}finally{te.T=re}},je.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},je.use=function(V){return te.H.use(V)},je.useActionState=function(V,re,ue){return te.H.useActionState(V,re,ue)},je.useCallback=function(V,re){return te.H.useCallback(V,re)},je.useContext=function(V){return te.H.useContext(V)},je.useDebugValue=function(){},je.useDeferredValue=function(V,re){return te.H.useDeferredValue(V,re)},je.useEffect=function(V,re,ue){var ce=te.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(V,re)},je.useId=function(){return te.H.useId()},je.useImperativeHandle=function(V,re,ue){return te.H.useImperativeHandle(V,re,ue)},je.useInsertionEffect=function(V,re){return te.H.useInsertionEffect(V,re)},je.useLayoutEffect=function(V,re){return te.H.useLayoutEffect(V,re)},je.useMemo=function(V,re){return te.H.useMemo(V,re)},je.useOptimistic=function(V,re){return te.H.useOptimistic(V,re)},je.useReducer=function(V,re,ue){return te.H.useReducer(V,re,ue)},je.useRef=function(V){return te.H.useRef(V)},je.useState=function(V){return te.H.useState(V)},je.useSyncExternalStore=function(V,re,ue){return te.H.useSyncExternalStore(V,re,ue)},je.useTransition=function(){return te.H.useTransition()},je.version="19.1.4",je}var nw;function fy(){return nw||(nw=1,kp.exports=tI()),kp.exports}var R=fy();const Ds=MT(R),kT=ZR({__proto__:null,default:Ds},[R]);var Pp={exports:{}},Hc={},Vp={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function nI(){return rw||(rw=1,(function(n){function e(Y,K){var z=Y.length;Y.push(K);e:for(;0<z;){var ve=z-1>>>1,V=Y[ve];if(0<a(V,K))Y[ve]=K,Y[z]=V,z=ve;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var K=Y[0],z=Y.pop();if(z!==K){Y[0]=z;e:for(var ve=0,V=Y.length,re=V>>>1;ve<re;){var ue=2*(ve+1)-1,ce=Y[ue],me=ue+1,Ne=Y[me];if(0>a(ce,z))me<V&&0>a(Ne,ce)?(Y[ve]=Ne,Y[me]=z,ve=me):(Y[ve]=ce,Y[ue]=z,ve=ue);else if(me<V&&0>a(Ne,z))Y[ve]=Ne,Y[me]=z,ve=me;else break e}}return K}function a(Y,K){var z=Y.sortIndex-K.sortIndex;return z!==0?z:Y.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var m=[],g=[],y=1,_=null,E=3,C=!1,D=!1,S=!1,N=!1,B=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ee(Y){for(var K=t(g);K!==null;){if(K.callback===null)i(g);else if(K.startTime<=Y)i(g),K.sortIndex=K.expirationTime,e(m,K);else break;K=t(g)}}function te(Y){if(S=!1,ee(Y),!D)if(t(m)!==null)D=!0,le||(le=!0,j());else{var K=t(g);K!==null&&Se(te,K.startTime-Y)}}var le=!1,O=-1,x=5,M=-1;function U(){return N?!0:!(n.unstable_now()-M<x)}function L(){if(N=!1,le){var Y=n.unstable_now();M=Y;var K=!0;try{e:{D=!1,S&&(S=!1,H(O),O=-1),C=!0;var z=E;try{t:{for(ee(Y),_=t(m);_!==null&&!(_.expirationTime>Y&&U());){var ve=_.callback;if(typeof ve=="function"){_.callback=null,E=_.priorityLevel;var V=ve(_.expirationTime<=Y);if(Y=n.unstable_now(),typeof V=="function"){_.callback=V,ee(Y),K=!0;break t}_===t(m)&&i(m),ee(Y)}else i(m);_=t(m)}if(_!==null)K=!0;else{var re=t(g);re!==null&&Se(te,re.startTime-Y),K=!1}}break e}finally{_=null,E=z,C=!1}K=void 0}}finally{K?j():le=!1}}}var j;if(typeof G=="function")j=function(){G(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,_e=k.port2;k.port1.onmessage=L,j=function(){_e.postMessage(null)}}else j=function(){B(L,0)};function Se(Y,K){O=B(function(){Y(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Y){switch(E){case 1:case 2:case 3:var K=3;break;default:K=E}var z=E;E=K;try{return Y()}finally{E=z}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(Y,K){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var z=E;E=Y;try{return K()}finally{E=z}},n.unstable_scheduleCallback=function(Y,K,z){var ve=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ve+z:ve):z=ve,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=z+V,Y={id:y++,callback:K,priorityLevel:Y,startTime:z,expirationTime:V,sortIndex:-1},z>ve?(Y.sortIndex=z,e(g,Y),t(m)===null&&Y===t(g)&&(S?(H(O),O=-1):S=!0,Se(te,z-ve))):(Y.sortIndex=V,e(m,Y),D||C||(D=!0,le||(le=!0,j()))),Y},n.unstable_shouldYield=U,n.unstable_wrapCallback=function(Y){var K=E;return function(){var z=E;E=K;try{return Y.apply(this,arguments)}finally{E=z}}}})(Lp)),Lp}var iw;function rI(){return iw||(iw=1,Vp.exports=nI()),Vp.exports}var Up={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function iI(){if(sw)return bn;sw=1;var n=fy();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,bn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},bn.flushSync=function(m){var g=u.T,y=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=g,i.p=y,i.d.f()}},bn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},bn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},bn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=h(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:C}):y==="script"&&i.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},bn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=h(y,g.crossOrigin);i.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},bn.requestFormReset=function(m){i.d.r(m)},bn.unstable_batchedUpdates=function(m,g){return m(g)},bn.useFormState=function(m,g,y){return u.H.useFormState(m,g,y)},bn.useFormStatus=function(){return u.H.useHostTransitionStatus()},bn.version="19.1.4",bn}var aw;function PT(){if(aw)return Up.exports;aw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Up.exports=iI(),Up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow;function sI(){if(ow)return Hc;ow=1;var n=rI(),e=fy(),t=PT();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return h(f),r;if(p===c)return h(f),s;p=p.sibling}throw Error(i(188))}if(o.return!==c.return)o=f,c=p;else{for(var w=!1,T=f.child;T;){if(T===o){w=!0,o=f,c=p;break}if(T===c){w=!0,c=f,o=p;break}T=T.sibling}if(!w){for(T=p.child;T;){if(T===o){w=!0,o=p,c=f;break}if(T===c){w=!0,c=p,o=f;break}T=T.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function _e(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case N:return"Profiler";case S:return"StrictMode";case te:return"Suspense";case le:return"SuspenseList";case M:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case G:return(r.displayName||"Context")+".Provider";case H:return(r._context.displayName||"Context")+".Consumer";case ee:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return s=r.displayName||null,s!==null?s:_e(r.type)||"Memo";case x:s=r._payload,r=r._init;try{return _e(r(s))}catch{}}return null}var Se=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},ve=[],V=-1;function re(r){return{current:r}}function ue(r){0>V||(r.current=ve[V],ve[V]=null,V--)}function ce(r,s){V++,ve[V]=r.current,r.current=s}var me=re(null),Ne=re(null),ge=re(null),de=re(null);function Ae(r,s){switch(ce(ge,s),ce(Ne,r),ce(me,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?xb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=xb(s),r=Rb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(me),ce(me,r)}function Je(){ue(me),ue(Ne),ue(ge)}function He(r){r.memoizedState!==null&&ce(de,r);var s=me.current,o=Rb(s,r.type);s!==o&&(ce(Ne,r),ce(me,o))}function qe(r){Ne.current===r&&(ue(me),ue(Ne)),de.current===r&&(ue(de),Lc._currentValue=z)}var et=Object.prototype.hasOwnProperty,fe=n.unstable_scheduleCallback,be=n.unstable_cancelCallback,Ge=n.unstable_shouldYield,We=n.unstable_requestPaint,Ce=n.unstable_now,ft=n.unstable_getCurrentPriorityLevel,tt=n.unstable_ImmediatePriority,vt=n.unstable_UserBlockingPriority,jn=n.unstable_NormalPriority,Ph=n.unstable_LowPriority,Ul=n.unstable_IdlePriority,Vh=n.log,ta=n.unstable_setDisableYieldValue,Gi=null,yn=null;function Xn(r){if(typeof Vh=="function"&&ta(r),yn&&typeof yn.setStrictMode=="function")try{yn.setStrictMode(Gi,r)}catch{}}var Cn=Math.clz32?Math.clz32:Mu,Lh=Math.log,Ou=Math.LN2;function Mu(r){return r>>>=0,r===0?32:31-(Lh(r)/Ou|0)|0}var Dr=256,Yi=4194304;function dr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Zn(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var f=0,p=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var T=c&134217727;return T!==0?(c=T&~p,c!==0?f=dr(c):(w&=T,w!==0?f=dr(w):o||(o=T&~r,o!==0&&(f=dr(o))))):(T=c&~p,T!==0?f=dr(T):w!==0?f=dr(w):o||(o=c&~r,o!==0&&(f=dr(o)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:f}function Wi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function oo(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jl(){var r=Dr;return Dr<<=1,(Dr&4194048)===0&&(Dr=256),r}function Ki(){var r=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),r}function lo(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Vt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ku(r,s,o,c,f,p){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var T=r.entanglements,P=r.expirationTimes,$=r.hiddenUpdates;for(o=w&~o;0<o;){var ne=31-Cn(o),ae=1<<ne;T[ne]=0,P[ne]=-1;var X=$[ne];if(X!==null)for($[ne]=null,ne=0;ne<X.length;ne++){var Z=X[ne];Z!==null&&(Z.lane&=-536870913)}o&=~ae}c!==0&&Qi(r,c,0),p!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=p&~(w&~s))}function Qi(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Cn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function $i(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Cn(o),f=1<<c;f&s|r[c]&s&&(r[c]|=s),o&=~f}}function zl(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Bl(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function fi(){var r=K.p;return r!==0?r:(r=window.event,r===void 0?32:Wb(r.type))}function Uh(r,s){var o=K.p;try{return K.p=r,s()}finally{K.p=o}}var Or=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Or,cn="__reactProps$"+Or,hi="__reactContainer$"+Or,na="__reactEvents$"+Or,ra="__reactListeners$"+Or,jh="__reactHandles$"+Or,fr="__reactResources$"+Or,Xi="__reactMarker$"+Or;function co(r){delete r[Lt],delete r[cn],delete r[na],delete r[ra],delete r[jh]}function Mr(r){var s=r[Lt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[hi]||o[Lt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Ob(r);r!==null;){if(o=r[Lt])return o;r=Ob(r)}return s}r=o,o=r.parentNode}return null}function kr(r){if(r=r[Lt]||r[hi]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Zi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Ji(r){var s=r[fr];return s||(s=r[fr]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ut(r){r[Xi]=!0}var Pu=new Set,ia={};function Pr(r,s){Vr(r,s),Vr(r+"Capture",s)}function Vr(r,s){for(ia[r]=s,r=0;r<s.length;r++)Pu.add(s[r])}var sa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lr={},uo={};function zh(r){return et.call(uo,r)?!0:et.call(Lr,r)?!1:sa.test(r)?uo[r]=!0:(Lr[r]=!0,!1)}function aa(r,s,o){if(zh(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function oa(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Jn(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var la,fo;function mi(r){if(la===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);la=s&&s[1]||"",fo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+r+fo}var ho=!1;function mo(r,s){if(!r||ho)return"";ho=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var X=Z}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(Z){X=Z}r.call(ae.prototype)}}else{try{throw Error()}catch(Z){X=Z}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),w=p[0],T=p[1];if(w&&T){var P=w.split(`
`),$=T.split(`
`);for(f=c=0;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(c===P.length||f===$.length)for(c=P.length-1,f=$.length-1;1<=c&&0<=f&&P[c]!==$[f];)f--;for(;1<=c&&0<=f;c--,f--)if(P[c]!==$[f]){if(c!==1||f!==1)do if(c--,f--,0>f||P[c]!==$[f]){var ne=`
`+P[c].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=c&&0<=f);break}}}finally{ho=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?mi(o):""}function Bh(r){switch(r.tag){case 26:case 27:case 5:return mi(r.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return mo(r.type,!1);case 11:return mo(r.type.render,!1);case 1:return mo(r.type,!0);case 31:return mi("Activity");default:return""}}function hr(r){try{var s="";do s+=Bh(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Rt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function es(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ca(r){var s=es(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,p.call(this,w)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ts(r){r._valueTracker||(r._valueTracker=ca(r))}function ht(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=es(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function pi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ua=/[\n"\\]/g;function rn(r){return r.replace(ua,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fl(r,s,o,c,f,p,w,T){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),s!=null?w==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Rt(s)):r.value!==""+Rt(s)&&(r.value=""+Rt(s)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),s!=null?ql(r,w,Rt(s)):o!=null?ql(r,w,Rt(o)):c!=null&&r.removeAttribute("value"),f==null&&p!=null&&(r.defaultChecked=!!p),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+Rt(T):r.removeAttribute("name")}function Hl(r,s,o,c,f,p,w,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;o=o!=null?""+Rt(o):"",s=s!=null?""+Rt(s):o,T||s===r.value||(r.value=s),r.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=T?r.checked:!!c,r.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function ql(r,s,o){s==="number"&&pi(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ns(r,s,o,c){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Rt(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Vu(r,s,o){if(s!=null&&(s=""+Rt(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Rt(o):""}function Lu(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(Se(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Rt(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function er(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gl(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||gi.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Yl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&o[f]!==c&&Gl(r,f,c)}else for(var p in s)s.hasOwnProperty(p)&&Gl(r,p,s[p])}function po(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ju=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mr(r){return ju.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Wl=null;function Kl(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var rs=null,xn=null;function zu(r){var s=kr(r);if(s&&(r=s.stateNode)){var o=r[cn]||null;e:switch(r=s.stateNode,s.type){case"input":if(Fl(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+rn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var f=c[cn]||null;if(!f)throw Error(i(90));Fl(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&ht(c)}break e;case"textarea":Vu(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ns(r,!!o.multiple,s,!1)}}}var da=!1;function fa(r,s,o){if(da)return r(s,o);da=!0;try{var c=r(s);return c}finally{if(da=!1,(rs!==null||xn!==null)&&(Id(),rs&&(s=rs,r=xn,xn=rs=null,zu(s),r)))for(s=0;s<r.length;s++)zu(r[s])}}function is(r,s){var o=r.stateNode;if(o===null)return null;var c=o[cn]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=!1;if(Rn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){yi=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{yi=!1}var tr=null,_t=null,go=null;function Bu(){if(go)return go;var r,s=_t,o=s.length,c,f="value"in tr?tr.value:tr.textContent,p=f.length;for(r=0;r<o&&s[r]===f[r];r++);var w=o-r;for(c=1;c<=w&&s[o-c]===f[p-c];c++);return go=f.slice(r,1<c?1-c:void 0)}function ha(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ma(){return!0}function Ql(){return!1}function Zt(r){function s(o,c,f,p,w){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(o=r[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ma:Ql,this.isPropagationStopped=Ql,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),s}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Zt(vn),ga=y({},vn,{view:0,detail:0}),ya=Zt(ga),yo,va,Ur,_a=y({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ur&&(Ur&&r.type==="mousemove"?(yo=r.screenX-Ur.screenX,va=r.screenY-Ur.screenY):va=yo=0,Ur=r),yo)},movementY:function(r){return"movementY"in r?r.movementY:va}}),ba=Zt(_a),Fh=y({},_a,{dataTransfer:0}),Fu=Zt(Fh),wa=y({},ga,{relatedTarget:0}),vo=Zt(wa),Hu=y({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),$l=Zt(Hu),Xl=y({},vn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),qu=Zt(Xl),_o=y({},vn,{data:0}),Zl=Zt(_o),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Yu[r])?!!s[r]:!1}function bo(){return Wu}var Ku=y({},ga,{key:function(r){if(r.key){var s=Gu[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ha(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?vi[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bo,charCode:function(r){return r.type==="keypress"?ha(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ha(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),wo=Zt(Ku),In=y({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jl=Zt(In),Qu=y({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bo}),as=Zt(Qu),d=y({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=Zt(d),b=y({},_a,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),I=Zt(b),Q=y({},vn,{newState:0,oldState:0}),J=Zt(Q),he=[9,13,27,32],Le=Rn&&"CompositionEvent"in window,St=null;Rn&&"documentMode"in document&&(St=document.documentMode);var lt=Rn&&"TextEvent"in window&&!St,jt=Rn&&(!Le||St&&8<St&&11>=St),zn=" ",jr=!1;function pr(r,s){switch(r){case"keyup":return he.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gr(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var yr=!1;function ec(r,s){switch(r){case"compositionend":return gr(s);case"keypress":return s.which!==32?null:(jr=!0,zn);case"textInput":return r=s.data,r===zn&&jr?null:r;default:return null}}function Ax(r,s){if(yr)return r==="compositionend"||!Le&&pr(r,s)?(r=Bu(),go=_t=tr=null,yr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return jt&&s.locale!=="ko"?null:s.data;default:return null}}var Cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bv(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Cx[r.type]:s==="textarea"}function Fv(r,s,o,c){rs?xn?xn.push(c):xn=[c]:rs=c,s=Pd(s,"onChange"),0<s.length&&(o=new pa("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var tc=null,nc=null;function xx(r){Eb(r,0)}function $u(r){var s=Zi(r);if(ht(s))return r}function Hv(r,s){if(r==="change")return s}var qv=!1;if(Rn){var Hh;if(Rn){var qh="oninput"in document;if(!qh){var Gv=document.createElement("div");Gv.setAttribute("oninput","return;"),qh=typeof Gv.oninput=="function"}Hh=qh}else Hh=!1;qv=Hh&&(!document.documentMode||9<document.documentMode)}function Yv(){tc&&(tc.detachEvent("onpropertychange",Wv),nc=tc=null)}function Wv(r){if(r.propertyName==="value"&&$u(nc)){var s=[];Fv(s,nc,r,Kl(r)),fa(xx,s)}}function Rx(r,s,o){r==="focusin"?(Yv(),tc=s,nc=o,tc.attachEvent("onpropertychange",Wv)):r==="focusout"&&Yv()}function Ix(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return $u(nc)}function Nx(r,s){if(r==="click")return $u(s)}function Dx(r,s){if(r==="input"||r==="change")return $u(s)}function Ox(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:Ox;function rc(r,s){if(Bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!et.call(s,f)||!Bn(r[f],s[f]))return!1}return!0}function Kv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Qv(r,s){var o=Kv(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Kv(o)}}function $v(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?$v(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Xv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=pi(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=pi(r.document)}return s}function Gh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Mx=Rn&&"documentMode"in document&&11>=document.documentMode,Eo=null,Yh=null,ic=null,Wh=!1;function Zv(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Wh||Eo==null||Eo!==pi(c)||(c=Eo,"selectionStart"in c&&Gh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ic&&rc(ic,c)||(ic=c,c=Pd(Yh,"onSelect"),0<c.length&&(s=new pa("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Eo)))}function Ea(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var To={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},Kh={},Jv={};Rn&&(Jv=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Ta(r){if(Kh[r])return Kh[r];if(!To[r])return r;var s=To[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Jv)return Kh[r]=s[o];return r}var e_=Ta("animationend"),t_=Ta("animationiteration"),n_=Ta("animationstart"),kx=Ta("transitionrun"),Px=Ta("transitionstart"),Vx=Ta("transitioncancel"),r_=Ta("transitionend"),i_=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function vr(r,s){i_.set(r,s),Pr(s,[r])}var s_=new WeakMap;function nr(r,s){if(typeof r=="object"&&r!==null){var o=s_.get(r);return o!==void 0?o:(s={value:r,source:s,stack:hr(s)},s_.set(r,s),s)}return{value:r,source:s,stack:hr(s)}}var rr=[],So=0,$h=0;function Xu(){for(var r=So,s=$h=So=0;s<r;){var o=rr[s];rr[s++]=null;var c=rr[s];rr[s++]=null;var f=rr[s];rr[s++]=null;var p=rr[s];if(rr[s++]=null,c!==null&&f!==null){var w=c.pending;w===null?f.next=f:(f.next=w.next,w.next=f),c.pending=f}p!==0&&a_(o,f,p)}}function Zu(r,s,o,c){rr[So++]=r,rr[So++]=s,rr[So++]=o,rr[So++]=c,$h|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Xh(r,s,o,c){return Zu(r,s,o,c),Ju(r)}function Ao(r,s){return Zu(r,null,null,s),Ju(r)}function a_(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=r.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(f=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,f&&s!==null&&(f=31-Cn(o),r=p.hiddenUpdates,c=r[f],c===null?r[f]=[s]:c.push(s),s.lane=o|536870912),p):null}function Ju(r){if(50<Ic)throw Ic=0,rp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Co={};function Lx(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(r,s,o,c){return new Lx(r,s,o,c)}function Zh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function _i(r,s){var o=r.alternate;return o===null?(o=Fn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function o_(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function ed(r,s,o,c,f,p){var w=0;if(c=r,typeof r=="function")Zh(r)&&(w=1);else if(typeof r=="string")w=jR(r,o,me.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case M:return r=Fn(31,o,s,f),r.elementType=M,r.lanes=p,r;case D:return Sa(o.children,f,p,s);case S:w=8,f|=24;break;case N:return r=Fn(12,o,s,f|2),r.elementType=N,r.lanes=p,r;case te:return r=Fn(13,o,s,f),r.elementType=te,r.lanes=p,r;case le:return r=Fn(19,o,s,f),r.elementType=le,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:case G:w=10;break e;case H:w=9;break e;case ee:w=11;break e;case O:w=14;break e;case x:w=16,c=null;break e}w=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Fn(w,o,s,f),s.elementType=r,s.type=c,s.lanes=p,s}function Sa(r,s,o,c){return r=Fn(7,r,c,s),r.lanes=o,r}function Jh(r,s,o){return r=Fn(6,r,null,s),r.lanes=o,r}function em(r,s,o){return s=Fn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var xo=[],Ro=0,td=null,nd=0,ir=[],sr=0,Aa=null,bi=1,wi="";function Ca(r,s){xo[Ro++]=nd,xo[Ro++]=td,td=r,nd=s}function l_(r,s,o){ir[sr++]=bi,ir[sr++]=wi,ir[sr++]=Aa,Aa=r;var c=bi;r=wi;var f=32-Cn(c)-1;c&=~(1<<f),o+=1;var p=32-Cn(s)+f;if(30<p){var w=f-f%5;p=(c&(1<<w)-1).toString(32),c>>=w,f-=w,bi=1<<32-Cn(s)+f|o<<f|c,wi=p+r}else bi=1<<p|o<<f|c,wi=r}function tm(r){r.return!==null&&(Ca(r,1),l_(r,1,0))}function nm(r){for(;r===td;)td=xo[--Ro],xo[Ro]=null,nd=xo[--Ro],xo[Ro]=null;for(;r===Aa;)Aa=ir[--sr],ir[sr]=null,wi=ir[--sr],ir[sr]=null,bi=ir[--sr],ir[sr]=null}var Nn=null,Mt=null,st=!1,xa=null,zr=!1,rm=Error(i(519));function Ra(r){var s=Error(i(418,""));throw oc(nr(s,r)),rm}function c_(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Lt]=r,s[cn]=c,o){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(o=0;o<Dc.length;o++)Qe(Dc[o],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Qe("invalid",s),Hl(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ts(s);break;case"select":Qe("invalid",s);break;case"textarea":Qe("invalid",s),Lu(s,c.value,c.defaultValue,c.children),ts(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||Cb(s.textContent,o)?(c.popover!=null&&(Qe("beforetoggle",s),Qe("toggle",s)),c.onScroll!=null&&Qe("scroll",s),c.onScrollEnd!=null&&Qe("scrollend",s),c.onClick!=null&&(s.onclick=Vd),s=!0):s=!1,s||Ra(r)}function u_(r){for(Nn=r.return;Nn;)switch(Nn.tag){case 5:case 13:zr=!1;return;case 27:case 3:zr=!0;return;default:Nn=Nn.return}}function sc(r){if(r!==Nn)return!1;if(!st)return u_(r),st=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||_p(r.type,r.memoizedProps)),o=!o),o&&Mt&&Ra(r),u_(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Mt=br(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Mt=null}}else s===27?(s=Mt,Es(r.type)?(r=Tp,Tp=null,Mt=r):Mt=s):Mt=Nn?br(r.stateNode.nextSibling):null;return!0}function ac(){Mt=Nn=null,st=!1}function d_(){var r=xa;return r!==null&&(Mn===null?Mn=r:Mn.push.apply(Mn,r),xa=null),r}function oc(r){xa===null?xa=[r]:xa.push(r)}var im=re(null),Ia=null,Ei=null;function os(r,s,o){ce(im,s._currentValue),s._currentValue=o}function Ti(r){r._currentValue=im.current,ue(im)}function sm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function am(r,s,o,c){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var p=f.dependencies;if(p!==null){var w=f.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=f;for(var P=0;P<s.length;P++)if(T.context===s[P]){p.lanes|=o,T=p.alternate,T!==null&&(T.lanes|=o),sm(p.return,o,r),c||(w=null);break e}p=T.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(i(341));w.lanes|=o,p=w.alternate,p!==null&&(p.lanes|=o),sm(w,o,r),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===r){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function lc(r,s,o,c){r=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var T=f.type;Bn(f.pendingProps.value,w.value)||(r!==null?r.push(T):r=[T])}}else if(f===de.current){if(w=f.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(Lc):r=[Lc])}f=f.return}r!==null&&am(s,r,o,c),s.flags|=262144}function rd(r){for(r=r.firstContext;r!==null;){if(!Bn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Na(r){Ia=r,Ei=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function _n(r){return f_(Ia,r)}function id(r,s){return Ia===null&&Na(r),f_(r,s)}function f_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ei===null){if(r===null)throw Error(i(308));Ei=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ei=Ei.next=s;return o}var Ux=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},jx=n.unstable_scheduleCallback,zx=n.unstable_NormalPriority,Jt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function om(){return{controller:new Ux,data:new Map,refCount:0}}function cc(r){r.refCount--,r.refCount===0&&jx(zx,function(){r.controller.abort()})}var uc=null,lm=0,Io=0,No=null;function Bx(r,s){if(uc===null){var o=uc=[];lm=0,Io=up(),No={status:"pending",value:void 0,then:function(c){o.push(c)}}}return lm++,s.then(h_,h_),s}function h_(){if(--lm===0&&uc!==null){No!==null&&(No.status="fulfilled");var r=uc;uc=null,Io=0,No=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Fx(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var m_=Y.S;Y.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Bx(r,s),m_!==null&&m_(r,s)};var Da=re(null);function cm(){var r=Da.current;return r!==null?r:bt.pooledCache}function sd(r,s){s===null?ce(Da,Da.current):ce(Da,s.pool)}function p_(){var r=cm();return r===null?null:{parent:Jt._currentValue,pool:r}}var dc=Error(i(460)),g_=Error(i(474)),ad=Error(i(542)),um={then:function(){}};function y_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function od(){}function v_(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(od,od),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,b_(r),r;default:if(typeof s.status=="string")s.then(od,od);else{if(r=bt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,b_(r),r}throw fc=s,dc}}var fc=null;function __(){if(fc===null)throw Error(i(459));var r=fc;return fc=null,r}function b_(r){if(r===dc||r===ad)throw Error(i(483))}var ls=!1;function dm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function cs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function us(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ct&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Ju(r),a_(r,null,o),s}return Zu(r,c,s,o),Ju(r)}function hc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,$i(r,o)}}function hm(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=w:p=p.next=w,o=o.next}while(o!==null);p===null?f=p=s:p=p.next=s}else f=p=s;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var mm=!1;function mc(){if(mm){var r=No;if(r!==null)throw r}}function pc(r,s,o,c){mm=!1;var f=r.updateQueue;ls=!1;var p=f.firstBaseUpdate,w=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var P=T,$=P.next;P.next=null,w===null?p=$:w.next=$,w=P;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,T=ne.lastBaseUpdate,T!==w&&(T===null?ne.firstBaseUpdate=$:T.next=$,ne.lastBaseUpdate=P))}if(p!==null){var ae=f.baseState;w=0,ne=$=P=null,T=p;do{var X=T.lane&-536870913,Z=X!==T.lane;if(Z?(nt&X)===X:(c&X)===X){X!==0&&X===Io&&(mm=!0),ne!==null&&(ne=ne.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Me=r,Ie=T;X=s;var gt=o;switch(Ie.tag){case 1:if(Me=Ie.payload,typeof Me=="function"){ae=Me.call(gt,ae,X);break e}ae=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ie.payload,X=typeof Me=="function"?Me.call(gt,ae,X):Me,X==null)break e;ae=y({},ae,X);break e;case 2:ls=!0}}X=T.callback,X!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ne===null?($=ne=Z,P=ae):ne=ne.next=Z,w|=X;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Z=T,T=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);ne===null&&(P=ae),f.baseState=P,f.firstBaseUpdate=$,f.lastBaseUpdate=ne,p===null&&(f.shared.lanes=0),vs|=w,r.lanes=w,r.memoizedState=ae}}function w_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function E_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)w_(o[r],s)}var Do=re(null),ld=re(0);function T_(r,s){r=Ni,ce(ld,r),ce(Do,s),Ni=r|s.baseLanes}function pm(){ce(ld,Ni),ce(Do,Do.current)}function gm(){Ni=ld.current,ue(Do),ue(ld)}var ds=0,ze=null,mt=null,Gt=null,cd=!1,Oo=!1,Oa=!1,ud=0,gc=0,Mo=null,Hx=0;function zt(){throw Error(i(321))}function ym(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Bn(r[o],s[o]))return!1;return!0}function vm(r,s,o,c,f,p){return ds=p,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=r===null||r.memoizedState===null?a0:o0,Oa=!1,p=o(c,f),Oa=!1,Oo&&(p=A_(s,o,c,f)),S_(r),p}function S_(r){Y.H=gd;var s=mt!==null&&mt.next!==null;if(ds=0,Gt=mt=ze=null,cd=!1,gc=0,Mo=null,s)throw Error(i(300));r===null||sn||(r=r.dependencies,r!==null&&rd(r)&&(sn=!0))}function A_(r,s,o,c){ze=r;var f=0;do{if(Oo&&(Mo=null),gc=0,Oo=!1,25<=f)throw Error(i(301));if(f+=1,Gt=mt=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=$x,p=s(o,c)}while(Oo);return p}function qx(){var r=Y.H,s=r.useState()[0];return s=typeof s.then=="function"?yc(s):s,r=r.useState()[0],(mt!==null?mt.memoizedState:null)!==r&&(ze.flags|=1024),s}function _m(){var r=ud!==0;return ud=0,r}function bm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function wm(r){if(cd){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}cd=!1}ds=0,Gt=mt=ze=null,Oo=!1,gc=ud=0,Mo=null}function Dn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?ze.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function Yt(){if(mt===null){var r=ze.alternate;r=r!==null?r.memoizedState:null}else r=mt.next;var s=Gt===null?ze.memoizedState:Gt.next;if(s!==null)Gt=s,mt=r;else{if(r===null)throw ze.alternate===null?Error(i(467)):Error(i(310));mt=r,r={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Gt===null?ze.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function Em(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yc(r){var s=gc;return gc+=1,Mo===null&&(Mo=[]),r=v_(Mo,r,s),s=ze,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?a0:o0),r}function dd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return yc(r);if(r.$$typeof===G)return _n(r)}throw Error(i(438,String(r)))}function Tm(r){var s=null,o=ze.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Em(),ze.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=U;return s.index++,o}function Si(r,s){return typeof s=="function"?s(r):s}function fd(r){var s=Yt();return Sm(s,mt,r)}function Sm(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var f=r.baseQueue,p=c.pending;if(p!==null){if(f!==null){var w=f.next;f.next=p.next,p.next=w}s.baseQueue=f=p,c.pending=null}if(p=r.baseState,f===null)r.memoizedState=p;else{s=f.next;var T=w=null,P=null,$=s,ne=!1;do{var ae=$.lane&-536870913;if(ae!==$.lane?(nt&ae)===ae:(ds&ae)===ae){var X=$.revertLane;if(X===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ae===Io&&(ne=!0);else if((ds&X)===X){$=$.next,X===Io&&(ne=!0);continue}else ae={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(T=P=ae,w=p):P=P.next=ae,ze.lanes|=X,vs|=X;ae=$.action,Oa&&o(p,ae),p=$.hasEagerState?$.eagerState:o(p,ae)}else X={lane:ae,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},P===null?(T=P=X,w=p):P=P.next=X,ze.lanes|=ae,vs|=ae;$=$.next}while($!==null&&$!==s);if(P===null?w=p:P.next=T,!Bn(p,r.memoizedState)&&(sn=!0,ne&&(o=No,o!==null)))throw o;r.memoizedState=p,r.baseState=w,r.baseQueue=P,c.lastRenderedState=p}return f===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Am(r){var s=Yt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,f=o.pending,p=s.memoizedState;if(f!==null){o.pending=null;var w=f=f.next;do p=r(p,w.action),w=w.next;while(w!==f);Bn(p,s.memoizedState)||(sn=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,c]}function C_(r,s,o){var c=ze,f=Yt(),p=st;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var w=!Bn((mt||f).memoizedState,o);w&&(f.memoizedState=o,sn=!0),f=f.queue;var T=I_.bind(null,c,f,r);if(vc(2048,8,T,[r]),f.getSnapshot!==s||w||Gt!==null&&Gt.memoizedState.tag&1){if(c.flags|=2048,ko(9,hd(),R_.bind(null,c,f,o,s),null),bt===null)throw Error(i(349));p||(ds&124)!==0||x_(c,s,o)}return o}function x_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=ze.updateQueue,s===null?(s=Em(),ze.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function R_(r,s,o,c){s.value=o,s.getSnapshot=c,N_(s)&&D_(r)}function I_(r,s,o){return o(function(){N_(s)&&D_(r)})}function N_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Bn(r,o)}catch{return!0}}function D_(r){var s=Ao(r,2);s!==null&&Wn(s,r,2)}function Cm(r){var s=Dn();if(typeof r=="function"){var o=r;if(r=o(),Oa){Xn(!0);try{o()}finally{Xn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:r},s}function O_(r,s,o,c){return r.baseState=o,Sm(r,mt,typeof c=="function"?c:Si)}function Gx(r,s,o,c,f){if(pd(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};Y.T!==null?o(!0):p.isTransition=!1,c(p),o=s.pending,o===null?(p.next=s.pending=p,M_(s,p)):(p.next=o.next,s.pending=o.next=p)}}function M_(r,s){var o=s.action,c=s.payload,f=r.state;if(s.isTransition){var p=Y.T,w={};Y.T=w;try{var T=o(f,c),P=Y.S;P!==null&&P(w,T),k_(r,s,T)}catch($){xm(r,s,$)}finally{Y.T=p}}else try{p=o(f,c),k_(r,s,p)}catch($){xm(r,s,$)}}function k_(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){P_(r,s,c)},function(c){return xm(r,s,c)}):P_(r,s,o)}function P_(r,s,o){s.status="fulfilled",s.value=o,V_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,M_(r,o)))}function xm(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,V_(s),s=s.next;while(s!==c)}r.action=null}function V_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function L_(r,s){return s}function U_(r,s){if(st){var o=bt.formState;if(o!==null){e:{var c=ze;if(st){if(Mt){t:{for(var f=Mt,p=zr;f.nodeType!==8;){if(!p){f=null;break t}if(f=br(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Mt=br(f.nextSibling),c=f.data==="F!";break e}}Ra(c)}c=!1}c&&(s=o[0])}}return o=Dn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:L_,lastRenderedState:s},o.queue=c,o=r0.bind(null,ze,c),c.dispatch=o,c=Cm(!1),p=Om.bind(null,ze,!1,c.queue),c=Dn(),f={state:s,dispatch:null,action:r,pending:null},c.queue=f,o=Gx.bind(null,ze,f,p,o),f.dispatch=o,c.memoizedState=r,[s,o,!1]}function j_(r){var s=Yt();return z_(s,mt,r)}function z_(r,s,o){if(s=Sm(r,s,L_)[0],r=fd(Si)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=yc(s)}catch(w){throw w===dc?ad:w}else c=s;s=Yt();var f=s.queue,p=f.dispatch;return o!==s.memoizedState&&(ze.flags|=2048,ko(9,hd(),Yx.bind(null,f,o),null)),[c,p,r]}function Yx(r,s){r.action=s}function B_(r){var s=Yt(),o=mt;if(o!==null)return z_(s,o,r);Yt(),s=s.memoizedState,o=Yt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function ko(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=ze.updateQueue,s===null&&(s=Em(),ze.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function hd(){return{destroy:void 0,resource:void 0}}function F_(){return Yt().memoizedState}function md(r,s,o,c){var f=Dn();c=c===void 0?null:c,ze.flags|=r,f.memoizedState=ko(1|s,hd(),o,c)}function vc(r,s,o,c){var f=Yt();c=c===void 0?null:c;var p=f.memoizedState.inst;mt!==null&&c!==null&&ym(c,mt.memoizedState.deps)?f.memoizedState=ko(s,p,o,c):(ze.flags|=r,f.memoizedState=ko(1|s,p,o,c))}function H_(r,s){md(8390656,8,r,s)}function q_(r,s){vc(2048,8,r,s)}function G_(r,s){return vc(4,2,r,s)}function Y_(r,s){return vc(4,4,r,s)}function W_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function K_(r,s,o){o=o!=null?o.concat([r]):null,vc(4,4,W_.bind(null,s,r),o)}function Rm(){}function Q_(r,s){var o=Yt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&ym(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function $_(r,s){var o=Yt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&ym(s,c[1]))return c[0];if(c=r(),Oa){Xn(!0);try{r()}finally{Xn(!1)}}return o.memoizedState=[c,s],c}function Im(r,s,o){return o===void 0||(ds&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=J0(),ze.lanes|=r,vs|=r,o)}function X_(r,s,o,c){return Bn(o,s)?o:Do.current!==null?(r=Im(r,o,c),Bn(r,s)||(sn=!0),r):(ds&42)===0?(sn=!0,r.memoizedState=o):(r=J0(),ze.lanes|=r,vs|=r,s)}function Z_(r,s,o,c,f){var p=K.p;K.p=p!==0&&8>p?p:8;var w=Y.T,T={};Y.T=T,Om(r,!1,s,o);try{var P=f(),$=Y.S;if($!==null&&$(T,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var ne=Fx(P,c);_c(r,s,ne,Yn(r))}else _c(r,s,c,Yn(r))}catch(ae){_c(r,s,{then:function(){},status:"rejected",reason:ae},Yn())}finally{K.p=p,Y.T=w}}function Wx(){}function Nm(r,s,o,c){if(r.tag!==5)throw Error(i(476));var f=J_(r).queue;Z_(r,f,s,z,o===null?Wx:function(){return e0(r),o(c)})}function J_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:z},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function e0(r){var s=J_(r).next.queue;_c(r,s,{},Yn())}function Dm(){return _n(Lc)}function t0(){return Yt().memoizedState}function n0(){return Yt().memoizedState}function Kx(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Yn();r=cs(o);var c=us(s,r,o);c!==null&&(Wn(c,s,o),hc(c,s,o)),s={cache:om()},r.payload=s;return}s=s.return}}function Qx(r,s,o){var c=Yn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},pd(r)?i0(s,o):(o=Xh(r,s,o,c),o!==null&&(Wn(o,r,c),s0(o,s,c)))}function r0(r,s,o){var c=Yn();_c(r,s,o,c)}function _c(r,s,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(pd(r))i0(s,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var w=s.lastRenderedState,T=p(w,o);if(f.hasEagerState=!0,f.eagerState=T,Bn(T,w))return Zu(r,s,f,0),bt===null&&Xu(),!1}catch{}finally{}if(o=Xh(r,s,f,c),o!==null)return Wn(o,r,c),s0(o,s,c),!0}return!1}function Om(r,s,o,c){if(c={lane:2,revertLane:up(),action:c,hasEagerState:!1,eagerState:null,next:null},pd(r)){if(s)throw Error(i(479))}else s=Xh(r,o,c,2),s!==null&&Wn(s,r,2)}function pd(r){var s=r.alternate;return r===ze||s!==null&&s===ze}function i0(r,s){Oo=cd=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function s0(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,$i(r,o)}}var gd={readContext:_n,use:dd,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},a0={readContext:_n,use:dd,useCallback:function(r,s){return Dn().memoizedState=[r,s===void 0?null:s],r},useContext:_n,useEffect:H_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,md(4194308,4,W_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return md(4194308,4,r,s)},useInsertionEffect:function(r,s){md(4,2,r,s)},useMemo:function(r,s){var o=Dn();s=s===void 0?null:s;var c=r();if(Oa){Xn(!0);try{r()}finally{Xn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Dn();if(o!==void 0){var f=o(s);if(Oa){Xn(!0);try{o(s)}finally{Xn(!1)}}}else f=s;return c.memoizedState=c.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},c.queue=r,r=r.dispatch=Qx.bind(null,ze,r),[c.memoizedState,r]},useRef:function(r){var s=Dn();return r={current:r},s.memoizedState=r},useState:function(r){r=Cm(r);var s=r.queue,o=r0.bind(null,ze,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Rm,useDeferredValue:function(r,s){var o=Dn();return Im(o,r,s)},useTransition:function(){var r=Cm(!1);return r=Z_.bind(null,ze,r.queue,!0,!1),Dn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=ze,f=Dn();if(st){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),bt===null)throw Error(i(349));(nt&124)!==0||x_(c,s,o)}f.memoizedState=o;var p={value:o,getSnapshot:s};return f.queue=p,H_(I_.bind(null,c,p,r),[r]),c.flags|=2048,ko(9,hd(),R_.bind(null,c,p,o,s),null),o},useId:function(){var r=Dn(),s=bt.identifierPrefix;if(st){var o=wi,c=bi;o=(c&~(1<<32-Cn(c)-1)).toString(32)+o,s=""+s+"R"+o,o=ud++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=Hx++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Dm,useFormState:U_,useActionState:U_,useOptimistic:function(r){var s=Dn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Om.bind(null,ze,!0,o),o.dispatch=s,[r,s]},useMemoCache:Tm,useCacheRefresh:function(){return Dn().memoizedState=Kx.bind(null,ze)}},o0={readContext:_n,use:dd,useCallback:Q_,useContext:_n,useEffect:q_,useImperativeHandle:K_,useInsertionEffect:G_,useLayoutEffect:Y_,useMemo:$_,useReducer:fd,useRef:F_,useState:function(){return fd(Si)},useDebugValue:Rm,useDeferredValue:function(r,s){var o=Yt();return X_(o,mt.memoizedState,r,s)},useTransition:function(){var r=fd(Si)[0],s=Yt().memoizedState;return[typeof r=="boolean"?r:yc(r),s]},useSyncExternalStore:C_,useId:t0,useHostTransitionStatus:Dm,useFormState:j_,useActionState:j_,useOptimistic:function(r,s){var o=Yt();return O_(o,mt,r,s)},useMemoCache:Tm,useCacheRefresh:n0},$x={readContext:_n,use:dd,useCallback:Q_,useContext:_n,useEffect:q_,useImperativeHandle:K_,useInsertionEffect:G_,useLayoutEffect:Y_,useMemo:$_,useReducer:Am,useRef:F_,useState:function(){return Am(Si)},useDebugValue:Rm,useDeferredValue:function(r,s){var o=Yt();return mt===null?Im(o,r,s):X_(o,mt.memoizedState,r,s)},useTransition:function(){var r=Am(Si)[0],s=Yt().memoizedState;return[typeof r=="boolean"?r:yc(r),s]},useSyncExternalStore:C_,useId:t0,useHostTransitionStatus:Dm,useFormState:B_,useActionState:B_,useOptimistic:function(r,s){var o=Yt();return mt!==null?O_(o,mt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Tm,useCacheRefresh:n0},Po=null,bc=0;function yd(r){var s=bc;return bc+=1,Po===null&&(Po=[]),v_(Po,r,s)}function wc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function vd(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function l0(r){var s=r._init;return s(r._payload)}function c0(r){function s(q,F){if(r){var W=q.deletions;W===null?(q.deletions=[F],q.flags|=16):W.push(F)}}function o(q,F){if(!r)return null;for(;F!==null;)s(q,F),F=F.sibling;return null}function c(q){for(var F=new Map;q!==null;)q.key!==null?F.set(q.key,q):F.set(q.index,q),q=q.sibling;return F}function f(q,F){return q=_i(q,F),q.index=0,q.sibling=null,q}function p(q,F,W){return q.index=W,r?(W=q.alternate,W!==null?(W=W.index,W<F?(q.flags|=67108866,F):W):(q.flags|=67108866,F)):(q.flags|=1048576,F)}function w(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function T(q,F,W,ie){return F===null||F.tag!==6?(F=Jh(W,q.mode,ie),F.return=q,F):(F=f(F,W),F.return=q,F)}function P(q,F,W,ie){var we=W.type;return we===D?ne(q,F,W.props.children,ie,W.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===x&&l0(we)===F.type)?(F=f(F,W.props),wc(F,W),F.return=q,F):(F=ed(W.type,W.key,W.props,null,q.mode,ie),wc(F,W),F.return=q,F)}function $(q,F,W,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=em(W,q.mode,ie),F.return=q,F):(F=f(F,W.children||[]),F.return=q,F)}function ne(q,F,W,ie,we){return F===null||F.tag!==7?(F=Sa(W,q.mode,ie,we),F.return=q,F):(F=f(F,W),F.return=q,F)}function ae(q,F,W){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Jh(""+F,q.mode,W),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return W=ed(F.type,F.key,F.props,null,q.mode,W),wc(W,F),W.return=q,W;case C:return F=em(F,q.mode,W),F.return=q,F;case x:var ie=F._init;return F=ie(F._payload),ae(q,F,W)}if(Se(F)||j(F))return F=Sa(F,q.mode,W,null),F.return=q,F;if(typeof F.then=="function")return ae(q,yd(F),W);if(F.$$typeof===G)return ae(q,id(q,F),W);vd(q,F)}return null}function X(q,F,W,ie){var we=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return we!==null?null:T(q,F,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return W.key===we?P(q,F,W,ie):null;case C:return W.key===we?$(q,F,W,ie):null;case x:return we=W._init,W=we(W._payload),X(q,F,W,ie)}if(Se(W)||j(W))return we!==null?null:ne(q,F,W,ie,null);if(typeof W.then=="function")return X(q,F,yd(W),ie);if(W.$$typeof===G)return X(q,F,id(q,W),ie);vd(q,W)}return null}function Z(q,F,W,ie,we){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return q=q.get(W)||null,T(F,q,""+ie,we);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:return q=q.get(ie.key===null?W:ie.key)||null,P(F,q,ie,we);case C:return q=q.get(ie.key===null?W:ie.key)||null,$(F,q,ie,we);case x:var Ye=ie._init;return ie=Ye(ie._payload),Z(q,F,W,ie,we)}if(Se(ie)||j(ie))return q=q.get(W)||null,ne(F,q,ie,we,null);if(typeof ie.then=="function")return Z(q,F,W,yd(ie),we);if(ie.$$typeof===G)return Z(q,F,W,id(F,ie),we);vd(F,ie)}return null}function Me(q,F,W,ie){for(var we=null,Ye=null,xe=F,De=F=0,on=null;xe!==null&&De<W.length;De++){xe.index>De?(on=xe,xe=null):on=xe.sibling;var it=X(q,xe,W[De],ie);if(it===null){xe===null&&(xe=on);break}r&&xe&&it.alternate===null&&s(q,xe),F=p(it,F,De),Ye===null?we=it:Ye.sibling=it,Ye=it,xe=on}if(De===W.length)return o(q,xe),st&&Ca(q,De),we;if(xe===null){for(;De<W.length;De++)xe=ae(q,W[De],ie),xe!==null&&(F=p(xe,F,De),Ye===null?we=xe:Ye.sibling=xe,Ye=xe);return st&&Ca(q,De),we}for(xe=c(xe);De<W.length;De++)on=Z(xe,q,De,W[De],ie),on!==null&&(r&&on.alternate!==null&&xe.delete(on.key===null?De:on.key),F=p(on,F,De),Ye===null?we=on:Ye.sibling=on,Ye=on);return r&&xe.forEach(function(xs){return s(q,xs)}),st&&Ca(q,De),we}function Ie(q,F,W,ie){if(W==null)throw Error(i(151));for(var we=null,Ye=null,xe=F,De=F=0,on=null,it=W.next();xe!==null&&!it.done;De++,it=W.next()){xe.index>De?(on=xe,xe=null):on=xe.sibling;var xs=X(q,xe,it.value,ie);if(xs===null){xe===null&&(xe=on);break}r&&xe&&xs.alternate===null&&s(q,xe),F=p(xs,F,De),Ye===null?we=xs:Ye.sibling=xs,Ye=xs,xe=on}if(it.done)return o(q,xe),st&&Ca(q,De),we;if(xe===null){for(;!it.done;De++,it=W.next())it=ae(q,it.value,ie),it!==null&&(F=p(it,F,De),Ye===null?we=it:Ye.sibling=it,Ye=it);return st&&Ca(q,De),we}for(xe=c(xe);!it.done;De++,it=W.next())it=Z(xe,q,De,it.value,ie),it!==null&&(r&&it.alternate!==null&&xe.delete(it.key===null?De:it.key),F=p(it,F,De),Ye===null?we=it:Ye.sibling=it,Ye=it);return r&&xe.forEach(function(XR){return s(q,XR)}),st&&Ca(q,De),we}function gt(q,F,W,ie){if(typeof W=="object"&&W!==null&&W.type===D&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case E:e:{for(var we=W.key;F!==null;){if(F.key===we){if(we=W.type,we===D){if(F.tag===7){o(q,F.sibling),ie=f(F,W.props.children),ie.return=q,q=ie;break e}}else if(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===x&&l0(we)===F.type){o(q,F.sibling),ie=f(F,W.props),wc(ie,W),ie.return=q,q=ie;break e}o(q,F);break}else s(q,F);F=F.sibling}W.type===D?(ie=Sa(W.props.children,q.mode,ie,W.key),ie.return=q,q=ie):(ie=ed(W.type,W.key,W.props,null,q.mode,ie),wc(ie,W),ie.return=q,q=ie)}return w(q);case C:e:{for(we=W.key;F!==null;){if(F.key===we)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){o(q,F.sibling),ie=f(F,W.children||[]),ie.return=q,q=ie;break e}else{o(q,F);break}else s(q,F);F=F.sibling}ie=em(W,q.mode,ie),ie.return=q,q=ie}return w(q);case x:return we=W._init,W=we(W._payload),gt(q,F,W,ie)}if(Se(W))return Me(q,F,W,ie);if(j(W)){if(we=j(W),typeof we!="function")throw Error(i(150));return W=we.call(W),Ie(q,F,W,ie)}if(typeof W.then=="function")return gt(q,F,yd(W),ie);if(W.$$typeof===G)return gt(q,F,id(q,W),ie);vd(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,F!==null&&F.tag===6?(o(q,F.sibling),ie=f(F,W),ie.return=q,q=ie):(o(q,F),ie=Jh(W,q.mode,ie),ie.return=q,q=ie),w(q)):o(q,F)}return function(q,F,W,ie){try{bc=0;var we=gt(q,F,W,ie);return Po=null,we}catch(xe){if(xe===dc||xe===ad)throw xe;var Ye=Fn(29,xe,null,q.mode);return Ye.lanes=ie,Ye.return=q,Ye}finally{}}}var Vo=c0(!0),u0=c0(!1),ar=re(null),Br=null;function fs(r){var s=r.alternate;ce(en,en.current&1),ce(ar,r),Br===null&&(s===null||Do.current!==null||s.memoizedState!==null)&&(Br=r)}function d0(r){if(r.tag===22){if(ce(en,en.current),ce(ar,r),Br===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Br=r)}}else hs()}function hs(){ce(en,en.current),ce(ar,ar.current)}function Ai(r){ue(ar),Br===r&&(Br=null),ue(en)}var en=re(0);function _d(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Ep(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Mm(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var km={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Yn(),f=cs(c);f.payload=s,o!=null&&(f.callback=o),s=us(r,f,c),s!==null&&(Wn(s,r,c),hc(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Yn(),f=cs(c);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=us(r,f,c),s!==null&&(Wn(s,r,c),hc(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Yn(),c=cs(o);c.tag=2,s!=null&&(c.callback=s),s=us(r,c,o),s!==null&&(Wn(s,r,o),hc(s,r,o))}};function f0(r,s,o,c,f,p,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,p,w):s.prototype&&s.prototype.isPureReactComponent?!rc(o,c)||!rc(f,p):!0}function h0(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&km.enqueueReplaceState(s,s.state,null)}function Ma(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var bd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function m0(r){bd(r)}function p0(r){console.error(r)}function g0(r){bd(r)}function wd(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function y0(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Pm(r,s,o){return o=cs(o),o.tag=3,o.payload={element:null},o.callback=function(){wd(r,s)},o}function v0(r){return r=cs(r),r.tag=3,r}function _0(r,s,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;r.payload=function(){return f(p)},r.callback=function(){y0(s,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){y0(s,o,c),typeof f!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function Xx(r,s,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&lc(s,o,f,!0),o=ar.current,o!==null){switch(o.tag){case 13:return Br===null?sp():o.alternate===null&&kt===0&&(kt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===um?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),op(r,c,f)),!1;case 22:return o.flags|=65536,c===um?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),op(r,c,f)),!1}throw Error(i(435,o.tag))}return op(r,c,f),sp(),!1}if(st)return s=ar.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==rm&&(r=Error(i(422),{cause:c}),oc(nr(r,o)))):(c!==rm&&(s=Error(i(423),{cause:c}),oc(nr(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,c=nr(c,o),f=Pm(r.stateNode,c,f),hm(r,f),kt!==4&&(kt=2)),!1;var p=Error(i(520),{cause:c});if(p=nr(p,o),Rc===null?Rc=[p]:Rc.push(p),kt!==4&&(kt=2),s===null)return!0;c=nr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Pm(o.stateNode,c,r),hm(o,r),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(_s===null||!_s.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=v0(f),_0(f,r,o,c),hm(o,f),!1}o=o.return}while(o!==null);return!1}var b0=Error(i(461)),sn=!1;function un(r,s,o,c){s.child=r===null?u0(s,null,o,c):Vo(s,r.child,o,c)}function w0(r,s,o,c,f){o=o.render;var p=s.ref;if("ref"in c){var w={};for(var T in c)T!=="ref"&&(w[T]=c[T])}else w=c;return Na(s),c=vm(r,s,o,w,p,f),T=_m(),r!==null&&!sn?(bm(r,s,f),Ci(r,s,f)):(st&&T&&tm(s),s.flags|=1,un(r,s,c,f),s.child)}function E0(r,s,o,c,f){if(r===null){var p=o.type;return typeof p=="function"&&!Zh(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,T0(r,s,p,c,f)):(r=ed(o.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!Hm(r,f)){var w=p.memoizedProps;if(o=o.compare,o=o!==null?o:rc,o(w,c)&&r.ref===s.ref)return Ci(r,s,f)}return s.flags|=1,r=_i(p,c),r.ref=s.ref,r.return=s,s.child=r}function T0(r,s,o,c,f){if(r!==null){var p=r.memoizedProps;if(rc(p,c)&&r.ref===s.ref)if(sn=!1,s.pendingProps=c=p,Hm(r,f))(r.flags&131072)!==0&&(sn=!0);else return s.lanes=r.lanes,Ci(r,s,f)}return Vm(r,s,o,c,f)}function S0(r,s,o){var c=s.pendingProps,f=c.children,p=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=p!==null?p.baseLanes|o:o,r!==null){for(f=s.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;s.childLanes=p&~c}else s.childLanes=0,s.child=null;return A0(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&sd(s,p!==null?p.cachePool:null),p!==null?T_(s,p):pm(),d0(s);else return s.lanes=s.childLanes=536870912,A0(r,s,p!==null?p.baseLanes|o:o,o)}else p!==null?(sd(s,p.cachePool),T_(s,p),hs(),s.memoizedState=null):(r!==null&&sd(s,null),pm(),hs());return un(r,s,f,o),s.child}function A0(r,s,o,c){var f=cm();return f=f===null?null:{parent:Jt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&sd(s,null),pm(),d0(s),r!==null&&lc(r,s,c,!0),null}function Ed(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Vm(r,s,o,c,f){return Na(s),o=vm(r,s,o,c,void 0,f),c=_m(),r!==null&&!sn?(bm(r,s,f),Ci(r,s,f)):(st&&c&&tm(s),s.flags|=1,un(r,s,o,f),s.child)}function C0(r,s,o,c,f,p){return Na(s),s.updateQueue=null,o=A_(s,c,o,f),S_(r),c=_m(),r!==null&&!sn?(bm(r,s,p),Ci(r,s,p)):(st&&c&&tm(s),s.flags|=1,un(r,s,o,p),s.child)}function x0(r,s,o,c,f){if(Na(s),s.stateNode===null){var p=Co,w=o.contextType;typeof w=="object"&&w!==null&&(p=_n(w)),p=new o(c,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=km,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=c,p.state=s.memoizedState,p.refs={},dm(s),w=o.contextType,p.context=typeof w=="object"&&w!==null?_n(w):Co,p.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Mm(s,o,w,c),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&km.enqueueReplaceState(p,p.state,null),pc(s,c,p,f),mc(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){p=s.stateNode;var T=s.memoizedProps,P=Ma(o,T);p.props=P;var $=p.context,ne=o.contextType;w=Co,typeof ne=="object"&&ne!==null&&(w=_n(ne));var ae=o.getDerivedStateFromProps;ne=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,ne||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||$!==w)&&h0(s,p,c,w),ls=!1;var X=s.memoizedState;p.state=X,pc(s,c,p,f),mc(),$=s.memoizedState,T||X!==$||ls?(typeof ae=="function"&&(Mm(s,o,ae,c),$=s.memoizedState),(P=ls||f0(s,o,P,c,X,$,w))?(ne||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=$),p.props=c,p.state=$,p.context=w,c=P):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{p=s.stateNode,fm(r,s),w=s.memoizedProps,ne=Ma(o,w),p.props=ne,ae=s.pendingProps,X=p.context,$=o.contextType,P=Co,typeof $=="object"&&$!==null&&(P=_n($)),T=o.getDerivedStateFromProps,($=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==ae||X!==P)&&h0(s,p,c,P),ls=!1,X=s.memoizedState,p.state=X,pc(s,c,p,f),mc();var Z=s.memoizedState;w!==ae||X!==Z||ls||r!==null&&r.dependencies!==null&&rd(r.dependencies)?(typeof T=="function"&&(Mm(s,o,T,c),Z=s.memoizedState),(ne=ls||f0(s,o,ne,c,X,Z,P)||r!==null&&r.dependencies!==null&&rd(r.dependencies))?($||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,Z,P),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,Z,P)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Z),p.props=c,p.state=Z,p.context=P,c=ne):(typeof p.componentDidUpdate!="function"||w===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),c=!1)}return p=c,Ed(r,s),c=(s.flags&128)!==0,p||c?(p=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&c?(s.child=Vo(s,r.child,null,f),s.child=Vo(s,null,o,f)):un(r,s,o,f),s.memoizedState=p.state,r=s.child):r=Ci(r,s,f),r}function R0(r,s,o,c){return ac(),s.flags|=256,un(r,s,o,c),s.child}var Lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Um(r){return{baseLanes:r,cachePool:p_()}}function jm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=or),r}function I0(r,s,o){var c=s.pendingProps,f=!1,p=(s.flags&128)!==0,w;if((w=p)||(w=r!==null&&r.memoizedState===null?!1:(en.current&2)!==0),w&&(f=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,r===null){if(st){if(f?fs(s):hs(),st){var T=Mt,P;if(P=T){e:{for(P=T,T=zr;P.nodeType!==8;){if(!T){T=null;break e}if(P=br(P.nextSibling),P===null){T=null;break e}}T=P}T!==null?(s.memoizedState={dehydrated:T,treeContext:Aa!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},P=Fn(18,null,null,0),P.stateNode=T,P.return=s,s.child=P,Nn=s,Mt=null,P=!0):P=!1}P||Ra(s)}if(T=s.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ep(T)?s.lanes=32:s.lanes=536870912,null;Ai(s)}return T=c.children,c=c.fallback,f?(hs(),f=s.mode,T=Td({mode:"hidden",children:T},f),c=Sa(c,f,o,null),T.return=s,c.return=s,T.sibling=c,s.child=T,f=s.child,f.memoizedState=Um(o),f.childLanes=jm(r,w,o),s.memoizedState=Lm,c):(fs(s),zm(s,T))}if(P=r.memoizedState,P!==null&&(T=P.dehydrated,T!==null)){if(p)s.flags&256?(fs(s),s.flags&=-257,s=Bm(r,s,o)):s.memoizedState!==null?(hs(),s.child=r.child,s.flags|=128,s=null):(hs(),f=c.fallback,T=s.mode,c=Td({mode:"visible",children:c.children},T),f=Sa(f,T,o,null),f.flags|=2,c.return=s,f.return=s,c.sibling=f,s.child=c,Vo(s,r.child,null,o),c=s.child,c.memoizedState=Um(o),c.childLanes=jm(r,w,o),s.memoizedState=Lm,s=f);else if(fs(s),Ep(T)){if(w=T.nextSibling&&T.nextSibling.dataset,w)var $=w.dgst;w=$,c=Error(i(419)),c.stack="",c.digest=w,oc({value:c,source:null,stack:null}),s=Bm(r,s,o)}else if(sn||lc(r,s,o,!1),w=(o&r.childLanes)!==0,sn||w){if(w=bt,w!==null&&(c=o&-o,c=(c&42)!==0?1:zl(c),c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==P.retryLane))throw P.retryLane=c,Ao(r,c),Wn(w,r,c),b0;T.data==="$?"||sp(),s=Bm(r,s,o)}else T.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=P.treeContext,Mt=br(T.nextSibling),Nn=s,st=!0,xa=null,zr=!1,r!==null&&(ir[sr++]=bi,ir[sr++]=wi,ir[sr++]=Aa,bi=r.id,wi=r.overflow,Aa=s),s=zm(s,c.children),s.flags|=4096);return s}return f?(hs(),f=c.fallback,T=s.mode,P=r.child,$=P.sibling,c=_i(P,{mode:"hidden",children:c.children}),c.subtreeFlags=P.subtreeFlags&65011712,$!==null?f=_i($,f):(f=Sa(f,T,o,null),f.flags|=2),f.return=s,c.return=s,c.sibling=f,s.child=c,c=f,f=s.child,T=r.child.memoizedState,T===null?T=Um(o):(P=T.cachePool,P!==null?($=Jt._currentValue,P=P.parent!==$?{parent:$,pool:$}:P):P=p_(),T={baseLanes:T.baseLanes|o,cachePool:P}),f.memoizedState=T,f.childLanes=jm(r,w,o),s.memoizedState=Lm,c):(fs(s),o=r.child,r=o.sibling,o=_i(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(w=s.deletions,w===null?(s.deletions=[r],s.flags|=16):w.push(r)),s.child=o,s.memoizedState=null,o)}function zm(r,s){return s=Td({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Td(r,s){return r=Fn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Bm(r,s,o){return Vo(s,r.child,null,o),r=zm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function N0(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),sm(r.return,s,o)}function Fm(r,s,o,c,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=f)}function D0(r,s,o){var c=s.pendingProps,f=c.revealOrder,p=c.tail;if(un(r,s,c.children,o),c=en.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&N0(r,o,s);else if(r.tag===19)N0(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(ce(en,c),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&_d(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Fm(s,!1,f,o,p);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&_d(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Fm(s,!0,o,null,p);break;case"together":Fm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ci(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),vs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(lc(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=_i(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=_i(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Hm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&rd(r)))}function Zx(r,s,o){switch(s.tag){case 3:Ae(s,s.stateNode.containerInfo),os(s,Jt,r.memoizedState.cache),ac();break;case 27:case 5:He(s);break;case 4:Ae(s,s.stateNode.containerInfo);break;case 10:os(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(fs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?I0(r,s,o):(fs(s),r=Ci(r,s,o),r!==null?r.sibling:null);fs(s);break;case 19:var f=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(lc(r,s,o,!1),c=(o&s.childLanes)!==0),f){if(c)return D0(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(en,en.current),c)break;return null;case 22:case 23:return s.lanes=0,S0(r,s,o);case 24:os(s,Jt,r.memoizedState.cache)}return Ci(r,s,o)}function O0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)sn=!0;else{if(!Hm(r,o)&&(s.flags&128)===0)return sn=!1,Zx(r,s,o);sn=(r.flags&131072)!==0}else sn=!1,st&&(s.flags&1048576)!==0&&l_(s,nd,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,f=c._init;if(c=f(c._payload),s.type=c,typeof c=="function")Zh(c)?(r=Ma(c,r),s.tag=1,s=x0(null,s,c,r,o)):(s.tag=0,s=Vm(null,s,c,r,o));else{if(c!=null){if(f=c.$$typeof,f===ee){s.tag=11,s=w0(null,s,c,r,o);break e}else if(f===O){s.tag=14,s=E0(null,s,c,r,o);break e}}throw s=_e(c)||c,Error(i(306,s,""))}}return s;case 0:return Vm(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,f=Ma(c,s.pendingProps),x0(r,s,c,f,o);case 3:e:{if(Ae(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var p=s.memoizedState;f=p.element,fm(r,s),pc(s,c,null,o);var w=s.memoizedState;if(c=w.cache,os(s,Jt,c),c!==p.cache&&am(s,[Jt],o,!0),mc(),c=w.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=R0(r,s,c,o);break e}else if(c!==f){f=nr(Error(i(424)),s),oc(f),s=R0(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Mt=br(r.firstChild),Nn=s,st=!0,xa=null,zr=!0,o=u0(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ac(),c===f){s=Ci(r,s,o);break e}un(r,s,c,o)}s=s.child}return s;case 26:return Ed(r,s),r===null?(o=Vb(s.type,null,s.pendingProps,null))?s.memoizedState=o:st||(o=s.type,r=s.pendingProps,c=Ld(ge.current).createElement(o),c[Lt]=s,c[cn]=r,fn(c,o,r),Ut(c),s.stateNode=c):s.memoizedState=Vb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return He(s),r===null&&st&&(c=s.stateNode=Mb(s.type,s.pendingProps,ge.current),Nn=s,zr=!0,f=Mt,Es(s.type)?(Tp=f,Mt=br(c.firstChild)):Mt=f),un(r,s,s.pendingProps.children,o),Ed(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&st&&((f=c=Mt)&&(c=CR(c,s.type,s.pendingProps,zr),c!==null?(s.stateNode=c,Nn=s,Mt=br(c.firstChild),zr=!1,f=!0):f=!1),f||Ra(s)),He(s),f=s.type,p=s.pendingProps,w=r!==null?r.memoizedProps:null,c=p.children,_p(f,p)?c=null:w!==null&&_p(f,w)&&(s.flags|=32),s.memoizedState!==null&&(f=vm(r,s,qx,null,null,o),Lc._currentValue=f),Ed(r,s),un(r,s,c,o),s.child;case 6:return r===null&&st&&((r=o=Mt)&&(o=xR(o,s.pendingProps,zr),o!==null?(s.stateNode=o,Nn=s,Mt=null,r=!0):r=!1),r||Ra(s)),null;case 13:return I0(r,s,o);case 4:return Ae(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Vo(s,null,c,o):un(r,s,c,o),s.child;case 11:return w0(r,s,s.type,s.pendingProps,o);case 7:return un(r,s,s.pendingProps,o),s.child;case 8:return un(r,s,s.pendingProps.children,o),s.child;case 12:return un(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,os(s,s.type,c.value),un(r,s,c.children,o),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,Na(s),f=_n(f),c=c(f),s.flags|=1,un(r,s,c,o),s.child;case 14:return E0(r,s,s.type,s.pendingProps,o);case 15:return T0(r,s,s.type,s.pendingProps,o);case 19:return D0(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=Td(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=_i(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return S0(r,s,o);case 24:return Na(s),c=_n(Jt),r===null?(f=cm(),f===null&&(f=bt,p=om(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),s.memoizedState={parent:c,cache:f},dm(s),os(s,Jt,f)):((r.lanes&o)!==0&&(fm(r,s),pc(s,null,null,o),mc()),f=r.memoizedState,p=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),os(s,Jt,c)):(c=p.cache,os(s,Jt,c),c!==f.cache&&am(s,[Jt],o,!0))),un(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function xi(r){r.flags|=4}function M0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Bb(s)){if(s=ar.current,s!==null&&((nt&4194048)===nt?Br!==null:(nt&62914560)!==nt&&(nt&536870912)===0||s!==Br))throw fc=um,g_;r.flags|=8192}}function Sd(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ki():536870912,r.lanes|=s,zo|=s)}function Ec(r,s){if(!st)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function It(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function Jx(r,s,o){var c=s.pendingProps;switch(nm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(s),null;case 1:return It(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ti(Jt),Je(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(sc(s)?xi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,d_())),It(s),null;case 26:return o=s.memoizedState,r===null?(xi(s),o!==null?(It(s),M0(s,o)):(It(s),s.flags&=-16777217)):o?o!==r.memoizedState?(xi(s),It(s),M0(s,o)):(It(s),s.flags&=-16777217):(r.memoizedProps!==c&&xi(s),It(s),s.flags&=-16777217),null;case 27:qe(s),o=ge.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&xi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return It(s),null}r=me.current,sc(s)?c_(s):(r=Mb(f,c,o),s.stateNode=r,xi(s))}return It(s),null;case 5:if(qe(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&xi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return It(s),null}if(r=me.current,sc(s))c_(s);else{switch(f=Ld(ge.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}r[Lt]=s,r[cn]=c;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(fn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&xi(s)}}return It(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&xi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=ge.current,sc(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,f=Nn,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}r[Lt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Cb(r.nodeValue,o)),r||Ra(s)}else r=Ld(r).createTextNode(c),r[Lt]=s,s.stateNode=r}return It(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=sc(s),c!==null&&c.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Lt]=s}else ac(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;It(s),f=!1}else f=d_(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Ai(s),s):(Ai(s),null)}if(Ai(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Sd(s,s.updateQueue),It(s),null;case 4:return Je(),r===null&&mp(s.stateNode.containerInfo),It(s),null;case 10:return Ti(s.type),It(s),null;case 19:if(ue(en),f=s.memoizedState,f===null)return It(s),null;if(c=(s.flags&128)!==0,p=f.rendering,p===null)if(c)Ec(f,!1);else{if(kt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(p=_d(r),p!==null){for(s.flags|=128,Ec(f,!1),r=p.updateQueue,s.updateQueue=r,Sd(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)o_(o,r),o=o.sibling;return ce(en,en.current&1|2),s.child}r=r.sibling}f.tail!==null&&Ce()>xd&&(s.flags|=128,c=!0,Ec(f,!1),s.lanes=4194304)}else{if(!c)if(r=_d(p),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,Sd(s,r),Ec(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!st)return It(s),null}else 2*Ce()-f.renderingStartTime>xd&&o!==536870912&&(s.flags|=128,c=!0,Ec(f,!1),s.lanes=4194304);f.isBackwards?(p.sibling=s.child,s.child=p):(r=f.last,r!==null?r.sibling=p:s.child=p,f.last=p)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Ce(),s.sibling=null,r=en.current,ce(en,c?r&1|2:r&1),s):(It(s),null);case 22:case 23:return Ai(s),gm(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(It(s),s.subtreeFlags&6&&(s.flags|=8192)):It(s),o=s.updateQueue,o!==null&&Sd(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&ue(Da),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ti(Jt),It(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function eR(r,s){switch(nm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ti(Jt),Je(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return qe(s),null;case 13:if(Ai(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ac()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ue(en),null;case 4:return Je(),null;case 10:return Ti(s.type),null;case 22:case 23:return Ai(s),gm(),r!==null&&ue(Da),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ti(Jt),null;case 25:return null;default:return null}}function k0(r,s){switch(nm(s),s.tag){case 3:Ti(Jt),Je();break;case 26:case 27:case 5:qe(s);break;case 4:Je();break;case 13:Ai(s);break;case 19:ue(en);break;case 10:Ti(s.type);break;case 22:case 23:Ai(s),gm(),r!==null&&ue(Da);break;case 24:Ti(Jt)}}function Tc(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&r)===r){c=void 0;var p=o.create,w=o.inst;c=p(),w.destroy=c}o=o.next}while(o!==f)}}catch(T){yt(s,s.return,T)}}function ms(r,s,o){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&r)===r){var w=c.inst,T=w.destroy;if(T!==void 0){w.destroy=void 0,f=s;var P=o,$=T;try{$()}catch(ne){yt(f,P,ne)}}}c=c.next}while(c!==p)}}catch(ne){yt(s,s.return,ne)}}function P0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{E_(s,o)}catch(c){yt(r,r.return,c)}}}function V0(r,s,o){o.props=Ma(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){yt(r,s,c)}}function Sc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(f){yt(r,s,f)}}function Fr(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){yt(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){yt(r,s,f)}else o.current=null}function L0(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){yt(r,r.return,f)}}function qm(r,s,o){try{var c=r.stateNode;wR(c,r.type,o,s),c[cn]=s}catch(f){yt(r,r.return,f)}}function U0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Es(r.type)||r.tag===4}function Gm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||U0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Es(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ym(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Vd));else if(c!==4&&(c===27&&Es(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Ym(r,s,o),r=r.sibling;r!==null;)Ym(r,s,o),r=r.sibling}function Ad(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&Es(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Ad(r,s,o),r=r.sibling;r!==null;)Ad(r,s,o),r=r.sibling}function j0(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);fn(s,c,o),s[Lt]=r,s[cn]=o}catch(p){yt(r,r.return,p)}}var Ri=!1,Bt=!1,Wm=!1,z0=typeof WeakSet=="function"?WeakSet:Set,an=null;function tR(r,s){if(r=r.containerInfo,yp=Hd,r=Xv(r),Gh(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var w=0,T=-1,P=-1,$=0,ne=0,ae=r,X=null;t:for(;;){for(var Z;ae!==o||f!==0&&ae.nodeType!==3||(T=w+f),ae!==p||c!==0&&ae.nodeType!==3||(P=w+c),ae.nodeType===3&&(w+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)X=ae,ae=Z;for(;;){if(ae===r)break t;if(X===o&&++$===f&&(T=w),X===p&&++ne===c&&(P=w),(Z=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=Z}o=T===-1||P===-1?null:{start:T,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(vp={focusedElem:r,selectionRange:o},Hd=!1,an=s;an!==null;)if(s=an,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,an=r;else for(;an!==null;){switch(s=an,p=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=s,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var Me=Ma(o.type,f,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(Me,p),c.__reactInternalSnapshotBeforeUpdate=r}catch(Ie){yt(o,o.return,Ie)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)wp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":wp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,an=r;break}an=s.return}}function B0(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ps(r,o),c&4&&Tc(5,o);break;case 1:if(ps(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(w){yt(o,o.return,w)}else{var f=Ma(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(w){yt(o,o.return,w)}}c&64&&P0(o),c&512&&Sc(o,o.return);break;case 3:if(ps(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{E_(r,s)}catch(w){yt(o,o.return,w)}}break;case 27:s===null&&c&4&&j0(o);case 26:case 5:ps(r,o),s===null&&c&4&&L0(o),c&512&&Sc(o,o.return);break;case 12:ps(r,o);break;case 13:ps(r,o),c&4&&q0(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=uR.bind(null,o),RR(r,o))));break;case 22:if(c=o.memoizedState!==null||Ri,!c){s=s!==null&&s.memoizedState!==null||Bt,f=Ri;var p=Bt;Ri=c,(Bt=s)&&!p?gs(r,o,(o.subtreeFlags&8772)!==0):ps(r,o),Ri=f,Bt=p}break;case 30:break;default:ps(r,o)}}function F0(r){var s=r.alternate;s!==null&&(r.alternate=null,F0(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&co(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var xt=null,On=!1;function Ii(r,s,o){for(o=o.child;o!==null;)H0(r,s,o),o=o.sibling}function H0(r,s,o){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Gi,o)}catch{}switch(o.tag){case 26:Bt||Fr(o,s),Ii(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Bt||Fr(o,s);var c=xt,f=On;Es(o.type)&&(xt=o.stateNode,On=!1),Ii(r,s,o),Mc(o.stateNode),xt=c,On=f;break;case 5:Bt||Fr(o,s);case 6:if(c=xt,f=On,xt=null,Ii(r,s,o),xt=c,On=f,xt!==null)if(On)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(p){yt(o,s,p)}else try{xt.removeChild(o.stateNode)}catch(p){yt(o,s,p)}break;case 18:xt!==null&&(On?(r=xt,Db(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Bc(r)):Db(xt,o.stateNode));break;case 4:c=xt,f=On,xt=o.stateNode.containerInfo,On=!0,Ii(r,s,o),xt=c,On=f;break;case 0:case 11:case 14:case 15:Bt||ms(2,o,s),Bt||ms(4,o,s),Ii(r,s,o);break;case 1:Bt||(Fr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&V0(o,s,c)),Ii(r,s,o);break;case 21:Ii(r,s,o);break;case 22:Bt=(c=Bt)||o.memoizedState!==null,Ii(r,s,o),Bt=c;break;default:Ii(r,s,o)}}function q0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Bc(r)}catch(o){yt(s,s.return,o)}}function nR(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new z0),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new z0),s;default:throw Error(i(435,r.tag))}}function Km(r,s){var o=nR(r);s.forEach(function(c){var f=dR.bind(null,r,c);o.has(c)||(o.add(c),c.then(f,f))})}function Hn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=r,w=s,T=w;e:for(;T!==null;){switch(T.tag){case 27:if(Es(T.type)){xt=T.stateNode,On=!1;break e}break;case 5:xt=T.stateNode,On=!1;break e;case 3:case 4:xt=T.stateNode.containerInfo,On=!0;break e}T=T.return}if(xt===null)throw Error(i(160));H0(p,w,f),xt=null,On=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)G0(s,r),s=s.sibling}var _r=null;function G0(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Hn(s,r),qn(r),c&4&&(ms(3,r,r.return),Tc(3,r),ms(5,r,r.return));break;case 1:Hn(s,r),qn(r),c&512&&(Bt||o===null||Fr(o,o.return)),c&64&&Ri&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=_r;if(Hn(s,r),qn(r),c&512&&(Bt||o===null||Fr(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Xi]||p[Lt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),fn(p,c,o),p[Lt]=r,Ut(p),c=p;break e;case"link":var w=jb("link","href",f).get(c+(o.href||""));if(w){for(var T=0;T<w.length;T++)if(p=w[T],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(T,1);break t}}p=f.createElement(c),fn(p,c,o),f.head.appendChild(p);break;case"meta":if(w=jb("meta","content",f).get(c+(o.content||""))){for(T=0;T<w.length;T++)if(p=w[T],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(T,1);break t}}p=f.createElement(c),fn(p,c,o),f.head.appendChild(p);break;default:throw Error(i(468,c))}p[Lt]=r,Ut(p),c=p}r.stateNode=c}else zb(f,r.type,r.stateNode);else r.stateNode=Ub(f,c,r.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?zb(f,r.type,r.stateNode):Ub(f,c,r.memoizedProps)):c===null&&r.stateNode!==null&&qm(r,r.memoizedProps,o.memoizedProps)}break;case 27:Hn(s,r),qn(r),c&512&&(Bt||o===null||Fr(o,o.return)),o!==null&&c&4&&qm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Hn(s,r),qn(r),c&512&&(Bt||o===null||Fr(o,o.return)),r.flags&32){f=r.stateNode;try{er(f,"")}catch(Z){yt(r,r.return,Z)}}c&4&&r.stateNode!=null&&(f=r.memoizedProps,qm(r,f,o!==null?o.memoizedProps:f)),c&1024&&(Wm=!0);break;case 6:if(Hn(s,r),qn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(Z){yt(r,r.return,Z)}}break;case 3:if(zd=null,f=_r,_r=Ud(s.containerInfo),Hn(s,r),_r=f,qn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Bc(s.containerInfo)}catch(Z){yt(r,r.return,Z)}Wm&&(Wm=!1,Y0(r));break;case 4:c=_r,_r=Ud(r.stateNode.containerInfo),Hn(s,r),qn(r),_r=c;break;case 12:Hn(s,r),qn(r);break;case 13:Hn(s,r),qn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ep=Ce()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Km(r,c)));break;case 22:f=r.memoizedState!==null;var P=o!==null&&o.memoizedState!==null,$=Ri,ne=Bt;if(Ri=$||f,Bt=ne||P,Hn(s,r),Bt=ne,Ri=$,qn(r),c&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||P||Ri||Bt||ka(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){P=o=s;try{if(p=P.stateNode,f)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{T=P.stateNode;var ae=P.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Z){yt(P,P.return,Z)}}}else if(s.tag===6){if(o===null){P=s;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(Z){yt(P,P.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Km(r,o))));break;case 19:Hn(s,r),qn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Km(r,c)));break;case 30:break;case 21:break;default:Hn(s,r),qn(r)}}function qn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(U0(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,p=Gm(r);Ad(r,p,f);break;case 5:var w=o.stateNode;o.flags&32&&(er(w,""),o.flags&=-33);var T=Gm(r);Ad(r,T,w);break;case 3:case 4:var P=o.stateNode.containerInfo,$=Gm(r);Ym(r,$,P);break;default:throw Error(i(161))}}catch(ne){yt(r,r.return,ne)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Y0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Y0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ps(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)B0(r,s.alternate,s),s=s.sibling}function ka(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ms(4,s,s.return),ka(s);break;case 1:Fr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&V0(s,s.return,o),ka(s);break;case 27:Mc(s.stateNode);case 26:case 5:Fr(s,s.return),ka(s);break;case 22:s.memoizedState===null&&ka(s);break;case 30:ka(s);break;default:ka(s)}r=r.sibling}}function gs(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=r,p=s,w=p.flags;switch(p.tag){case 0:case 11:case 15:gs(f,p,o),Tc(4,p);break;case 1:if(gs(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){yt(c,c.return,$)}if(c=p,f=c.updateQueue,f!==null){var T=c.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)w_(P[f],T)}catch($){yt(c,c.return,$)}}o&&w&64&&P0(p),Sc(p,p.return);break;case 27:j0(p);case 26:case 5:gs(f,p,o),o&&c===null&&w&4&&L0(p),Sc(p,p.return);break;case 12:gs(f,p,o);break;case 13:gs(f,p,o),o&&w&4&&q0(f,p);break;case 22:p.memoizedState===null&&gs(f,p,o),Sc(p,p.return);break;case 30:break;default:gs(f,p,o)}s=s.sibling}}function Qm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&cc(o))}function $m(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&cc(r))}function Hr(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)W0(r,s,o,c),s=s.sibling}function W0(r,s,o,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Hr(r,s,o,c),f&2048&&Tc(9,s);break;case 1:Hr(r,s,o,c);break;case 3:Hr(r,s,o,c),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&cc(r)));break;case 12:if(f&2048){Hr(r,s,o,c),r=s.stateNode;try{var p=s.memoizedProps,w=p.id,T=p.onPostCommit;typeof T=="function"&&T(w,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(P){yt(s,s.return,P)}}else Hr(r,s,o,c);break;case 13:Hr(r,s,o,c);break;case 23:break;case 22:p=s.stateNode,w=s.alternate,s.memoizedState!==null?p._visibility&2?Hr(r,s,o,c):Ac(r,s):p._visibility&2?Hr(r,s,o,c):(p._visibility|=2,Lo(r,s,o,c,(s.subtreeFlags&10256)!==0)),f&2048&&Qm(w,s);break;case 24:Hr(r,s,o,c),f&2048&&$m(s.alternate,s);break;default:Hr(r,s,o,c)}}function Lo(r,s,o,c,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=r,w=s,T=o,P=c,$=w.flags;switch(w.tag){case 0:case 11:case 15:Lo(p,w,T,P,f),Tc(8,w);break;case 23:break;case 22:var ne=w.stateNode;w.memoizedState!==null?ne._visibility&2?Lo(p,w,T,P,f):Ac(p,w):(ne._visibility|=2,Lo(p,w,T,P,f)),f&&$&2048&&Qm(w.alternate,w);break;case 24:Lo(p,w,T,P,f),f&&$&2048&&$m(w.alternate,w);break;default:Lo(p,w,T,P,f)}s=s.sibling}}function Ac(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,f=c.flags;switch(c.tag){case 22:Ac(o,c),f&2048&&Qm(c.alternate,c);break;case 24:Ac(o,c),f&2048&&$m(c.alternate,c);break;default:Ac(o,c)}s=s.sibling}}var Cc=8192;function Uo(r){if(r.subtreeFlags&Cc)for(r=r.child;r!==null;)K0(r),r=r.sibling}function K0(r){switch(r.tag){case 26:Uo(r),r.flags&Cc&&r.memoizedState!==null&&BR(_r,r.memoizedState,r.memoizedProps);break;case 5:Uo(r);break;case 3:case 4:var s=_r;_r=Ud(r.stateNode.containerInfo),Uo(r),_r=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Cc,Cc=16777216,Uo(r),Cc=s):Uo(r));break;default:Uo(r)}}function Q0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function xc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];an=c,X0(c,r)}Q0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$0(r),r=r.sibling}function $0(r){switch(r.tag){case 0:case 11:case 15:xc(r),r.flags&2048&&ms(9,r,r.return);break;case 3:xc(r);break;case 12:xc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Cd(r)):xc(r);break;default:xc(r)}}function Cd(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];an=c,X0(c,r)}Q0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ms(8,s,s.return),Cd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Cd(s));break;default:Cd(s)}r=r.sibling}}function X0(r,s){for(;an!==null;){var o=an;switch(o.tag){case 0:case 11:case 15:ms(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:cc(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,an=c;else e:for(o=r;an!==null;){c=an;var f=c.sibling,p=c.return;if(F0(c),c===o){an=null;break e}if(f!==null){f.return=p,an=f;break e}an=p}}}var rR={getCacheForType:function(r){var s=_n(Jt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},iR=typeof WeakMap=="function"?WeakMap:Map,ct=0,bt=null,Ke=null,nt=0,ut=0,Gn=null,ys=!1,jo=!1,Xm=!1,Ni=0,kt=0,vs=0,Pa=0,Zm=0,or=0,zo=0,Rc=null,Mn=null,Jm=!1,ep=0,xd=1/0,Rd=null,_s=null,dn=0,bs=null,Bo=null,Fo=0,tp=0,np=null,Z0=null,Ic=0,rp=null;function Yn(){if((ct&2)!==0&&nt!==0)return nt&-nt;if(Y.T!==null){var r=Io;return r!==0?r:up()}return fi()}function J0(){or===0&&(or=(nt&536870912)===0||st?jl():536870912);var r=ar.current;return r!==null&&(r.flags|=32),or}function Wn(r,s,o){(r===bt&&(ut===2||ut===9)||r.cancelPendingCommit!==null)&&(Ho(r,0),ws(r,nt,or,!1)),Vt(r,o),((ct&2)===0||r!==bt)&&(r===bt&&((ct&2)===0&&(Pa|=o),kt===4&&ws(r,nt,or,!1)),qr(r))}function eb(r,s,o){if((ct&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Wi(r,s),f=c?oR(r,s):ap(r,s,!0),p=c;do{if(f===0){jo&&!c&&ws(r,s,0,!1);break}else{if(o=r.current.alternate,p&&!sR(o)){f=ap(r,s,!1),p=!1;continue}if(f===2){if(p=s,r.errorRecoveryDisabledLanes&p)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var T=r;f=Rc;var P=T.current.memoizedState.isDehydrated;if(P&&(Ho(T,w).flags|=256),w=ap(T,w,!1),w!==2){if(Xm&&!P){T.errorRecoveryDisabledLanes|=p,Pa|=p,f=4;break e}p=Mn,Mn=f,p!==null&&(Mn===null?Mn=p:Mn.push.apply(Mn,p))}f=w}if(p=!1,f!==2)continue}}if(f===1){Ho(r,0),ws(r,s,0,!0);break}e:{switch(c=r,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ws(c,s,or,!ys);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=ep+300-Ce(),10<f)){if(ws(c,s,or,!ys),Zn(c,0,!0)!==0)break e;c.timeoutHandle=Ib(tb.bind(null,c,o,Mn,Rd,Jm,s,or,Pa,zo,ys,p,2,-0,0),f);break e}tb(c,o,Mn,Rd,Jm,s,or,Pa,zo,ys,p,0,-0,0)}}break}while(!0);qr(r)}function tb(r,s,o,c,f,p,w,T,P,$,ne,ae,X,Z){if(r.timeoutHandle=-1,ae=s.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Vc={stylesheets:null,count:0,unsuspend:zR},K0(s),ae=FR(),ae!==null)){r.cancelPendingCommit=ae(lb.bind(null,r,s,p,o,c,f,w,T,P,ne,1,X,Z)),ws(r,p,w,!$);return}lb(r,s,p,o,c,f,w,T,P)}function sR(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!Bn(p(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ws(r,s,o,c){s&=~Zm,s&=~Pa,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var f=s;0<f;){var p=31-Cn(f),w=1<<p;c[p]=-1,f&=~w}o!==0&&Qi(r,o,s)}function Id(){return(ct&6)===0?(Nc(0),!1):!0}function ip(){if(Ke!==null){if(ut===0)var r=Ke.return;else r=Ke,Ei=Ia=null,wm(r),Po=null,bc=0,r=Ke;for(;r!==null;)k0(r.alternate,r),r=r.return;Ke=null}}function Ho(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,TR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),ip(),bt=r,Ke=o=_i(r.current,null),nt=s,ut=0,Gn=null,ys=!1,jo=Wi(r,s),Xm=!1,zo=or=Zm=Pa=vs=kt=0,Mn=Rc=null,Jm=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var f=31-Cn(c),p=1<<f;s|=r[f],c&=~p}return Ni=s,Xu(),o}function nb(r,s){ze=null,Y.H=gd,s===dc||s===ad?(s=__(),ut=3):s===g_?(s=__(),ut=4):ut=s===b0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gn=s,Ke===null&&(kt=1,wd(r,nr(s,r.current)))}function rb(){var r=Y.H;return Y.H=gd,r===null?gd:r}function ib(){var r=Y.A;return Y.A=rR,r}function sp(){kt=4,ys||(nt&4194048)!==nt&&ar.current!==null||(jo=!0),(vs&134217727)===0&&(Pa&134217727)===0||bt===null||ws(bt,nt,or,!1)}function ap(r,s,o){var c=ct;ct|=2;var f=rb(),p=ib();(bt!==r||nt!==s)&&(Rd=null,Ho(r,s)),s=!1;var w=kt;e:do try{if(ut!==0&&Ke!==null){var T=Ke,P=Gn;switch(ut){case 8:ip(),w=6;break e;case 3:case 2:case 9:case 6:ar.current===null&&(s=!0);var $=ut;if(ut=0,Gn=null,qo(r,T,P,$),o&&jo){w=0;break e}break;default:$=ut,ut=0,Gn=null,qo(r,T,P,$)}}aR(),w=kt;break}catch(ne){nb(r,ne)}while(!0);return s&&r.shellSuspendCounter++,Ei=Ia=null,ct=c,Y.H=f,Y.A=p,Ke===null&&(bt=null,nt=0,Xu()),w}function aR(){for(;Ke!==null;)sb(Ke)}function oR(r,s){var o=ct;ct|=2;var c=rb(),f=ib();bt!==r||nt!==s?(Rd=null,xd=Ce()+500,Ho(r,s)):jo=Wi(r,s);e:do try{if(ut!==0&&Ke!==null){s=Ke;var p=Gn;t:switch(ut){case 1:ut=0,Gn=null,qo(r,s,p,1);break;case 2:case 9:if(y_(p)){ut=0,Gn=null,ab(s);break}s=function(){ut!==2&&ut!==9||bt!==r||(ut=7),qr(r)},p.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:y_(p)?(ut=0,Gn=null,ab(s)):(ut=0,Gn=null,qo(r,s,p,7));break;case 5:var w=null;switch(Ke.tag){case 26:w=Ke.memoizedState;case 5:case 27:var T=Ke;if(!w||Bb(w)){ut=0,Gn=null;var P=T.sibling;if(P!==null)Ke=P;else{var $=T.return;$!==null?(Ke=$,Nd($)):Ke=null}break t}}ut=0,Gn=null,qo(r,s,p,5);break;case 6:ut=0,Gn=null,qo(r,s,p,6);break;case 8:ip(),kt=6;break e;default:throw Error(i(462))}}lR();break}catch(ne){nb(r,ne)}while(!0);return Ei=Ia=null,Y.H=c,Y.A=f,ct=o,Ke!==null?0:(bt=null,nt=0,Xu(),kt)}function lR(){for(;Ke!==null&&!Ge();)sb(Ke)}function sb(r){var s=O0(r.alternate,r,Ni);r.memoizedProps=r.pendingProps,s===null?Nd(r):Ke=s}function ab(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=C0(o,s,s.pendingProps,s.type,void 0,nt);break;case 11:s=C0(o,s,s.pendingProps,s.type.render,s.ref,nt);break;case 5:wm(s);default:k0(o,s),s=Ke=o_(s,Ni),s=O0(o,s,Ni)}r.memoizedProps=r.pendingProps,s===null?Nd(r):Ke=s}function qo(r,s,o,c){Ei=Ia=null,wm(s),Po=null,bc=0;var f=s.return;try{if(Xx(r,f,s,o,nt)){kt=1,wd(r,nr(o,r.current)),Ke=null;return}}catch(p){if(f!==null)throw Ke=f,p;kt=1,wd(r,nr(o,r.current)),Ke=null;return}s.flags&32768?(st||c===1?r=!0:jo||(nt&536870912)!==0?r=!1:(ys=r=!0,(c===2||c===9||c===3||c===6)&&(c=ar.current,c!==null&&c.tag===13&&(c.flags|=16384))),ob(s,r)):Nd(s)}function Nd(r){var s=r;do{if((s.flags&32768)!==0){ob(s,ys);return}r=s.return;var o=Jx(s.alternate,s,Ni);if(o!==null){Ke=o;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=r}while(s!==null);kt===0&&(kt=5)}function ob(r,s){do{var o=eR(r.alternate,r);if(o!==null){o.flags&=32767,Ke=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ke=r;return}Ke=r=o}while(r!==null);kt=6,Ke=null}function lb(r,s,o,c,f,p,w,T,P){r.cancelPendingCommit=null;do Dd();while(dn!==0);if((ct&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=$h,ku(r,o,p,w,T,P),r===bt&&(Ke=bt=null,nt=0),Bo=s,bs=r,Fo=o,tp=p,np=f,Z0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,fR(jn,function(){return hb(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Y.T,Y.T=null,f=K.p,K.p=2,w=ct,ct|=4;try{tR(r,s,o)}finally{ct=w,K.p=f,Y.T=c}}dn=1,cb(),ub(),db()}}function cb(){if(dn===1){dn=0;var r=bs,s=Bo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var c=K.p;K.p=2;var f=ct;ct|=4;try{G0(s,r);var p=vp,w=Xv(r.containerInfo),T=p.focusedElem,P=p.selectionRange;if(w!==T&&T&&T.ownerDocument&&$v(T.ownerDocument.documentElement,T)){if(P!==null&&Gh(T)){var $=P.start,ne=P.end;if(ne===void 0&&(ne=$),"selectionStart"in T)T.selectionStart=$,T.selectionEnd=Math.min(ne,T.value.length);else{var ae=T.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var Z=X.getSelection(),Me=T.textContent.length,Ie=Math.min(P.start,Me),gt=P.end===void 0?Ie:Math.min(P.end,Me);!Z.extend&&Ie>gt&&(w=gt,gt=Ie,Ie=w);var q=Qv(T,Ie),F=Qv(T,gt);if(q&&F&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var W=ae.createRange();W.setStart(q.node,q.offset),Z.removeAllRanges(),Ie>gt?(Z.addRange(W),Z.extend(F.node,F.offset)):(W.setEnd(F.node,F.offset),Z.addRange(W))}}}}for(ae=[],Z=T;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ae.length;T++){var ie=ae[T];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Hd=!!yp,vp=yp=null}finally{ct=f,K.p=c,Y.T=o}}r.current=s,dn=2}}function ub(){if(dn===2){dn=0;var r=bs,s=Bo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var c=K.p;K.p=2;var f=ct;ct|=4;try{B0(r,s.alternate,s)}finally{ct=f,K.p=c,Y.T=o}}dn=3}}function db(){if(dn===4||dn===3){dn=0,We();var r=bs,s=Bo,o=Fo,c=Z0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?dn=5:(dn=0,Bo=bs=null,fb(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(_s=null),Bl(o),s=s.stateNode,yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Gi,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Y.T,f=K.p,K.p=2,Y.T=null;try{for(var p=r.onRecoverableError,w=0;w<c.length;w++){var T=c[w];p(T.value,{componentStack:T.stack})}}finally{Y.T=s,K.p=f}}(Fo&3)!==0&&Dd(),qr(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===rp?Ic++:(Ic=0,rp=r):Ic=0,Nc(0)}}function fb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,cc(s)))}function Dd(r){return cb(),ub(),db(),hb()}function hb(){if(dn!==5)return!1;var r=bs,s=tp;tp=0;var o=Bl(Fo),c=Y.T,f=K.p;try{K.p=32>o?32:o,Y.T=null,o=np,np=null;var p=bs,w=Fo;if(dn=0,Bo=bs=null,Fo=0,(ct&6)!==0)throw Error(i(331));var T=ct;if(ct|=4,$0(p.current),W0(p,p.current,w,o),ct=T,Nc(0,!1),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Gi,p)}catch{}return!0}finally{K.p=f,Y.T=c,fb(r,s)}}function mb(r,s,o){s=nr(o,s),s=Pm(r.stateNode,s,2),r=us(r,s,2),r!==null&&(Vt(r,2),qr(r))}function yt(r,s,o){if(r.tag===3)mb(r,r,o);else for(;s!==null;){if(s.tag===3){mb(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_s===null||!_s.has(c))){r=nr(o,r),o=v0(2),c=us(s,o,2),c!==null&&(_0(o,c,s,r),Vt(c,2),qr(c));break}}s=s.return}}function op(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new iR;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(o)||(Xm=!0,f.add(o),r=cR.bind(null,r,s,o),s.then(r,r))}function cR(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,bt===r&&(nt&o)===o&&(kt===4||kt===3&&(nt&62914560)===nt&&300>Ce()-ep?(ct&2)===0&&Ho(r,0):Zm|=o,zo===nt&&(zo=0)),qr(r)}function pb(r,s){s===0&&(s=Ki()),r=Ao(r,s),r!==null&&(Vt(r,s),qr(r))}function uR(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),pb(r,o)}function dR(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),pb(r,o)}function fR(r,s){return fe(r,s)}var Od=null,Go=null,lp=!1,Md=!1,cp=!1,Va=0;function qr(r){r!==Go&&r.next===null&&(Go===null?Od=Go=r:Go=Go.next=r),Md=!0,lp||(lp=!0,mR())}function Nc(r,s){if(!cp&&Md){cp=!0;do for(var o=!1,c=Od;c!==null;){if(r!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var w=c.suspendedLanes,T=c.pingedLanes;p=(1<<31-Cn(42|r)+1)-1,p&=f&~(w&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,_b(c,p))}else p=nt,p=Zn(c,c===bt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Wi(c,p)||(o=!0,_b(c,p));c=c.next}while(o);cp=!1}}function hR(){gb()}function gb(){Md=lp=!1;var r=0;Va!==0&&(ER()&&(r=Va),Va=0);for(var s=Ce(),o=null,c=Od;c!==null;){var f=c.next,p=yb(c,s);p===0?(c.next=null,o===null?Od=f:o.next=f,f===null&&(Go=o)):(o=c,(r!==0||(p&3)!==0)&&(Md=!0)),c=f}Nc(r)}function yb(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var w=31-Cn(p),T=1<<w,P=f[w];P===-1?((T&o)===0||(T&c)!==0)&&(f[w]=oo(T,s)):P<=s&&(r.expiredLanes|=T),p&=~T}if(s=bt,o=nt,o=Zn(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(ut===2||ut===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&be(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Wi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&be(c),Bl(o)){case 2:case 8:o=vt;break;case 32:o=jn;break;case 268435456:o=Ul;break;default:o=jn}return c=vb.bind(null,r),o=fe(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&be(c),r.callbackPriority=2,r.callbackNode=null,2}function vb(r,s){if(dn!==0&&dn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Dd()&&r.callbackNode!==o)return null;var c=nt;return c=Zn(r,r===bt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(eb(r,c,s),yb(r,Ce()),r.callbackNode!=null&&r.callbackNode===o?vb.bind(null,r):null)}function _b(r,s){if(Dd())return null;eb(r,s,!0)}function mR(){SR(function(){(ct&6)!==0?fe(tt,hR):gb()})}function up(){return Va===0&&(Va=jl()),Va}function bb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:mr(""+r)}function wb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function pR(r,s,o,c,f){if(s==="submit"&&o&&o.stateNode===f){var p=bb((f[cn]||null).action),w=c.submitter;w&&(s=(s=w[cn]||null)?bb(s.formAction):w.getAttribute("formAction"),s!==null&&(p=s,w=null));var T=new pa("action","action",null,c,f);r.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Va!==0){var P=w?wb(f,w):new FormData(f);Nm(o,{pending:!0,data:P,method:f.method,action:p},null,P)}}else typeof p=="function"&&(T.preventDefault(),P=w?wb(f,w):new FormData(f),Nm(o,{pending:!0,data:P,method:f.method,action:p},p,P))},currentTarget:f}]})}}for(var dp=0;dp<Qh.length;dp++){var fp=Qh[dp],gR=fp.toLowerCase(),yR=fp[0].toUpperCase()+fp.slice(1);vr(gR,"on"+yR)}vr(e_,"onAnimationEnd"),vr(t_,"onAnimationIteration"),vr(n_,"onAnimationStart"),vr("dblclick","onDoubleClick"),vr("focusin","onFocus"),vr("focusout","onBlur"),vr(kx,"onTransitionRun"),vr(Px,"onTransitionStart"),vr(Vx,"onTransitionCancel"),vr(r_,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dc));function Eb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],f=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var w=c.length-1;0<=w;w--){var T=c[w],P=T.instance,$=T.currentTarget;if(T=T.listener,P!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=$;try{p(f)}catch(ne){bd(ne)}f.currentTarget=null,p=P}else for(w=0;w<c.length;w++){if(T=c[w],P=T.instance,$=T.currentTarget,T=T.listener,P!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=$;try{p(f)}catch(ne){bd(ne)}f.currentTarget=null,p=P}}}}function Qe(r,s){var o=s[na];o===void 0&&(o=s[na]=new Set);var c=r+"__bubble";o.has(c)||(Tb(s,r,2,!1),o.add(c))}function hp(r,s,o){var c=0;s&&(c|=4),Tb(o,r,c,s)}var kd="_reactListening"+Math.random().toString(36).slice(2);function mp(r){if(!r[kd]){r[kd]=!0,Pu.forEach(function(o){o!=="selectionchange"&&(vR.has(o)||hp(o,!1,r),hp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[kd]||(s[kd]=!0,hp("selectionchange",!1,s))}}function Tb(r,s,o,c){switch(Wb(s)){case 2:var f=GR;break;case 8:f=YR;break;default:f=Rp}o=f.bind(null,s,o,r),f=void 0,!yi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function pp(r,s,o,c,f){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var T=c.stateNode.containerInfo;if(T===f)break;if(w===4)for(w=c.return;w!==null;){var P=w.tag;if((P===3||P===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;T!==null;){if(w=Mr(T),w===null)return;if(P=w.tag,P===5||P===6||P===26||P===27){c=p=w;continue e}T=T.parentNode}}c=c.return}fa(function(){var $=p,ne=Kl(o),ae=[];e:{var X=i_.get(r);if(X!==void 0){var Z=pa,Me=r;switch(r){case"keypress":if(ha(o)===0)break e;case"keydown":case"keyup":Z=wo;break;case"focusin":Me="focus",Z=vo;break;case"focusout":Me="blur",Z=vo;break;case"beforeblur":case"afterblur":Z=vo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=as;break;case e_:case t_:case n_:Z=$l;break;case r_:Z=v;break;case"scroll":case"scrollend":Z=ya;break;case"wheel":Z=I;break;case"copy":case"cut":case"paste":Z=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Jl;break;case"toggle":case"beforetoggle":Z=J}var Ie=(s&4)!==0,gt=!Ie&&(r==="scroll"||r==="scrollend"),q=Ie?X!==null?X+"Capture":null:X;Ie=[];for(var F=$,W;F!==null;){var ie=F;if(W=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||W===null||q===null||(ie=is(F,q),ie!=null&&Ie.push(Oc(F,ie,W))),gt)break;F=F.return}0<Ie.length&&(X=new Z(X,Me,null,o,ne),ae.push({event:X,listeners:Ie}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",X&&o!==Wl&&(Me=o.relatedTarget||o.fromElement)&&(Mr(Me)||Me[hi]))break e;if((Z||X)&&(X=ne.window===ne?ne:(X=ne.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(Me=o.relatedTarget||o.toElement,Z=$,Me=Me?Mr(Me):null,Me!==null&&(gt=l(Me),Ie=Me.tag,Me!==gt||Ie!==5&&Ie!==27&&Ie!==6)&&(Me=null)):(Z=null,Me=$),Z!==Me)){if(Ie=ba,ie="onMouseLeave",q="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(Ie=Jl,ie="onPointerLeave",q="onPointerEnter",F="pointer"),gt=Z==null?X:Zi(Z),W=Me==null?X:Zi(Me),X=new Ie(ie,F+"leave",Z,o,ne),X.target=gt,X.relatedTarget=W,ie=null,Mr(ne)===$&&(Ie=new Ie(q,F+"enter",Me,o,ne),Ie.target=W,Ie.relatedTarget=gt,ie=Ie),gt=ie,Z&&Me)t:{for(Ie=Z,q=Me,F=0,W=Ie;W;W=Yo(W))F++;for(W=0,ie=q;ie;ie=Yo(ie))W++;for(;0<F-W;)Ie=Yo(Ie),F--;for(;0<W-F;)q=Yo(q),W--;for(;F--;){if(Ie===q||q!==null&&Ie===q.alternate)break t;Ie=Yo(Ie),q=Yo(q)}Ie=null}else Ie=null;Z!==null&&Sb(ae,X,Z,Ie,!1),Me!==null&&gt!==null&&Sb(ae,gt,Me,Ie,!0)}}e:{if(X=$?Zi($):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var we=Hv;else if(Bv(X))if(qv)we=Dx;else{we=Ix;var Ye=Rx}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?$&&po($.elementType)&&(we=Hv):we=Nx;if(we&&(we=we(r,$))){Fv(ae,we,o,ne);break e}Ye&&Ye(r,X,$),r==="focusout"&&$&&X.type==="number"&&$.memoizedProps.value!=null&&ql(X,"number",X.value)}switch(Ye=$?Zi($):window,r){case"focusin":(Bv(Ye)||Ye.contentEditable==="true")&&(Eo=Ye,Yh=$,ic=null);break;case"focusout":ic=Yh=Eo=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,Zv(ae,o,ne);break;case"selectionchange":if(Mx)break;case"keydown":case"keyup":Zv(ae,o,ne)}var xe;if(Le)e:{switch(r){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else yr?pr(r,o)&&(De="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(De="onCompositionStart");De&&(jt&&o.locale!=="ko"&&(yr||De!=="onCompositionStart"?De==="onCompositionEnd"&&yr&&(xe=Bu()):(tr=ne,_t="value"in tr?tr.value:tr.textContent,yr=!0)),Ye=Pd($,De),0<Ye.length&&(De=new Zl(De,r,null,o,ne),ae.push({event:De,listeners:Ye}),xe?De.data=xe:(xe=gr(o),xe!==null&&(De.data=xe)))),(xe=lt?ec(r,o):Ax(r,o))&&(De=Pd($,"onBeforeInput"),0<De.length&&(Ye=new Zl("onBeforeInput","beforeinput",null,o,ne),ae.push({event:Ye,listeners:De}),Ye.data=xe)),pR(ae,r,$,o,ne)}Eb(ae,s)})}function Oc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Pd(r,s){for(var o=s+"Capture",c=[];r!==null;){var f=r,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=is(r,o),f!=null&&c.unshift(Oc(r,f,p)),f=is(r,s),f!=null&&c.push(Oc(r,f,p))),r.tag===3)return c;r=r.return}return[]}function Yo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Sb(r,s,o,c,f){for(var p=s._reactName,w=[];o!==null&&o!==c;){var T=o,P=T.alternate,$=T.stateNode;if(T=T.tag,P!==null&&P===c)break;T!==5&&T!==26&&T!==27||$===null||(P=$,f?($=is(o,p),$!=null&&w.unshift(Oc(o,$,P))):f||($=is(o,p),$!=null&&w.push(Oc(o,$,P)))),o=o.return}w.length!==0&&r.push({event:s,listeners:w})}var _R=/\r\n?/g,bR=/\u0000|\uFFFD/g;function Ab(r){return(typeof r=="string"?r:""+r).replace(_R,`
`).replace(bR,"")}function Cb(r,s){return s=Ab(s),Ab(r)===s}function Vd(){}function pt(r,s,o,c,f,p){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||er(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&er(r,""+c);break;case"className":oa(r,"class",c);break;case"tabIndex":oa(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":oa(r,o,c);break;case"style":Yl(r,c,p);break;case"data":if(s!=="object"){oa(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=mr(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&pt(r,s,"name",f.name,f,null),pt(r,s,"formEncType",f.formEncType,f,null),pt(r,s,"formMethod",f.formMethod,f,null),pt(r,s,"formTarget",f.formTarget,f,null)):(pt(r,s,"encType",f.encType,f,null),pt(r,s,"method",f.method,f,null),pt(r,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=mr(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Vd);break;case"onScroll":c!=null&&Qe("scroll",r);break;case"onScrollEnd":c!=null&&Qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=mr(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Qe("beforetoggle",r),Qe("toggle",r),aa(r,"popover",c);break;case"xlinkActuate":Jn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Jn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Jn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Jn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Jn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Jn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Jn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Jn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Jn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":aa(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Uu.get(o)||o,aa(r,o,c))}}function gp(r,s,o,c,f,p){switch(o){case"style":Yl(r,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?er(r,c):(typeof c=="number"||typeof c=="bigint")&&er(r,""+c);break;case"onScroll":c!=null&&Qe("scroll",r);break;case"onScrollEnd":c!=null&&Qe("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Vd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),p=r[cn]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(s,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,f);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):aa(r,o,c)}}}function fn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",r),Qe("load",r);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var w=o[p];if(w!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:pt(r,s,p,w,o,null)}}f&&pt(r,s,"srcSet",o.srcSet,o,null),c&&pt(r,s,"src",o.src,o,null);return;case"input":Qe("invalid",r);var T=p=w=f=null,P=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var ne=o[c];if(ne!=null)switch(c){case"name":f=ne;break;case"type":w=ne;break;case"checked":P=ne;break;case"defaultChecked":$=ne;break;case"value":p=ne;break;case"defaultValue":T=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:pt(r,s,c,ne,o,null)}}Hl(r,p,T,P,$,w,f,!1),ts(r);return;case"select":Qe("invalid",r),c=w=p=null;for(f in o)if(o.hasOwnProperty(f)&&(T=o[f],T!=null))switch(f){case"value":p=T;break;case"defaultValue":w=T;break;case"multiple":c=T;default:pt(r,s,f,T,o,null)}s=p,o=w,r.multiple=!!c,s!=null?ns(r,!!c,s,!1):o!=null&&ns(r,!!c,o,!0);return;case"textarea":Qe("invalid",r),p=f=c=null;for(w in o)if(o.hasOwnProperty(w)&&(T=o[w],T!=null))switch(w){case"value":c=T;break;case"defaultValue":f=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:pt(r,s,w,T,o,null)}Lu(r,c,f,p),ts(r);return;case"option":for(P in o)if(o.hasOwnProperty(P)&&(c=o[P],c!=null))switch(P){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:pt(r,s,P,c,o,null)}return;case"dialog":Qe("beforetoggle",r),Qe("toggle",r),Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":Qe("load",r);break;case"video":case"audio":for(c=0;c<Dc.length;c++)Qe(Dc[c],r);break;case"image":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"embed":case"source":case"link":Qe("error",r),Qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:pt(r,s,$,c,o,null)}return;default:if(po(s)){for(ne in o)o.hasOwnProperty(ne)&&(c=o[ne],c!==void 0&&gp(r,s,ne,c,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(c=o[T],c!=null&&pt(r,s,T,c,o,null))}function wR(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,w=null,T=null,P=null,$=null,ne=null;for(Z in o){var ae=o[Z];if(o.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":P=ae;default:c.hasOwnProperty(Z)||pt(r,s,Z,null,c,ae)}}for(var X in c){var Z=c[X];if(ae=o[X],c.hasOwnProperty(X)&&(Z!=null||ae!=null))switch(X){case"type":p=Z;break;case"name":f=Z;break;case"checked":$=Z;break;case"defaultChecked":ne=Z;break;case"value":w=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==ae&&pt(r,s,X,Z,c,ae)}}Fl(r,w,T,P,$,ne,p,f);return;case"select":Z=w=T=X=null;for(p in o)if(P=o[p],o.hasOwnProperty(p)&&P!=null)switch(p){case"value":break;case"multiple":Z=P;default:c.hasOwnProperty(p)||pt(r,s,p,null,c,P)}for(f in c)if(p=c[f],P=o[f],c.hasOwnProperty(f)&&(p!=null||P!=null))switch(f){case"value":X=p;break;case"defaultValue":T=p;break;case"multiple":w=p;default:p!==P&&pt(r,s,f,p,c,P)}s=T,o=w,c=Z,X!=null?ns(r,!!o,X,!1):!!c!=!!o&&(s!=null?ns(r,!!o,s,!0):ns(r,!!o,o?[]:"",!1));return;case"textarea":Z=X=null;for(T in o)if(f=o[T],o.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:pt(r,s,T,null,c,f)}for(w in c)if(f=c[w],p=o[w],c.hasOwnProperty(w)&&(f!=null||p!=null))switch(w){case"value":X=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&pt(r,s,w,f,c,p)}Vu(r,X,Z);return;case"option":for(var Me in o)if(X=o[Me],o.hasOwnProperty(Me)&&X!=null&&!c.hasOwnProperty(Me))switch(Me){case"selected":r.selected=!1;break;default:pt(r,s,Me,null,c,X)}for(P in c)if(X=c[P],Z=o[P],c.hasOwnProperty(P)&&X!==Z&&(X!=null||Z!=null))switch(P){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:pt(r,s,P,X,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in o)X=o[Ie],o.hasOwnProperty(Ie)&&X!=null&&!c.hasOwnProperty(Ie)&&pt(r,s,Ie,null,c,X);for($ in c)if(X=c[$],Z=o[$],c.hasOwnProperty($)&&X!==Z&&(X!=null||Z!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:pt(r,s,$,X,c,Z)}return;default:if(po(s)){for(var gt in o)X=o[gt],o.hasOwnProperty(gt)&&X!==void 0&&!c.hasOwnProperty(gt)&&gp(r,s,gt,void 0,c,X);for(ne in c)X=c[ne],Z=o[ne],!c.hasOwnProperty(ne)||X===Z||X===void 0&&Z===void 0||gp(r,s,ne,X,c,Z);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!c.hasOwnProperty(q)&&pt(r,s,q,null,c,X);for(ae in c)X=c[ae],Z=o[ae],!c.hasOwnProperty(ae)||X===Z||X==null&&Z==null||pt(r,s,ae,X,c,Z)}var yp=null,vp=null;function Ld(r){return r.nodeType===9?r:r.ownerDocument}function xb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function _p(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bp=null;function ER(){var r=window.event;return r&&r.type==="popstate"?r===bp?!1:(bp=r,!0):(bp=null,!1)}var Ib=typeof setTimeout=="function"?setTimeout:void 0,TR=typeof clearTimeout=="function"?clearTimeout:void 0,Nb=typeof Promise=="function"?Promise:void 0,SR=typeof queueMicrotask=="function"?queueMicrotask:typeof Nb<"u"?function(r){return Nb.resolve(null).then(r).catch(AR)}:Ib;function AR(r){setTimeout(function(){throw r})}function Es(r){return r==="head"}function Db(r,s){var o=s,c=0,f=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<c&&8>c){o=c;var w=r.ownerDocument;if(o&1&&Mc(w.documentElement),o&2&&Mc(w.body),o&4)for(o=w.head,Mc(o),w=o.firstChild;w;){var T=w.nextSibling,P=w.nodeName;w[Xi]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=T}}if(f===0){r.removeChild(p),Bc(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=p}while(o);Bc(s)}function wp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wp(o),co(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function CR(r,s,o,c){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Xi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=br(r.nextSibling),r===null)break}return null}function xR(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=br(r.nextSibling),r===null))return null;return r}function Ep(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function RR(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function br(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Tp=null;function Ob(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Mb(r,s,o){switch(s=Ld(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Mc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);co(r)}var lr=new Map,kb=new Set;function Ud(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Di=K.d;K.d={f:IR,r:NR,D:DR,C:OR,L:MR,m:kR,X:VR,S:PR,M:LR};function IR(){var r=Di.f(),s=Id();return r||s}function NR(r){var s=kr(r);s!==null&&s.tag===5&&s.type==="form"?e0(s):Di.r(r)}var Wo=typeof document>"u"?null:document;function Pb(r,s,o){var c=Wo;if(c&&typeof s=="string"&&s){var f=rn(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),kb.has(f)||(kb.add(f),r={rel:r,crossOrigin:o,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),fn(s,"link",r),Ut(s),c.head.appendChild(s)))}}function DR(r){Di.D(r),Pb("dns-prefetch",r,null)}function OR(r,s){Di.C(r,s),Pb("preconnect",r,s)}function MR(r,s,o){Di.L(r,s,o);var c=Wo;if(c&&r&&s){var f='link[rel="preload"][as="'+rn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+rn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+rn(o.imageSizes)+'"]')):f+='[href="'+rn(r)+'"]';var p=f;switch(s){case"style":p=Ko(r);break;case"script":p=Qo(r)}lr.has(p)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),lr.set(p,r),c.querySelector(f)!==null||s==="style"&&c.querySelector(kc(p))||s==="script"&&c.querySelector(Pc(p))||(s=c.createElement("link"),fn(s,"link",r),Ut(s),c.head.appendChild(s)))}}function kR(r,s){Di.m(r,s);var o=Wo;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+rn(c)+'"][href="'+rn(r)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Qo(r)}if(!lr.has(p)&&(r=y({rel:"modulepreload",href:r},s),lr.set(p,r),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Pc(p)))return}c=o.createElement("link"),fn(c,"link",r),Ut(c),o.head.appendChild(c)}}}function PR(r,s,o){Di.S(r,s,o);var c=Wo;if(c&&r){var f=Ji(c).hoistableStyles,p=Ko(r);s=s||"default";var w=f.get(p);if(!w){var T={loading:0,preload:null};if(w=c.querySelector(kc(p)))T.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=lr.get(p))&&Sp(r,o);var P=w=c.createElement("link");Ut(P),fn(P,"link",r),P._p=new Promise(function($,ne){P.onload=$,P.onerror=ne}),P.addEventListener("load",function(){T.loading|=1}),P.addEventListener("error",function(){T.loading|=2}),T.loading|=4,jd(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:T},f.set(p,w)}}}function VR(r,s){Di.X(r,s);var o=Wo;if(o&&r){var c=Ji(o).hoistableScripts,f=Qo(r),p=c.get(f);p||(p=o.querySelector(Pc(f)),p||(r=y({src:r,async:!0},s),(s=lr.get(f))&&Ap(r,s),p=o.createElement("script"),Ut(p),fn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function LR(r,s){Di.M(r,s);var o=Wo;if(o&&r){var c=Ji(o).hoistableScripts,f=Qo(r),p=c.get(f);p||(p=o.querySelector(Pc(f)),p||(r=y({src:r,async:!0,type:"module"},s),(s=lr.get(f))&&Ap(r,s),p=o.createElement("script"),Ut(p),fn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function Vb(r,s,o,c){var f=(f=ge.current)?Ud(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ko(o.href),o=Ji(f).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ko(o.href);var p=Ji(f).hoistableStyles,w=p.get(r);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,w),(p=f.querySelector(kc(r)))&&!p._p&&(w.instance=p,w.state.loading=5),lr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},lr.set(r,o),p||UR(f,r,o,w.state))),s&&c===null)throw Error(i(528,""));return w}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Qo(o),o=Ji(f).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ko(r){return'href="'+rn(r)+'"'}function kc(r){return'link[rel="stylesheet"]['+r+"]"}function Lb(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function UR(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),fn(s,"link",o),Ut(s),r.head.appendChild(s))}function Qo(r){return'[src="'+rn(r)+'"]'}function Pc(r){return"script[async]"+r}function Ub(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+rn(o.href)+'"]');if(c)return s.instance=c,Ut(c),c;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Ut(c),fn(c,"style",f),jd(c,o.precedence,r),s.instance=c;case"stylesheet":f=Ko(o.href);var p=r.querySelector(kc(f));if(p)return s.state.loading|=4,s.instance=p,Ut(p),p;c=Lb(o),(f=lr.get(f))&&Sp(c,f),p=(r.ownerDocument||r).createElement("link"),Ut(p);var w=p;return w._p=new Promise(function(T,P){w.onload=T,w.onerror=P}),fn(p,"link",c),s.state.loading|=4,jd(p,o.precedence,r),s.instance=p;case"script":return p=Qo(o.src),(f=r.querySelector(Pc(p)))?(s.instance=f,Ut(f),f):(c=o,(f=lr.get(p))&&(c=y({},o),Ap(c,f)),r=r.ownerDocument||r,f=r.createElement("script"),Ut(f),fn(f,"link",c),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,jd(c,o.precedence,r));return s.instance}function jd(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,w=0;w<c.length;w++){var T=c[w];if(T.dataset.precedence===s)p=T;else if(p!==f)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Sp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Ap(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var zd=null;function jb(r,s,o){if(zd===null){var c=new Map,f=zd=new Map;f.set(o,c)}else f=zd,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var p=o[f];if(!(p[Xi]||p[Lt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(s)||"";w=r+w;var T=c.get(w);T?T.push(p):c.set(w,[p])}}return c}function zb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function jR(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Bb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Vc=null;function zR(){}function BR(r,s,o){if(Vc===null)throw Error(i(475));var c=Vc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Ko(o.href),p=r.querySelector(kc(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Bd.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=p,Ut(p);return}p=r.ownerDocument||r,o=Lb(o),(f=lr.get(f))&&Sp(o,f),p=p.createElement("link"),Ut(p);var w=p;w._p=new Promise(function(T,P){w.onload=T,w.onerror=P}),fn(p,"link",o),s.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Bd.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function FR(){if(Vc===null)throw Error(i(475));var r=Vc;return r.stylesheets&&r.count===0&&Cp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Cp(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Bd(){if(this.count--,this.count===0){if(this.stylesheets)Cp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Fd=null;function Cp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Fd=new Map,s.forEach(HR,r),Fd=null,Bd.call(r))}function HR(r,s){if(!(s.state.loading&4)){var o=Fd.get(r);if(o)var c=o.get(null);else{o=new Map,Fd.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var w=f[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}f=s.instance,w=f.getAttribute("data-precedence"),p=o.get(w)||c,p===c&&o.set(null,f),o.set(w,f),this.count++,c=Bd.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var Lc={$$typeof:G,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function qR(r,s,o,c,f,p,w,T){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.hiddenUpdates=lo(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Fb(r,s,o,c,f,p,w,T,P,$,ne,ae){return r=new qR(r,s,o,w,T,P,$,ae),s=1,p===!0&&(s|=24),p=Fn(3,null,null,s),r.current=p,p.stateNode=r,s=om(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:s},dm(p),r}function Hb(r){return r?(r=Co,r):Co}function qb(r,s,o,c,f,p){f=Hb(f),c.context===null?c.context=f:c.pendingContext=f,c=cs(s),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=us(r,c,s),o!==null&&(Wn(o,r,s),hc(o,r,s))}function Gb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function xp(r,s){Gb(r,s),(r=r.alternate)&&Gb(r,s)}function Yb(r){if(r.tag===13){var s=Ao(r,67108864);s!==null&&Wn(s,r,67108864),xp(r,67108864)}}var Hd=!0;function GR(r,s,o,c){var f=Y.T;Y.T=null;var p=K.p;try{K.p=2,Rp(r,s,o,c)}finally{K.p=p,Y.T=f}}function YR(r,s,o,c){var f=Y.T;Y.T=null;var p=K.p;try{K.p=8,Rp(r,s,o,c)}finally{K.p=p,Y.T=f}}function Rp(r,s,o,c){if(Hd){var f=Ip(c);if(f===null)pp(r,s,c,qd,o),Kb(r,c);else if(KR(f,r,s,o,c))c.stopPropagation();else if(Kb(r,c),s&4&&-1<WR.indexOf(r)){for(;f!==null;){var p=kr(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=dr(p.pendingLanes);if(w!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;w;){var P=1<<31-Cn(w);T.entanglements[1]|=P,w&=~P}qr(p),(ct&6)===0&&(xd=Ce()+500,Nc(0))}}break;case 13:T=Ao(p,2),T!==null&&Wn(T,p,2),Id(),xp(p,2)}if(p=Ip(c),p===null&&pp(r,s,c,qd,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else pp(r,s,c,null,o)}}function Ip(r){return r=Kl(r),Np(r)}var qd=null;function Np(r){if(qd=null,r=Mr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return qd=r,null}function Wb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ft()){case tt:return 2;case vt:return 8;case jn:case Ph:return 32;case Ul:return 268435456;default:return 32}default:return 32}}var Dp=!1,Ts=null,Ss=null,As=null,Uc=new Map,jc=new Map,Cs=[],WR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kb(r,s){switch(r){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Uc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(s.pointerId)}}function zc(r,s,o,c,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},s!==null&&(s=kr(s),s!==null&&Yb(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function KR(r,s,o,c,f){switch(s){case"focusin":return Ts=zc(Ts,r,s,o,c,f),!0;case"dragenter":return Ss=zc(Ss,r,s,o,c,f),!0;case"mouseover":return As=zc(As,r,s,o,c,f),!0;case"pointerover":var p=f.pointerId;return Uc.set(p,zc(Uc.get(p)||null,r,s,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,jc.set(p,zc(jc.get(p)||null,r,s,o,c,f)),!0}return!1}function Qb(r){var s=Mr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,Uh(r.priority,function(){if(o.tag===13){var c=Yn();c=zl(c);var f=Ao(o,c);f!==null&&Wn(f,o,c),xp(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Ip(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Wl=c,o.target.dispatchEvent(c),Wl=null}else return s=kr(o),s!==null&&Yb(s),r.blockedOn=o,!1;s.shift()}return!0}function $b(r,s,o){Gd(r)&&o.delete(s)}function QR(){Dp=!1,Ts!==null&&Gd(Ts)&&(Ts=null),Ss!==null&&Gd(Ss)&&(Ss=null),As!==null&&Gd(As)&&(As=null),Uc.forEach($b),jc.forEach($b)}function Yd(r,s){r.blockedOn===s&&(r.blockedOn=null,Dp||(Dp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,QR)))}var Wd=null;function Xb(r){Wd!==r&&(Wd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wd===r&&(Wd=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],f=r[s+2];if(typeof c!="function"){if(Np(c||o)===null)continue;break}var p=kr(o);p!==null&&(r.splice(s,3),s-=3,Nm(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Bc(r){function s(P){return Yd(P,r)}Ts!==null&&Yd(Ts,r),Ss!==null&&Yd(Ss,r),As!==null&&Yd(As,r),Uc.forEach(s),jc.forEach(s);for(var o=0;o<Cs.length;o++){var c=Cs[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Cs.length&&(o=Cs[0],o.blockedOn===null);)Qb(o),o.blockedOn===null&&Cs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],w=f[cn]||null;if(typeof p=="function")w||Xb(o);else if(w){var T=null;if(p&&p.hasAttribute("formAction")){if(f=p,w=p[cn]||null)T=w.formAction;else if(Np(f)!==null)continue}else T=w.action;typeof T=="function"?o[c+1]=T:(o.splice(c,3),c-=3),Xb(o)}}}function Op(r){this._internalRoot=r}Kd.prototype.render=Op.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Yn();qb(o,c,r,s,null,null)},Kd.prototype.unmount=Op.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;qb(r.current,2,null,r,null,null),Id(),s[hi]=null}};function Kd(r){this._internalRoot=r}Kd.prototype.unstable_scheduleHydration=function(r){if(r){var s=fi();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Cs.length&&s!==0&&s<Cs[o].priority;o++);Cs.splice(o,0,r),o===0&&Qb(r)}};var Zb=e.version;if(Zb!=="19.1.4")throw Error(i(527,Zb,"19.1.4"));K.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var $R={bundleType:0,version:"19.1.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{Gi=Qd.inject($R),yn=Qd}catch{}}return Hc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",f=m0,p=p0,w=g0,T=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks)),s=Fb(r,1,!1,null,null,o,c,f,p,w,T,null),r[hi]=s.current,mp(r),new Op(s)},Hc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,f="",p=m0,w=p0,T=g0,P=null,$=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(P=o.unstable_transitionCallbacks),o.formState!==void 0&&($=o.formState)),s=Fb(r,1,!0,s,o??null,c,f,p,w,T,P,$),s.context=Hb(null),o=s.current,c=Yn(),c=zl(c),f=cs(c),f.callback=null,us(o,f,c),o=c,s.current.lanes=o,Vt(s,o),qr(s),r[hi]=s.current,mp(r),new Kd(s)},Hc.version="19.1.4",Hc}var lw;function aI(){if(lw)return Pp.exports;lw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pp.exports=sI(),Pp.exports}var oI=aI();const lI=()=>{};var cw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},cI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],h=n[t++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],u=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,h=u?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let E=(h&15)<<2|g>>6,C=g&63;m||(C=64,u||(E=64)),i.push(t[y],t[_],t[E],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||g==null||_==null)throw new uI;const E=l<<2|h>>4;if(i.push(E),g!==64){const C=h<<4&240|g>>2;if(i.push(C),_!==64){const D=g<<6&192|_;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dI=function(n){const e=VT(n);return LT.encodeByteArray(e,!0)},Rf=function(n){return dI(n).replace(/\./g,"")},UT=function(n){try{return LT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=()=>fI().__FIREBASE_DEFAULTS__,mI=()=>{if(typeof process>"u"||typeof cw>"u")return;const n=cw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&UT(n[1]);return e&&JSON.parse(e)},rh=()=>{try{return lI()||hI()||mI()||pI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jT=n=>rh()?.emulatorHosts?.[n],zT=n=>{const e=jT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},BT=()=>rh()?.config,FT=n=>rh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Rf(JSON.stringify(t)),Rf(JSON.stringify(u)),""].join(".")}const Zc={};function yI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Zc))Zc[e]?n.emulator.push(e):n.prod.push(e);return n}function vI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let uw=!1;function my(n,e){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||Zc[n]===e||Zc[n]||uw)return;Zc[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=yI().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{uw=!0,u()},E}function y(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=vI(i),C=t("text"),D=document.getElementById(C)||document.createElement("span"),S=t("learnmore"),N=document.getElementById(S)||document.createElement("a"),B=t("preprendIcon"),H=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;h(G),y(N,S);const ee=g();m(H,B),G.append(H,D,N,ee),document.body.appendChild(G)}l?(D.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _I(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function bI(){const n=rh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function TI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SI(){const n=Sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AI(){return!bI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CI(){try{return typeof indexedDB=="object"}catch{return!1}}function xI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="FirebaseError";class ci extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=RI,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?II(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new ci(a,h,i)}}function II(n,e){return n.replace(NI,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const NI=/\{\$([^}]+)}/g;function DI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],u=e[a];if(dw(l)&&dw(u)){if(!qa(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function dw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function OI(n,e){const t=new MI(n,e);return t.subscribe.bind(t)}class MI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");kI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=jp),a.error===void 0&&(a.error=jp),a.complete===void 0&&(a.complete=jp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n){return n&&n._delegate?n._delegate:n}class Hs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new gI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(LI(e))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ua){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ua){return this.instances.has(e)}getOptions(e=Ua){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:VI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ua){return this.component?this.component.multipleInstances?e:Ua:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VI(n){return n===Ua?void 0:n}function LI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const jI={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},zI=$e.INFO,BI={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},FI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=BI[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class py{constructor(e){this.name=e,this._logLevel=zI,this._logHandler=FI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const HI=(n,e)=>e.some(t=>n instanceof t);let fw,hw;function qI(){return fw||(fw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GI(){return hw||(hw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qT=new WeakMap,vg=new WeakMap,GT=new WeakMap,zp=new WeakMap,gy=new WeakMap;function YI(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Us(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&qT.set(t,n)}).catch(()=>{}),gy.set(e,n),e}function WI(n){if(vg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});vg.set(n,e)}let _g={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return vg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||GT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Us(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KI(n){_g=n(_g)}function QI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Bp(this),e,...t);return GT.set(i,e.sort?e.sort():[e]),Us(i)}:GI().includes(n)?function(...e){return n.apply(Bp(this),e),Us(qT.get(this))}:function(...e){return Us(n.apply(Bp(this),e))}}function $I(n){return typeof n=="function"?QI(n):(n instanceof IDBTransaction&&WI(n),HI(n,qI())?new Proxy(n,_g):n)}function Us(n){if(n instanceof IDBRequest)return YI(n);if(zp.has(n))return zp.get(n);const e=$I(n);return e!==n&&(zp.set(n,e),gy.set(e,n)),e}const Bp=n=>gy.get(n);function XI(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),h=Us(u);return i&&u.addEventListener("upgradeneeded",m=>{i(Us(u.result),m.oldVersion,m.newVersion,Us(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const ZI=["get","getKey","getAll","getAllKeys","count"],JI=["put","add","delete","clear"],Fp=new Map;function mw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fp.get(e))return Fp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=JI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||ZI.includes(t)))return;const l=async function(u,...h){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),a&&m.done]))[0]};return Fp.set(e,l),l}KI(n=>({...n,get:(e,t,i)=>mw(e,t)||n.get(e,t,i),has:(e,t)=>!!mw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(tN(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function tN(n){return n.getComponent()?.type==="VERSION"}const bg="@firebase/app",pw="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new py("@firebase/app"),nN="@firebase/app-compat",rN="@firebase/analytics-compat",iN="@firebase/analytics",sN="@firebase/app-check-compat",aN="@firebase/app-check",oN="@firebase/auth",lN="@firebase/auth-compat",cN="@firebase/database",uN="@firebase/data-connect",dN="@firebase/database-compat",fN="@firebase/functions",hN="@firebase/functions-compat",mN="@firebase/installations",pN="@firebase/installations-compat",gN="@firebase/messaging",yN="@firebase/messaging-compat",vN="@firebase/performance",_N="@firebase/performance-compat",bN="@firebase/remote-config",wN="@firebase/remote-config-compat",EN="@firebase/storage",TN="@firebase/storage-compat",SN="@firebase/firestore",AN="@firebase/ai",CN="@firebase/firestore-compat",xN="firebase",RN="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="[DEFAULT]",IN={[bg]:"fire-core",[nN]:"fire-core-compat",[iN]:"fire-analytics",[rN]:"fire-analytics-compat",[aN]:"fire-app-check",[sN]:"fire-app-check-compat",[oN]:"fire-auth",[lN]:"fire-auth-compat",[cN]:"fire-rtdb",[uN]:"fire-data-connect",[dN]:"fire-rtdb-compat",[fN]:"fire-fn",[hN]:"fire-fn-compat",[mN]:"fire-iid",[pN]:"fire-iid-compat",[gN]:"fire-fcm",[yN]:"fire-fcm-compat",[vN]:"fire-perf",[_N]:"fire-perf-compat",[bN]:"fire-rc",[wN]:"fire-rc-compat",[EN]:"fire-gcs",[TN]:"fire-gcs-compat",[SN]:"fire-fst",[CN]:"fire-fst-compat",[AN]:"fire-vertex","fire-js":"fire-js",[xN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=new Map,NN=new Map,Eg=new Map;function gw(n,e){try{n.container.addComponent(e)}catch(t){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ga(n){const e=n.name;if(Eg.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Eg.set(e,n);for(const t of If.values())gw(t,n);for(const t of NN.values())gw(t,n);return!0}function ih(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Er(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new pu("app","Firebase",DN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=RN;function YT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:wg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw js.create("bad-app-name",{appName:String(a)});if(t||(t=BT()),!t)throw js.create("no-options");const l=If.get(a);if(l){if(qa(t,l.options)&&qa(i,l.config))return l;throw js.create("duplicate-app",{appName:a})}const u=new UI(a);for(const m of Eg.values())u.addComponent(m);const h=new ON(t,i,u);return If.set(a,h),h}function yy(n=wg){const e=If.get(n);if(!e&&n===wg&&BT())return YT();if(!e)throw js.create("no-app",{appName:n});return e}function Xr(n,e,t){let i=IN[n]??n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(u.join(" "));return}Ga(new Hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="firebase-heartbeat-database",kN=1,iu="firebase-heartbeat-store";let Hp=null;function WT(){return Hp||(Hp=XI(MN,kN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(iu)}catch(t){console.warn(t)}}}}).catch(n=>{throw js.create("idb-open",{originalErrorMessage:n.message})})),Hp}async function PN(n){try{const t=(await WT()).transaction(iu),i=await t.objectStore(iu).get(KT(n));return await t.done,i}catch(e){if(e instanceof ci)Li.warn(e.message);else{const t=js.create("idb-get",{originalErrorMessage:e?.message});Li.warn(t.message)}}}async function yw(n,e){try{const i=(await WT()).transaction(iu,"readwrite");await i.objectStore(iu).put(e,KT(n)),await i.done}catch(t){if(t instanceof ci)Li.warn(t.message);else{const i=js.create("idb-set",{originalErrorMessage:t?.message});Li.warn(i.message)}}}function KT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=1024,LN=30;class UN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zN(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>LN){const a=BN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vw(),{heartbeatsToSend:t,unsentEntries:i}=jN(this._heartbeatsCache.heartbeats),a=Rf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Li.warn(e),""}}}function vw(){return new Date().toISOString().substring(0,10)}function jN(n,e=VN){const t=[];let i=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),_w(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),_w(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class zN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CI()?xI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return yw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function _w(n){return Rf(JSON.stringify({version:2,heartbeats:n})).length}function BN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(n){Ga(new Hs("platform-logger",e=>new eN(e),"PRIVATE")),Ga(new Hs("heartbeat",e=>new UN(e),"PRIVATE")),Xr(bg,pw,n),Xr(bg,pw,"esm2020"),Xr("fire-js","")}FN("");var bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zs,QT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,x){function M(){}M.prototype=x.prototype,O.F=x.prototype,O.prototype=new M,O.prototype.constructor=O,O.D=function(U,L,j){for(var k=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)k[_e-2]=arguments[_e];return x.prototype[L].apply(U,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,x,M){M||(M=0);const U=Array(16);if(typeof x=="string")for(var L=0;L<16;++L)U[L]=x.charCodeAt(M++)|x.charCodeAt(M++)<<8|x.charCodeAt(M++)<<16|x.charCodeAt(M++)<<24;else for(L=0;L<16;++L)U[L]=x[M++]|x[M++]<<8|x[M++]<<16|x[M++]<<24;x=O.g[0],M=O.g[1],L=O.g[2];let j=O.g[3],k;k=x+(j^M&(L^j))+U[0]+3614090360&4294967295,x=M+(k<<7&4294967295|k>>>25),k=j+(L^x&(M^L))+U[1]+3905402710&4294967295,j=x+(k<<12&4294967295|k>>>20),k=L+(M^j&(x^M))+U[2]+606105819&4294967295,L=j+(k<<17&4294967295|k>>>15),k=M+(x^L&(j^x))+U[3]+3250441966&4294967295,M=L+(k<<22&4294967295|k>>>10),k=x+(j^M&(L^j))+U[4]+4118548399&4294967295,x=M+(k<<7&4294967295|k>>>25),k=j+(L^x&(M^L))+U[5]+1200080426&4294967295,j=x+(k<<12&4294967295|k>>>20),k=L+(M^j&(x^M))+U[6]+2821735955&4294967295,L=j+(k<<17&4294967295|k>>>15),k=M+(x^L&(j^x))+U[7]+4249261313&4294967295,M=L+(k<<22&4294967295|k>>>10),k=x+(j^M&(L^j))+U[8]+1770035416&4294967295,x=M+(k<<7&4294967295|k>>>25),k=j+(L^x&(M^L))+U[9]+2336552879&4294967295,j=x+(k<<12&4294967295|k>>>20),k=L+(M^j&(x^M))+U[10]+4294925233&4294967295,L=j+(k<<17&4294967295|k>>>15),k=M+(x^L&(j^x))+U[11]+2304563134&4294967295,M=L+(k<<22&4294967295|k>>>10),k=x+(j^M&(L^j))+U[12]+1804603682&4294967295,x=M+(k<<7&4294967295|k>>>25),k=j+(L^x&(M^L))+U[13]+4254626195&4294967295,j=x+(k<<12&4294967295|k>>>20),k=L+(M^j&(x^M))+U[14]+2792965006&4294967295,L=j+(k<<17&4294967295|k>>>15),k=M+(x^L&(j^x))+U[15]+1236535329&4294967295,M=L+(k<<22&4294967295|k>>>10),k=x+(L^j&(M^L))+U[1]+4129170786&4294967295,x=M+(k<<5&4294967295|k>>>27),k=j+(M^L&(x^M))+U[6]+3225465664&4294967295,j=x+(k<<9&4294967295|k>>>23),k=L+(x^M&(j^x))+U[11]+643717713&4294967295,L=j+(k<<14&4294967295|k>>>18),k=M+(j^x&(L^j))+U[0]+3921069994&4294967295,M=L+(k<<20&4294967295|k>>>12),k=x+(L^j&(M^L))+U[5]+3593408605&4294967295,x=M+(k<<5&4294967295|k>>>27),k=j+(M^L&(x^M))+U[10]+38016083&4294967295,j=x+(k<<9&4294967295|k>>>23),k=L+(x^M&(j^x))+U[15]+3634488961&4294967295,L=j+(k<<14&4294967295|k>>>18),k=M+(j^x&(L^j))+U[4]+3889429448&4294967295,M=L+(k<<20&4294967295|k>>>12),k=x+(L^j&(M^L))+U[9]+568446438&4294967295,x=M+(k<<5&4294967295|k>>>27),k=j+(M^L&(x^M))+U[14]+3275163606&4294967295,j=x+(k<<9&4294967295|k>>>23),k=L+(x^M&(j^x))+U[3]+4107603335&4294967295,L=j+(k<<14&4294967295|k>>>18),k=M+(j^x&(L^j))+U[8]+1163531501&4294967295,M=L+(k<<20&4294967295|k>>>12),k=x+(L^j&(M^L))+U[13]+2850285829&4294967295,x=M+(k<<5&4294967295|k>>>27),k=j+(M^L&(x^M))+U[2]+4243563512&4294967295,j=x+(k<<9&4294967295|k>>>23),k=L+(x^M&(j^x))+U[7]+1735328473&4294967295,L=j+(k<<14&4294967295|k>>>18),k=M+(j^x&(L^j))+U[12]+2368359562&4294967295,M=L+(k<<20&4294967295|k>>>12),k=x+(M^L^j)+U[5]+4294588738&4294967295,x=M+(k<<4&4294967295|k>>>28),k=j+(x^M^L)+U[8]+2272392833&4294967295,j=x+(k<<11&4294967295|k>>>21),k=L+(j^x^M)+U[11]+1839030562&4294967295,L=j+(k<<16&4294967295|k>>>16),k=M+(L^j^x)+U[14]+4259657740&4294967295,M=L+(k<<23&4294967295|k>>>9),k=x+(M^L^j)+U[1]+2763975236&4294967295,x=M+(k<<4&4294967295|k>>>28),k=j+(x^M^L)+U[4]+1272893353&4294967295,j=x+(k<<11&4294967295|k>>>21),k=L+(j^x^M)+U[7]+4139469664&4294967295,L=j+(k<<16&4294967295|k>>>16),k=M+(L^j^x)+U[10]+3200236656&4294967295,M=L+(k<<23&4294967295|k>>>9),k=x+(M^L^j)+U[13]+681279174&4294967295,x=M+(k<<4&4294967295|k>>>28),k=j+(x^M^L)+U[0]+3936430074&4294967295,j=x+(k<<11&4294967295|k>>>21),k=L+(j^x^M)+U[3]+3572445317&4294967295,L=j+(k<<16&4294967295|k>>>16),k=M+(L^j^x)+U[6]+76029189&4294967295,M=L+(k<<23&4294967295|k>>>9),k=x+(M^L^j)+U[9]+3654602809&4294967295,x=M+(k<<4&4294967295|k>>>28),k=j+(x^M^L)+U[12]+3873151461&4294967295,j=x+(k<<11&4294967295|k>>>21),k=L+(j^x^M)+U[15]+530742520&4294967295,L=j+(k<<16&4294967295|k>>>16),k=M+(L^j^x)+U[2]+3299628645&4294967295,M=L+(k<<23&4294967295|k>>>9),k=x+(L^(M|~j))+U[0]+4096336452&4294967295,x=M+(k<<6&4294967295|k>>>26),k=j+(M^(x|~L))+U[7]+1126891415&4294967295,j=x+(k<<10&4294967295|k>>>22),k=L+(x^(j|~M))+U[14]+2878612391&4294967295,L=j+(k<<15&4294967295|k>>>17),k=M+(j^(L|~x))+U[5]+4237533241&4294967295,M=L+(k<<21&4294967295|k>>>11),k=x+(L^(M|~j))+U[12]+1700485571&4294967295,x=M+(k<<6&4294967295|k>>>26),k=j+(M^(x|~L))+U[3]+2399980690&4294967295,j=x+(k<<10&4294967295|k>>>22),k=L+(x^(j|~M))+U[10]+4293915773&4294967295,L=j+(k<<15&4294967295|k>>>17),k=M+(j^(L|~x))+U[1]+2240044497&4294967295,M=L+(k<<21&4294967295|k>>>11),k=x+(L^(M|~j))+U[8]+1873313359&4294967295,x=M+(k<<6&4294967295|k>>>26),k=j+(M^(x|~L))+U[15]+4264355552&4294967295,j=x+(k<<10&4294967295|k>>>22),k=L+(x^(j|~M))+U[6]+2734768916&4294967295,L=j+(k<<15&4294967295|k>>>17),k=M+(j^(L|~x))+U[13]+1309151649&4294967295,M=L+(k<<21&4294967295|k>>>11),k=x+(L^(M|~j))+U[4]+4149444226&4294967295,x=M+(k<<6&4294967295|k>>>26),k=j+(M^(x|~L))+U[11]+3174756917&4294967295,j=x+(k<<10&4294967295|k>>>22),k=L+(x^(j|~M))+U[2]+718787259&4294967295,L=j+(k<<15&4294967295|k>>>17),k=M+(j^(L|~x))+U[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,O.g[2]=O.g[2]+L&4294967295,O.g[3]=O.g[3]+j&4294967295}i.prototype.v=function(O,x){x===void 0&&(x=O.length);const M=x-this.blockSize,U=this.C;let L=this.h,j=0;for(;j<x;){if(L==0)for(;j<=M;)a(this,O,j),j+=this.blockSize;if(typeof O=="string"){for(;j<x;)if(U[L++]=O.charCodeAt(j++),L==this.blockSize){a(this,U),L=0;break}}else for(;j<x;)if(U[L++]=O[j++],L==this.blockSize){a(this,U),L=0;break}}this.h=L,this.o+=x},i.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;x=this.o*8;for(var M=O.length-8;M<O.length;++M)O[M]=x&255,x/=256;for(this.v(O),O=Array(16),x=0,M=0;M<4;++M)for(let U=0;U<32;U+=8)O[x++]=this.g[M]>>>U&255;return O};function l(O,x){var M=h;return Object.prototype.hasOwnProperty.call(M,O)?M[O]:M[O]=x(O)}function u(O,x){this.h=x;const M=[];let U=!0;for(let L=O.length-1;L>=0;L--){const j=O[L]|0;U&&j==x||(M[L]=j,U=!1)}this.g=M}var h={};function m(O){return-128<=O&&O<128?l(O,function(x){return new u([x|0],x<0?-1:0)}):new u([O|0],O<0?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return _;if(O<0)return N(g(-O));const x=[];let M=1;for(let U=0;O>=M;U++)x[U]=O/M|0,M*=4294967296;return new u(x,0)}function y(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return N(y(O.substring(1),x));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=g(Math.pow(x,8));let U=_;for(let j=0;j<O.length;j+=8){var L=Math.min(8,O.length-j);const k=parseInt(O.substring(j,j+L),x);L<8?(L=g(Math.pow(x,L)),U=U.j(L).add(g(k))):(U=U.j(M),U=U.add(g(k)))}return U}var _=m(0),E=m(1),C=m(16777216);n=u.prototype,n.m=function(){if(S(this))return-N(this).m();let O=0,x=1;for(let M=0;M<this.g.length;M++){const U=this.i(M);O+=(U>=0?U:4294967296+U)*x,x*=4294967296}return O},n.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(D(this))return"0";if(S(this))return"-"+N(this).toString(O);const x=g(Math.pow(O,6));var M=this;let U="";for(;;){const L=ee(M,x).g;M=B(M,L.j(x));let j=((M.g.length>0?M.g[0]:M.h)>>>0).toString(O);if(M=L,D(M))return j+U;for(;j.length<6;)j="0"+j;U=j+U}},n.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function D(O){if(O.h!=0)return!1;for(let x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function S(O){return O.h==-1}n.l=function(O){return O=B(this,O),S(O)?-1:D(O)?0:1};function N(O){const x=O.g.length,M=[];for(let U=0;U<x;U++)M[U]=~O.g[U];return new u(M,~O.h).add(E)}n.abs=function(){return S(this)?N(this):this},n.add=function(O){const x=Math.max(this.g.length,O.g.length),M=[];let U=0;for(let L=0;L<=x;L++){let j=U+(this.i(L)&65535)+(O.i(L)&65535),k=(j>>>16)+(this.i(L)>>>16)+(O.i(L)>>>16);U=k>>>16,j&=65535,k&=65535,M[L]=k<<16|j}return new u(M,M[M.length-1]&-2147483648?-1:0)};function B(O,x){return O.add(N(x))}n.j=function(O){if(D(this)||D(O))return _;if(S(this))return S(O)?N(this).j(N(O)):N(N(this).j(O));if(S(O))return N(this.j(N(O)));if(this.l(C)<0&&O.l(C)<0)return g(this.m()*O.m());const x=this.g.length+O.g.length,M=[];for(var U=0;U<2*x;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(let L=0;L<O.g.length;L++){const j=this.i(U)>>>16,k=this.i(U)&65535,_e=O.i(L)>>>16,Se=O.i(L)&65535;M[2*U+2*L]+=k*Se,H(M,2*U+2*L),M[2*U+2*L+1]+=j*Se,H(M,2*U+2*L+1),M[2*U+2*L+1]+=k*_e,H(M,2*U+2*L+1),M[2*U+2*L+2]+=j*_e,H(M,2*U+2*L+2)}for(O=0;O<x;O++)M[O]=M[2*O+1]<<16|M[2*O];for(O=x;O<2*x;O++)M[O]=0;return new u(M,0)};function H(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function G(O,x){this.g=O,this.h=x}function ee(O,x){if(D(x))throw Error("division by zero");if(D(O))return new G(_,_);if(S(O))return x=ee(N(O),x),new G(N(x.g),N(x.h));if(S(x))return x=ee(O,N(x)),new G(N(x.g),x.h);if(O.g.length>30){if(S(O)||S(x))throw Error("slowDivide_ only works with positive integers.");for(var M=E,U=x;U.l(O)<=0;)M=te(M),U=te(U);var L=le(M,1),j=le(U,1);for(U=le(U,2),M=le(M,2);!D(U);){var k=j.add(U);k.l(O)<=0&&(L=L.add(M),j=k),U=le(U,1),M=le(M,1)}return x=B(O,L.j(x)),new G(L,x)}for(L=_;O.l(x)>=0;){for(M=Math.max(1,Math.floor(O.m()/x.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),j=g(M),k=j.j(x);S(k)||k.l(O)>0;)M-=U,j=g(M),k=j.j(x);D(j)&&(j=E),L=L.add(j),O=B(O,k)}return new G(L,O)}n.B=function(O){return ee(this,O).h},n.and=function(O){const x=Math.max(this.g.length,O.g.length),M=[];for(let U=0;U<x;U++)M[U]=this.i(U)&O.i(U);return new u(M,this.h&O.h)},n.or=function(O){const x=Math.max(this.g.length,O.g.length),M=[];for(let U=0;U<x;U++)M[U]=this.i(U)|O.i(U);return new u(M,this.h|O.h)},n.xor=function(O){const x=Math.max(this.g.length,O.g.length),M=[];for(let U=0;U<x;U++)M[U]=this.i(U)^O.i(U);return new u(M,this.h^O.h)};function te(O){const x=O.g.length+1,M=[];for(let U=0;U<x;U++)M[U]=O.i(U)<<1|O.i(U-1)>>>31;return new u(M,O.h)}function le(O,x){const M=x>>5;x%=32;const U=O.g.length-M,L=[];for(let j=0;j<U;j++)L[j]=x>0?O.i(j+M)>>>x|O.i(j+M+1)<<32-x:O.i(j+M);return new u(L,O.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,QT=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,zs=u}).apply(typeof bw<"u"?bw:typeof self<"u"?self:typeof window<"u"?window:{});var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $T,Wc,XT,hf,Tg,ZT,JT,e1;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof $d=="object"&&$d];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function a(d,v){if(v)e:{var b=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var Q=d[I];if(!(Q in b))break e;b=b[Q]}d=d[d.length-1],I=b[d],v=v(I),v!=I&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(v){var b=[],I;for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&b.push([I,v[I]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,b){return d.call.apply(d.bind,arguments)}function g(d,v,b){return g=m,g.apply(null,arguments)}function y(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var I=b.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function _(d,v){function b(){}b.prototype=v.prototype,d.Z=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Ob=function(I,Q,J){for(var he=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)he[Le-2]=arguments[Le];return v.prototype[Q].apply(I,he)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function C(d){const v=d.length;if(v>0){const b=Array(v);for(let I=0;I<v;I++)b[I]=d[I];return b}return[]}function D(d,v){for(let I=1;I<arguments.length;I++){const Q=arguments[I];var b=typeof Q;if(b=b!="object"?b:Q?Array.isArray(Q)?"array":b:"null",b=="array"||b=="object"&&typeof Q.length=="number"){b=d.length||0;const J=Q.length||0;d.length=b+J;for(let he=0;he<J;he++)d[b+he]=Q[he]}else d.push(Q)}}class S{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function N(d){u.setTimeout(()=>{throw d},0)}function B(){var d=O;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class H{constructor(){this.h=this.g=null}add(v,b){const I=G.get();I.set(v,b),this.h?this.h.next=I:this.g=I,this.h=I}}var G=new S(()=>new ee,d=>d.reset());class ee{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let te,le=!1,O=new H,x=()=>{const d=Promise.resolve(void 0);te=()=>{d.then(M)}};function M(){for(var d;d=B();){try{d.h.call(d.g)}catch(b){N(b)}var v=G;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}le=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};u.addEventListener("test",b,v),u.removeEventListener("test",b,v)}catch{}return d})();function k(d){return/^[\s\xa0]*$/.test(d)}function _e(d,v){L.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}_(_e,L),_e.prototype.init=function(d,v){const b=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&_e.Z.h.call(this)},_e.prototype.h=function(){_e.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),Y=0;function K(d,v,b,I,Q){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!I,this.ha=Q,this.key=++Y,this.da=this.fa=!1}function z(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ve(d,v,b){for(const I in d)v.call(b,d[I],I,d)}function V(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function re(d){const v={};for(const b in d)v[b]=d[b];return v}const ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(d,v){let b,I;for(let Q=1;Q<arguments.length;Q++){I=arguments[Q];for(b in I)d[b]=I[b];for(let J=0;J<ue.length;J++)b=ue[J],Object.prototype.hasOwnProperty.call(I,b)&&(d[b]=I[b])}}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,v,b,I,Q){const J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);const he=ge(d,v,I,Q);return he>-1?(v=d[he],b||(v.fa=!1)):(v=new K(v,this.src,J,!!I,Q),v.fa=b,d.push(v)),v};function Ne(d,v){const b=v.type;if(b in d.g){var I=d.g[b],Q=Array.prototype.indexOf.call(I,v,void 0),J;(J=Q>=0)&&Array.prototype.splice.call(I,Q,1),J&&(z(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function ge(d,v,b,I){for(let Q=0;Q<d.length;++Q){const J=d[Q];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==I)return Q}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Ae={};function Je(d,v,b,I,Q){if(Array.isArray(v)){for(let J=0;J<v.length;J++)Je(d,v[J],b,I,Q);return null}return b=ft(b),d&&d[Se]?d.J(v,b,h(I)?!!I.capture:!1,Q):He(d,v,b,!1,I,Q)}function He(d,v,b,I,Q,J){if(!v)throw Error("Invalid event type");const he=h(Q)?!!Q.capture:!!Q;let Le=We(d);if(Le||(d[de]=Le=new me(d)),b=Le.add(v,b,I,he,J),b.proxy)return b;if(I=qe(),b.proxy=I,I.src=d,I.listener=b,d.addEventListener)j||(Q=he),Q===void 0&&(Q=!1),d.addEventListener(v.toString(),I,Q);else if(d.attachEvent)d.attachEvent(be(v.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return b}function qe(){function d(b){return v.call(d.src,d.listener,b)}const v=Ge;return d}function et(d,v,b,I,Q){if(Array.isArray(v))for(var J=0;J<v.length;J++)et(d,v[J],b,I,Q);else I=h(I)?!!I.capture:!!I,b=ft(b),d&&d[Se]?(d=d.i,J=String(v).toString(),J in d.g&&(v=d.g[J],b=ge(v,b,I,Q),b>-1&&(z(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete d.g[J],d.h--)))):d&&(d=We(d))&&(v=d.g[v.toString()],d=-1,v&&(d=ge(v,b,I,Q)),(b=d>-1?v[d]:null)&&fe(b))}function fe(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Se])Ne(v.i,d);else{var b=d.type,I=d.proxy;v.removeEventListener?v.removeEventListener(b,I,d.capture):v.detachEvent?v.detachEvent(be(b),I):v.addListener&&v.removeListener&&v.removeListener(I),(b=We(v))?(Ne(b,d),b.h==0&&(b.src=null,v[de]=null)):z(d)}}}function be(d){return d in Ae?Ae[d]:Ae[d]="on"+d}function Ge(d,v){if(d.da)d=!0;else{v=new _e(v,this);const b=d.listener,I=d.ha||d.src;d.fa&&fe(d),d=b.call(I,v)}return d}function We(d){return d=d[de],d instanceof me?d:null}var Ce="__closure_events_fn_"+(Math.random()*1e9>>>0);function ft(d){return typeof d=="function"?d:(d[Ce]||(d[Ce]=function(v){return d.handleEvent(v)}),d[Ce])}function tt(){U.call(this),this.i=new me(this),this.M=this,this.G=null}_(tt,U),tt.prototype[Se]=!0,tt.prototype.removeEventListener=function(d,v,b,I){et(this,d,v,b,I)};function vt(d,v){var b,I=d.G;if(I)for(b=[];I;I=I.G)b.push(I);if(d=d.M,I=v.type||v,typeof v=="string")v=new L(v,d);else if(v instanceof L)v.target=v.target||d;else{var Q=v;v=new L(I,d),ce(v,Q)}Q=!0;let J,he;if(b)for(he=b.length-1;he>=0;he--)J=v.g=b[he],Q=jn(J,I,!0,v)&&Q;if(J=v.g=d,Q=jn(J,I,!0,v)&&Q,Q=jn(J,I,!1,v)&&Q,b)for(he=0;he<b.length;he++)J=v.g=b[he],Q=jn(J,I,!1,v)&&Q}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const b=d.g[v];for(let I=0;I<b.length;I++)z(b[I]);delete d.g[v],d.h--}}this.G=null},tt.prototype.J=function(d,v,b,I){return this.i.add(String(d),v,!1,b,I)},tt.prototype.K=function(d,v,b,I){return this.i.add(String(d),v,!0,b,I)};function jn(d,v,b,I){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let Q=!0;for(let J=0;J<v.length;++J){const he=v[J];if(he&&!he.da&&he.capture==b){const Le=he.listener,St=he.ha||he.src;he.fa&&Ne(d.i,he),Q=Le.call(St,I)!==!1&&Q}}return Q&&!I.defaultPrevented}function Ph(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(d,v||0)}function Ul(d){d.g=Ph(()=>{d.g=null,d.i&&(d.i=!1,Ul(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Vh extends U{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ul(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(d){U.call(this),this.h=d,this.g={}}_(ta,U);var Gi=[];function yn(d){ve(d.g,function(v,b){this.g.hasOwnProperty(b)&&fe(v)},d),d.g={}}ta.prototype.N=function(){ta.Z.N.call(this),yn(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=u.JSON.stringify,Cn=u.JSON.parse,Lh=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Ou(){}function Mu(){}var Dr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yi(){L.call(this,"d")}_(Yi,L);function dr(){L.call(this,"c")}_(dr,L);var Zn={},Wi=null;function oo(){return Wi=Wi||new tt}Zn.Ia="serverreachability";function jl(d){L.call(this,Zn.Ia,d)}_(jl,L);function Ki(d){const v=oo();vt(v,new jl(v))}Zn.STAT_EVENT="statevent";function lo(d,v){L.call(this,Zn.STAT_EVENT,d),this.stat=v}_(lo,L);function Vt(d){const v=oo();vt(v,new lo(v,d))}Zn.Ja="timingevent";function ku(d,v){L.call(this,Zn.Ja,d),this.size=v}_(ku,L);function Qi(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function $i(){this.g=!0}$i.prototype.ua=function(){this.g=!1};function zl(d,v,b,I,Q,J){d.info(function(){if(d.g)if(J){var he="",Le=J.split("&");for(let lt=0;lt<Le.length;lt++){var St=Le[lt].split("=");if(St.length>1){const jt=St[0];St=St[1];const zn=jt.split("_");he=zn.length>=2&&zn[1]=="type"?he+(jt+"="+St+"&"):he+(jt+"=redacted&")}}}else he=null;else he=J;return"XMLHTTP REQ ("+I+") [attempt "+Q+"]: "+v+`
`+b+`
`+he})}function Bl(d,v,b,I,Q,J,he){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Q+"]: "+v+`
`+b+`
`+J+" "+he})}function fi(d,v,b,I){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Or(d,b)+(I?" "+I:"")})}function Uh(d,v){d.info(function(){return"TIMEOUT: "+v})}$i.prototype.info=function(){};function Or(d,v){if(!d.g)return v;if(!v)return null;try{const J=JSON.parse(v);if(J){for(d=0;d<J.length;d++)if(Array.isArray(J[d])){var b=J[d];if(!(b.length<2)){var I=b[1];if(Array.isArray(I)&&!(I.length<1)){var Q=I[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let he=1;he<I.length;he++)I[he]=""}}}}return Xn(J)}catch{return v}}var Lt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},cn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hi;function na(){}_(na,Ou),na.prototype.g=function(){return new XMLHttpRequest},hi=new na;function ra(d){return encodeURIComponent(String(d))}function jh(d){var v=1;d=d.split(":");const b=[];for(;v>0&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function fr(d,v,b,I){this.j=d,this.i=v,this.l=b,this.S=I||1,this.V=new ta(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xi}function Xi(){this.i=null,this.g="",this.h=!1}var co={},Mr={};function kr(d,v,b){d.M=1,d.A=pi(Rt(v)),d.u=b,d.R=!0,Zi(d,null)}function Zi(d,v){d.F=Date.now(),ia(d),d.B=Rt(d.A);var b=d.B,I=d.S;Array.isArray(I)||(I=[String(I)]),Uu(b.i,"t",I),d.C=0,b=d.j.L,d.h=new Xi,d.g=bo(d.j,b?v:null,!d.u),d.P>0&&(d.O=new Vh(g(d.Y,d,d.g),d.P)),v=d.V,b=d.g,I=d.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Gi[0]=Q.toString()),Q=Gi);for(let J=0;J<Q.length;J++){const he=Je(b,Q[J],I||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=d.J?re(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Ki(),zl(d.i,d.v,d.B,d.l,d.S,d.u)}fr.prototype.ba=function(d){d=d.target;const v=this.O;v&&vn(d)==3?v.j():this.Y(d)},fr.prototype.Y=function(d){try{if(d==this.g)e:{const Le=vn(this.g),St=this.g.ya(),lt=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||pa(this.g)))){this.K||Le!=4||St==7||(St==8||lt<=0?Ki(3):Ki(2)),Vr(this);var v=this.g.ca();this.X=v;var b=Ji(this);if(this.o=v==200,Bl(this.i,this.v,this.B,this.l,this.S,Le,v),this.o){if(this.U&&!this.L){t:{if(this.g){var I,Q=this.g;if((I=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(I)){var J=I;break t}}J=null}if(d=J)fi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,uo(this,d);else{this.o=!1,this.m=3,Vt(12),Lr(this),sa(this);break e}}if(this.R){d=!0;let jt;for(;!this.K&&this.C<b.length;)if(jt=Pu(this,b),jt==Mr){Le==4&&(this.m=4,Vt(14),d=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==co){this.m=4,Vt(15),fi(this.i,this.l,b,"[Invalid Chunk]"),d=!1;break}else fi(this.i,this.l,jt,null),uo(this,jt);if(Ut(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||b.length!=0||this.h.h||(this.m=1,Vt(16),d=!1),this.o=this.o&&d,!d)fi(this.i,this.l,b,"[Invalid Chunked Response]"),Lr(this),sa(this);else if(b.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Xl(he),he.P=!0,Vt(11))}}else fi(this.i,this.l,b,null),uo(this,b);Le==4&&Lr(this),this.o&&!this.K&&(Le==4?Zl(this.j,this):(this.o=!1,ia(this)))}else ga(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Vt(12)):(this.m=0,Vt(13)),Lr(this),sa(this)}}}catch{}finally{}};function Ji(d){if(!Ut(d))return d.g.la();const v=pa(d.g);if(v==="")return"";let b="";const I=v.length,Q=vn(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Lr(d),sa(d),"";d.h.i=new u.TextDecoder}for(let J=0;J<I;J++)d.h.h=!0,b+=d.h.i.decode(v[J],{stream:!(Q&&J==I-1)});return v.length=0,d.h.g+=b,d.C=0,d.h.g}function Ut(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Pu(d,v){var b=d.C,I=v.indexOf(`
`,b);return I==-1?Mr:(b=Number(v.substring(b,I)),isNaN(b)?co:(I+=1,I+b>v.length?Mr:(v=v.slice(I,I+b),d.C=I+b,v)))}fr.prototype.cancel=function(){this.K=!0,Lr(this)};function ia(d){d.T=Date.now()+d.H,Pr(d,d.H)}function Pr(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Qi(g(d.aa,d),v)}function Vr(d){d.D&&(u.clearTimeout(d.D),d.D=null)}fr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Uh(this.i,this.B),this.M!=2&&(Ki(),Vt(17)),Lr(this),this.m=2,sa(this)):Pr(this,this.T-d)};function sa(d){d.j.I==0||d.K||Zl(d.j,d)}function Lr(d){Vr(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,yn(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function uo(d,v){try{var b=d.j;if(b.I!=0&&(b.g==d||la(b.h,d))){if(!d.L&&la(b.h,d)&&b.I==3){try{var I=b.Ba.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Q=I;if(Q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<d.F)_o(b),Ur(b);else break e;$l(b),Vt(18)}}else b.xa=Q[1],0<b.xa-b.K&&Q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Qi(g(b.Va,b),6e3));Jn(b.h)<=1&&b.ta&&(b.ta=void 0)}else vi(b,11)}else if((d.L||b.g==d)&&_o(b),!k(v))for(Q=b.Ba.g.parse(v),v=0;v<Q.length;v++){let lt=Q[v];const jt=lt[0];if(!(jt<=b.K))if(b.K=jt,lt=lt[1],b.I==2)if(lt[0]=="c"){b.M=lt[1],b.ba=lt[2];const zn=lt[3];zn!=null&&(b.ka=zn,b.j.info("VER="+b.ka));const jr=lt[4];jr!=null&&(b.za=jr,b.j.info("SVER="+b.za));const pr=lt[5];pr!=null&&typeof pr=="number"&&pr>0&&(I=1.5*pr,b.O=I,b.j.info("backChannelRequestTimeoutMs_="+I)),I=b;const gr=d.g;if(gr){const yr=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yr){var J=I.h;J.g||yr.indexOf("spdy")==-1&&yr.indexOf("quic")==-1&&yr.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(fo(J,J.h),J.h=null))}if(I.G){const ec=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;ec&&(I.wa=ec,ht(I.J,I.G,ec))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-d.F,b.j.info("Handshake RTT: "+b.T+"ms")),I=b;var he=d;if(I.na=Wu(I,I.L?I.ba:null,I.W),he.L){mi(I.h,he);var Le=he,St=I.O;St&&(Le.H=St),Le.D&&(Vr(Le),ia(Le)),I.g=he}else Hu(I);b.i.length>0&&ba(b)}else lt[0]!="stop"&&lt[0]!="close"||vi(b,7);else b.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?vi(b,7):va(b):lt[0]!="noop"&&b.l&&b.l.qa(lt),b.A=0)}}Ki(4)}catch{}}var zh=class{constructor(d,v){this.g=d,this.map=v}};function aa(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function oa(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Jn(d){return d.h?1:d.g?d.g.size:0}function la(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function fo(d,v){d.g?d.g.add(v):d.h=v}function mi(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}aa.prototype.cancel=function(){if(this.i=ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function ho(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.G);return v}return C(d.i)}var mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bh(d,v){if(d){d=d.split("&");for(let b=0;b<d.length;b++){const I=d[b].indexOf("=");let Q,J=null;I>=0?(Q=d[b].substring(0,I),J=d[b].substring(I+1)):Q=d[b],v(Q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function hr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof hr?(this.l=d.l,es(this,d.j),this.o=d.o,this.g=d.g,ca(this,d.u),this.h=d.h,ts(this,ju(d.i)),this.m=d.m):d&&(v=String(d).match(mo))?(this.l=!1,es(this,v[1]||"",!0),this.o=ua(v[2]||""),this.g=ua(v[3]||"",!0),ca(this,v[4]),this.h=ua(v[5]||"",!0),ts(this,v[6]||"",!0),this.m=ua(v[7]||"")):(this.l=!1,this.i=new er(null,this.l))}hr.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(rn(v,Hl,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(rn(v,Hl,!0),"@"),d.push(ra(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&d.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(rn(b,b.charAt(0)=="/"?ns:ql,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",rn(b,Lu)),d.join("")},hr.prototype.resolve=function(d){const v=Rt(this);let b=!!d.j;b?es(v,d.j):b=!!d.o,b?v.o=d.o:b=!!d.g,b?v.g=d.g:b=d.u!=null;var I=d.h;if(b)ca(v,d.u);else if(b=!!d.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var Q=v.h.lastIndexOf("/");Q!=-1&&(I=v.h.slice(0,Q+1)+I)}if(Q=I,Q==".."||Q==".")I="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){I=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const J=[];for(let he=0;he<Q.length;){const Le=Q[he++];Le=="."?I&&he==Q.length&&J.push(""):Le==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),I&&he==Q.length&&J.push("")):(J.push(Le),I=!0)}I=J.join("/")}else I=Q}return b?v.h=I:b=d.i.toString()!=="",b?ts(v,ju(d.i)):b=!!d.m,b&&(v.m=d.m),v};function Rt(d){return new hr(d)}function es(d,v,b){d.j=b?ua(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function ca(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function ts(d,v,b){v instanceof er?(d.i=v,Wl(d.i,d.l)):(b||(v=rn(v,Vu)),d.i=new er(v,d.l))}function ht(d,v,b){d.i.set(v,b)}function pi(d){return ht(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function ua(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function rn(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,Fl),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Fl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Hl=/[#\/\?@]/g,ql=/[#\?:]/g,ns=/[#\?]/g,Vu=/[#\?@]/g,Lu=/#/g;function er(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function gi(d){d.g||(d.g=new Map,d.h=0,d.i&&Bh(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=er.prototype,n.add=function(d,v){gi(this),this.i=null,d=mr(this,d);let b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function Gl(d,v){gi(d),v=mr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Yl(d,v){return gi(d),v=mr(d,v),d.g.has(v)}n.forEach=function(d,v){gi(this),this.g.forEach(function(b,I){b.forEach(function(Q){d.call(v,Q,I,this)},this)},this)};function po(d,v){gi(d);let b=[];if(typeof v=="string")Yl(d,v)&&(b=b.concat(d.g.get(mr(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)b=b.concat(d[v]);return b}n.set=function(d,v){return gi(this),this.i=null,d=mr(this,d),Yl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=po(this,d),d.length>0?String(d[0]):v):v};function Uu(d,v,b){Gl(d,v),b.length>0&&(d.i=null,d.g.set(mr(d,v),C(b)),d.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let I=0;I<v.length;I++){var b=v[I];const Q=ra(b);b=po(this,b);for(let J=0;J<b.length;J++){let he=Q;b[J]!==""&&(he+="="+ra(b[J])),d.push(he)}}return this.i=d.join("&")};function ju(d){const v=new er;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function mr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Wl(d,v){v&&!d.j&&(gi(d),d.i=null,d.g.forEach(function(b,I){const Q=I.toLowerCase();I!=Q&&(Gl(this,I),Uu(this,Q,b))},d)),d.j=v}function Kl(d,v){const b=new $i;if(u.Image){const I=new Image;I.onload=y(xn,b,"TestLoadImage: loaded",!0,v,I),I.onerror=y(xn,b,"TestLoadImage: error",!1,v,I),I.onabort=y(xn,b,"TestLoadImage: abort",!1,v,I),I.ontimeout=y(xn,b,"TestLoadImage: timeout",!1,v,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else v(!1)}function rs(d,v){const b=new $i,I=new AbortController,Q=setTimeout(()=>{I.abort(),xn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:I.signal}).then(J=>{clearTimeout(Q),J.ok?xn(b,"TestPingServer: ok",!0,v):xn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),xn(b,"TestPingServer: error",!1,v)})}function xn(d,v,b,I,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),I(b)}catch{}}function zu(){this.g=new Lh}function da(d){this.i=d.Sb||null,this.h=d.ab||!1}_(da,Ou),da.prototype.g=function(){return new fa(this.i,this.h)};function fa(d,v){tt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(fa,tt),n=fa.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,yi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rn(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;is(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function is(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Rn(this):yi(this),this.readyState==3&&is(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Rn(this))},n.Na=function(d){this.g&&(this.response=d,Rn(this))},n.ga=function(){this.g&&Rn(this)};function Rn(d){d.readyState=4,d.l=null,d.j=null,d.B=null,yi(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function yi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ss(d){let v="";return ve(d,function(b,I){v+=I,v+=":",v+=b,v+=`\r
`}),v}function tr(d,v,b){e:{for(I in b){var I=!1;break e}I=!0}I||(b=ss(b),typeof d=="string"?b!=null&&ra(b):ht(d,v,b))}function _t(d){tt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(_t,tt);var go=/^https?$/i,Bu=["POST","PUT"];n=_t.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,b,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hi.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(J){ha(this,J);return}if(d=b||"",b=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Q in I)b.set(Q,I[Q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())b.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),Q=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(Bu,v,void 0)>=0)||I||Q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,he]of b)this.g.setRequestHeader(J,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(J){ha(this,J)}};function ha(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,ma(d),Zt(d)}function ma(d){d.A||(d.A=!0,vt(d,"complete"),vt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,vt(this,"complete"),vt(this,"abort"),Zt(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),_t.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ql(this):this.Xa())},n.Xa=function(){Ql(this)};function Ql(d){if(d.h&&typeof l<"u"){if(d.v&&vn(d)==4)setTimeout(d.Ca.bind(d),0);else if(vt(d,"readystatechange"),vn(d)==4){d.h=!1;try{const J=d.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var I;if(I=J===0){let he=String(d.D).match(mo)[1]||null;!he&&u.self&&u.self.location&&(he=u.self.location.protocol.slice(0,-1)),I=!go.test(he?he.toLowerCase():"")}b=I}if(b)vt(d,"complete"),vt(d,"success");else{d.o=6;try{var Q=vn(d)>2?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.ca()+"]",ma(d)}}finally{Zt(d)}}}}function Zt(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const b=d.g;d.g=null,v||vt(d,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function vn(d){return d.g?d.g.readyState:0}n.ca=function(){try{return vn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Cn(v)}};function pa(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ga(d){const v={};d=(d.g&&vn(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(k(d[I]))continue;var b=jh(d[I]);const Q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[Q]||[];v[Q]=J,J.push(b)}V(v,function(I){return I.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function yo(d){this.za=0,this.i=[],this.j=new $i,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ya("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ya("baseRetryDelayMs",5e3,d),this.Za=ya("retryDelaySeedMs",1e4,d),this.Ta=ya("forwardChannelMaxRetries",2,d),this.va=ya("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new aa(d&&d.concurrentRequestLimit),this.Ba=new zu,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=yo.prototype,n.ka=8,n.I=1,n.connect=function(d,v,b,I){Vt(0),this.W=d,this.H=v||{},b&&I!==void 0&&(this.H.OSID=b,this.H.OAID=I),this.F=this.X,this.J=Wu(this,null,this.W),ba(this)};function va(d){if(_a(d),d.I==3){var v=d.V++,b=Rt(d.J);if(ht(b,"SID",d.M),ht(b,"RID",v),ht(b,"TYPE","terminate"),wa(d,b),v=new fr(d,d.j,v),v.M=2,v.A=pi(Rt(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=v.A,b=!0),b||(v.g=bo(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ia(v)}Yu(d)}function Ur(d){d.g&&(Xl(d),d.g.cancel(),d.g=null)}function _a(d){Ur(d),d.v&&(u.clearTimeout(d.v),d.v=null),_o(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function ba(d){if(!oa(d.h)&&!d.m){d.m=!0;var v=d.Ea;te||x(),le||(te(),le=!0),O.add(v,d),d.D=0}}function Fh(d,v){return Jn(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Qi(g(d.Ea,d,v),Gu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Q=new fr(this,this.j,d);let J=this.o;if(this.U&&(J?(J=re(J),ce(J,this.U)):J=this.U),this.u!==null||this.R||(Q.J=J,J=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var I=this.i[b];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=vo(this,Q,v),b=Rt(this.J),ht(b,"RID",d),ht(b,"CVER",22),this.G&&ht(b,"X-HTTP-Session-Id",this.G),wa(this,b),J&&(this.R?v="headers="+ra(ss(J))+"&"+v:this.u&&tr(b,this.u,J)),fo(this.h,Q),this.Ra&&ht(b,"TYPE","init"),this.S?(ht(b,"$req",v),ht(b,"SID","null"),Q.U=!0,kr(Q,b,null)):kr(Q,b,v),this.I=2}}else this.I==3&&(d?Fu(this,d):this.i.length==0||oa(this.h)||Fu(this))};function Fu(d,v){var b;v?b=v.l:b=d.V++;const I=Rt(d.J);ht(I,"SID",d.M),ht(I,"RID",b),ht(I,"AID",d.K),wa(d,I),d.u&&d.o&&tr(I,d.u,d.o),b=new fr(d,d.j,b,d.D+1),d.u===null&&(b.J=d.o),v&&(d.i=v.G.concat(d.i)),v=vo(d,b,1e3),b.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),fo(d.h,b),kr(b,I,v)}function wa(d,v){d.H&&ve(d.H,function(b,I){ht(v,I,b)}),d.l&&ve({},function(b,I){ht(v,I,b)})}function vo(d,v,b){b=Math.min(d.i.length,b);const I=d.l?g(d.l.Ka,d.l,d):null;e:{var Q=d.i;let Le=-1;for(;;){const St=["count="+b];Le==-1?b>0?(Le=Q[0].g,St.push("ofs="+Le)):Le=0:St.push("ofs="+Le);let lt=!0;for(let jt=0;jt<b;jt++){var J=Q[jt].g;const zn=Q[jt].map;if(J-=Le,J<0)Le=Math.max(0,Q[jt].g-100),lt=!1;else try{J="req"+J+"_"||"";try{var he=zn instanceof Map?zn:Object.entries(zn);for(const[jr,pr]of he){let gr=pr;h(pr)&&(gr=Xn(pr)),St.push(J+jr+"="+encodeURIComponent(gr))}}catch(jr){throw St.push(J+"type="+encodeURIComponent("_badmap")),jr}}catch{I&&I(zn)}}if(lt){he=St.join("&");break e}}he=void 0}return d=d.i.splice(0,b),v.G=d,he}function Hu(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;te||x(),le||(te(),le=!0),O.add(v,d),d.A=0}}function $l(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Qi(g(d.Da,d),Gu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Qi(g(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Vt(10),Ur(this),qu(this))};function Xl(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function qu(d){d.g=new fr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Rt(d.na);ht(v,"RID","rpc"),ht(v,"SID",d.M),ht(v,"AID",d.K),ht(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&ht(v,"TO",d.ia),ht(v,"TYPE","xmlhttp"),wa(d,v),d.u&&d.o&&tr(v,d.u,d.o),d.O&&(d.g.H=d.O);var b=d.g;d=d.ba,b.M=1,b.A=pi(Rt(v)),b.u=null,b.R=!0,Zi(b,d)}n.Va=function(){this.C!=null&&(this.C=null,Ur(this),$l(this),Vt(19))};function _o(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Zl(d,v){var b=null;if(d.g==v){_o(d),Xl(d),d.g=null;var I=2}else if(la(d.h,v))b=v.G,mi(d.h,v),I=1;else return;if(d.I!=0){if(v.o)if(I==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var Q=d.D;I=oo(),vt(I,new ku(I,b)),ba(d)}else Hu(d);else if(Q=v.m,Q==3||Q==0&&v.X>0||!(I==1&&Fh(d,v)||I==2&&$l(d)))switch(b&&b.length>0&&(v=d.h,v.i=v.i.concat(b)),Q){case 1:vi(d,5);break;case 4:vi(d,10);break;case 3:vi(d,6);break;default:vi(d,2)}}}function Gu(d,v){let b=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(b*=2),b*v}function vi(d,v){if(d.j.info("Error code "+v),v==2){var b=g(d.bb,d),I=d.Ua;const Q=!I;I=new hr(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||es(I,"https"),pi(I),Q?Kl(I.toString(),b):rs(I.toString(),b)}else Vt(2);d.I=0,d.l&&d.l.pa(v),Yu(d),_a(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Yu(d){if(d.I=0,d.ja=[],d.l){const v=ho(d.h);(v.length!=0||d.i.length!=0)&&(D(d.ja,v),D(d.ja,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.oa()}}function Wu(d,v,b){var I=b instanceof hr?Rt(b):new hr(b);if(I.g!="")v&&(I.g=v+"."+I.g),ca(I,I.u);else{var Q=u.location;I=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;const J=new hr(null);I&&es(J,I),v&&(J.g=v),Q&&ca(J,Q),b&&(J.h=b),I=J}return b=d.G,v=d.wa,b&&v&&ht(I,b,v),ht(I,"VER",d.ka),wa(d,I),I}function bo(d,v,b){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new _t(new da({ab:b})):new _t(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}n=Ku.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function wo(){}wo.prototype.g=function(d,v){return new In(d,v)};function In(d,v){tt.call(this),this.g=new yo(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!k(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!k(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new as(this)}_(In,tt),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){va(this.g)},In.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.v&&(b={},b.__data__=Xn(d),d=b);v.i.push(new zh(v.Ya++,d)),v.I==3&&ba(v)},In.prototype.N=function(){this.g.l=null,delete this.j,va(this.g),delete this.g,In.Z.N.call(this)};function Jl(d){Yi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}_(Jl,Yi);function Qu(){dr.call(this),this.status=1}_(Qu,dr);function as(d){this.g=d}_(as,Ku),as.prototype.ra=function(){vt(this.g,"a")},as.prototype.qa=function(d){vt(this.g,new Jl(d))},as.prototype.pa=function(d){vt(this.g,new Qu)},as.prototype.oa=function(){vt(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,e1=function(){return new wo},JT=function(){return oo()},ZT=Zn,Tg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Lt.NO_ERROR=0,Lt.TIMEOUT=8,Lt.HTTP_ERROR=6,hf=Lt,cn.COMPLETE="complete",XT=cn,Mu.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",tt.prototype.listen=tt.prototype.J,Wc=Mu,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,$T=_t}).apply(typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{});const ww="@firebase/firestore",Ew="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=new py("@firebase/firestore");function nl(){return Ya.logLevel}function ye(n,...e){if(Ya.logLevel<=$e.DEBUG){const t=e.map(vy);Ya.debug(`Firestore (${xl}): ${n}`,...t)}}function Ui(n,...e){if(Ya.logLevel<=$e.ERROR){const t=e.map(vy);Ya.error(`Firestore (${xl}): ${n}`,...t)}}function pl(n,...e){if(Ya.logLevel<=$e.WARN){const t=e.map(vy);Ya.warn(`Firestore (${xl}): ${n}`,...t)}}function vy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,t1(n,i,t)}function t1(n,e,t){let i=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ui(i),new Error(i)}function ot(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||t1(e,a,i)}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(En.UNAUTHENTICATED)))}shutdown(){}}class qN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class GN{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ot(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Bs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Bs,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Bs)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ot(typeof i.accessToken=="string",31837,{l:i}),new n1(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class YN{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WN{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new YN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Er(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ot(this.o===void 0,3512);const i=l=>{l.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ye("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ot(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Tw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=QN(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Xe(n,e){return n<e?-1:n>e?1:0}function Sg(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const a=n.charAt(i),l=e.charAt(i);if(a!==l)return qp(a)===qp(l)?Xe(a,l):qp(a)?1:-1}return Xe(n.length,e.length)}const $N=55296,XN=57343;function qp(n){const e=n.charCodeAt(0);return e>=$N&&e<=XN}function gl(n,e,t){return n.length===e.length&&n.every(((i,a)=>t(i,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="__name__";class Gr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Oe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Oe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Gr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Gr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Xe(e.length,t.length)}static compareSegments(e,t){const i=Gr.isNumericId(e),a=Gr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Gr.extractNumericId(e).compare(Gr.extractNumericId(t)):Sg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zs.fromString(e.substring(4,e.length-2))}}class wt extends Gr{construct(e,t,i){return new wt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new wt(t)}static emptyPath(){return new wt([])}}const ZN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends Gr{construct(e,t,i){return new pn(e,t,i)}static isValidIdentifier(e){return ZN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sw}static keyField(){return new pn([Sw])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(t)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(wt.fromString(e))}static fromName(e){return new Re(wt.fromString(e).popFirst(5))}static empty(){return new Re(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(n,e,t){if(!t)throw new pe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JN(n,e,t,i){if(e===!0&&i===!0)throw new pe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Aw(n){if(!Re.isDocumentKey(n))throw new pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Cw(n){if(Re.isDocumentKey(n))throw new pe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function i1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function sh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Oe(12329,{type:typeof n})}function Ba(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sh(n);throw new pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(n,e){const t={typeString:n};return e&&(t.value=e),t}function yu(n,e){if(!i1(n))throw new pe(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new pe(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=-62135596800,Rw=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Rw);return new Ct(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xw)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rw}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:Qt("string",Ct._jsonSchemaVersion),seconds:Qt("number"),nanoseconds:Qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Ct(0,0))}static max(){return new Ve(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=-1;function e2(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(i===1e9?new Ct(t+1,0):new Ct(t,i));return new qs(a,Re.empty(),e)}function t2(n){return new qs(n.readTime,n.key,su)}class qs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new qs(Ve.min(),Re.empty(),su)}static max(){return new qs(Ve.max(),Re.empty(),su)}}function n2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==r2)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):oe.reject(t)}static resolve(e){return new oe(((t,i)=>{t(e)}))}static reject(e){return new oe(((t,i)=>{i(e)}))}static waitFor(e){return new oe(((t,i)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&t()}),(m=>i(m)))})),u=!0,l===a&&t()}))}static or(e){let t=oe.resolve(!1);for(const i of e)t=t.next((a=>a?oe.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new oe(((i,a)=>{const l=e.length,u=new Array(l);let h=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((y=>{u[g]=y,++h,h===l&&i(u)}),(y=>a(y)))}}))}static doWhile(e,t){return new oe(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}function s2(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Il(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=-1;function oh(n){return n==null}function Nf(n){return n===0&&1/n==-1/0}function a2(n){return typeof n=="number"&&Number.isInteger(n)&&!Nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="";function o2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Iw(e)),e=l2(n.get(t),e);return Iw(e)}function l2(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case s1:t+="";break;default:t+=l}}return t}function Iw(n){return n+s1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function to(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function a1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,t){this.comparator=e,this.root=t||hn.EMPTY}insert(e,t){return new Dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??hn.RED,this.left=a??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new hn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dw(this.data.getIterator())}getIteratorFrom(e){return new Dw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class Dw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Tr([])}unionWith(e){let t=new nn(pn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new o1("Invalid base64 string: "+l):l}})(e);return new gn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const c2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(n){if(ot(!!n,39018),typeof n=="string"){let e=0;const t=c2.exec(n);if(ot(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ft(n.seconds),nanos:Ft(n.nanos)}}function Ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ys(n){return typeof n=="string"?gn.fromBase64String(n):gn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="server_timestamp",c1="__type__",u1="__previous_value__",d1="__local_write_time__";function wy(n){return(n?.mapValue?.fields||{})[c1]?.stringValue===l1}function lh(n){const e=n.mapValue.fields[u1];return wy(e)?lh(e):e}function au(n){const e=Gs(n.mapValue.fields[d1].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,t,i,a,l,u,h,m,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Df="(default)";class ou{constructor(e,t){this.projectId=e,this.database=t||Df}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Df}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="__type__",d2="__max__",Zd={mapValue:{}},h1="__vector__",Of="value";function Ws(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?wy(n)?4:h2(n)?9007199254740991:f2(n)?10:11:Oe(28295,{value:n})}function ai(n,e){if(n===e)return!0;const t=Ws(n);if(t!==Ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return au(n).isEqual(au(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Gs(a.timestampValue),h=Gs(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return Ys(a.bytesValue).isEqual(Ys(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Ft(a.geoPointValue.latitude)===Ft(l.geoPointValue.latitude)&&Ft(a.geoPointValue.longitude)===Ft(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ft(a.integerValue)===Ft(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ft(a.doubleValue),h=Ft(l.doubleValue);return u===h?Nf(u)===Nf(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return gl(n.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Nw(u)!==Nw(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!ai(u[m],h[m])))return!1;return!0})(n,e);default:return Oe(52216,{left:n})}}function lu(n,e){return(n.values||[]).find((t=>ai(t,e)))!==void 0}function yl(n,e){if(n===e)return 0;const t=Ws(n),i=Ws(e);if(t!==i)return Xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Ft(l.integerValue||l.doubleValue),m=Ft(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(n,e);case 3:return Ow(n.timestampValue,e.timestampValue);case 4:return Ow(au(n),au(e));case 5:return Sg(n.stringValue,e.stringValue);case 6:return(function(l,u){const h=Ys(l),m=Ys(u);return h.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),m=u.split("/");for(let g=0;g<h.length&&g<m.length;g++){const y=Xe(h[g],m[g]);if(y!==0)return y}return Xe(h.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=Xe(Ft(l.latitude),Ft(u.latitude));return h!==0?h:Xe(Ft(l.longitude),Ft(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Mw(n.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},m=u.fields||{},g=h[Of]?.arrayValue,y=m[Of]?.arrayValue,_=Xe(g?.values?.length||0,y?.values?.length||0);return _!==0?_:Mw(g,y)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Zd.mapValue&&u===Zd.mapValue)return 0;if(l===Zd.mapValue)return 1;if(u===Zd.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),g=u.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=Sg(m[_],y[_]);if(E!==0)return E;const C=yl(h[m[_]],g[y[_]]);if(C!==0)return C}return Xe(m.length,y.length)})(n.mapValue,e.mapValue);default:throw Oe(23264,{he:t})}}function Ow(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=Gs(n),i=Gs(e),a=Xe(t.seconds,i.seconds);return a!==0?a:Xe(t.nanos,i.nanos)}function Mw(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=yl(t[a],i[a]);if(l)return l}return Xe(t.length,i.length)}function vl(n){return Ag(n)}function Ag(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=Gs(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ys(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Re.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Ag(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Ag(t.fields[u])}`;return a+"}"})(n.mapValue):Oe(61005,{value:n})}function mf(n){switch(Ws(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lh(n);return e?16+mf(e):16;case 5:return 2*n.stringValue.length;case 6:return Ys(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+mf(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return to(i.fields,((l,u)=>{a+=l.length+mf(u)})),a})(n.mapValue);default:throw Oe(13486,{value:n})}}function kw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Cg(n){return!!n&&"integerValue"in n}function Ey(n){return!!n&&"arrayValue"in n}function Pw(n){return!!n&&"nullValue"in n}function Vw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pf(n){return!!n&&"mapValue"in n}function f2(n){return(n?.mapValue?.fields||{})[f1]?.stringValue===h1}function Jc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return to(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Jc(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jc(n.arrayValue.values[t]);return e}return{...n}}function h2(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===d2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.value=e}static empty(){return new cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!pf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jc(t)}setAll(e){let t=pn.emptyPath(),i={},a=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=h.popLast()}u?i[h.lastSegment()]=Jc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());pf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];pf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){to(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new cr(Jc(this.value))}}function m1(n){const e=[];return to(n.fields,((t,i)=>{const a=new pn([t]);if(pf(i)){const l=m1(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,t,i,a,l,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Tn(e,0,Ve.min(),Ve.min(),Ve.min(),cr.empty(),0)}static newFoundDocument(e,t,i,a){return new Tn(e,1,t,Ve.min(),i,a,0)}static newNoDocument(e,t){return new Tn(e,2,t,Ve.min(),Ve.min(),cr.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,Ve.min(),Ve.min(),cr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t){this.position=e,this.inclusive=t}}function Lw(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?i=Re.comparator(Re.fromName(u.referenceValue),t.key):i=yl(u,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Uw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ai(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t="asc"){this.field=e,this.dir=t}}function m2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{}class Kt extends p1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new g2(e,t,i):t==="array-contains"?new _2(e,i):t==="in"?new b2(e,i):t==="not-in"?new w2(e,i):t==="array-contains-any"?new E2(e,i):new Kt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new y2(e,i):new v2(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(yl(t,this.value)):t!==null&&Ws(this.value)===Ws(t)&&this.matchesComparison(yl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends p1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Cr(e,t)}matches(e){return g1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function g1(n){return n.op==="and"}function y1(n){return p2(n)&&g1(n)}function p2(n){for(const e of n.filters)if(e instanceof Cr)return!1;return!0}function xg(n){if(n instanceof Kt)return n.field.canonicalString()+n.op.toString()+vl(n.value);if(y1(n))return n.filters.map((e=>xg(e))).join(",");{const e=n.filters.map((t=>xg(t))).join(",");return`${n.op}(${e})`}}function v1(n,e){return n instanceof Kt?(function(i,a){return a instanceof Kt&&i.op===a.op&&i.field.isEqual(a.field)&&ai(i.value,a.value)})(n,e):n instanceof Cr?(function(i,a){return a instanceof Cr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,h)=>l&&v1(u,a.filters[h])),!0):!1})(n,e):void Oe(19439)}function _1(n){return n instanceof Kt?(function(t){return`${t.field.canonicalString()} ${t.op} ${vl(t.value)}`})(n):n instanceof Cr?(function(t){return t.op.toString()+" {"+t.getFilters().map(_1).join(" ,")+"}"})(n):"Filter"}class g2 extends Kt{constructor(e,t,i){super(e,t,i),this.key=Re.fromName(i.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class y2 extends Kt{constructor(e,t){super(e,"in",t),this.keys=b1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class v2 extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=b1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function b1(n,e){return(e.arrayValue?.values||[]).map((t=>Re.fromName(t.referenceValue)))}class _2 extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ey(t)&&lu(t.arrayValue,this.value)}}class b2 extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&lu(this.value.arrayValue,t)}}class w2 extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lu(this.value.arrayValue,t)}}class E2 extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>lu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,t=null,i=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function jw(n,e=null,t=[],i=[],a=null,l=null,u=null){return new T2(n,e,t,i,a,l,u)}function Ty(n){const e=Ue(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>xg(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),oh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>vl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>vl(i))).join(",")),e.Te=t}return e.Te}function Sy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!m2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!v1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Uw(n.startAt,e.startAt)&&Uw(n.endAt,e.endAt)}function Rg(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t=null,i=[],a=[],l=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function S2(n,e,t,i,a,l,u,h){return new vu(n,e,t,i,a,l,u,h)}function ch(n){return new vu(n)}function zw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function w1(n){return n.collectionGroup!==null}function eu(n){const e=Ue(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new nn(pn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new kf(l,i))})),t.has(pn.keyField().canonicalString())||e.Ie.push(new kf(pn.keyField(),i))}return e.Ie}function Zr(n){const e=Ue(n);return e.Ee||(e.Ee=A2(e,eu(n))),e.Ee}function A2(n,e){if(n.limitType==="F")return jw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new kf(a.field,l)}));const t=n.endAt?new Mf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Mf(n.startAt.position,n.startAt.inclusive):null;return jw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Ig(n,e){const t=n.filters.concat([e]);return new vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ng(n,e,t){return new vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uh(n,e){return Sy(Zr(n),Zr(e))&&n.limitType===e.limitType}function E1(n){return`${Ty(Zr(n))}|lt:${n.limitType}`}function rl(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>_1(a))).join(", ")}]`),oh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>vl(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>vl(a))).join(",")),`Target(${i})`})(Zr(n))}; limitType=${n.limitType})`}function dh(n,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Re.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,a){for(const l of eu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(i,a){return!(i.startAt&&!(function(u,h,m){const g=Lw(u,h,m);return u.inclusive?g<=0:g<0})(i.startAt,eu(i),a)||i.endAt&&!(function(u,h,m){const g=Lw(u,h,m);return u.inclusive?g>=0:g>0})(i.endAt,eu(i),a))})(n,e)}function C2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function T1(n){return(e,t)=>{let i=!1;for(const a of eu(n)){const l=x2(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function x2(n,e,t){const i=n.field.isKeyField()?Re.comparator(e.key,t.key):(function(l,u,h){const m=u.data.field(l),g=h.data.field(l);return m!==null&&g!==null?yl(m,g):Oe(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Oe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return a1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Dt(Re.comparator);function ji(){return R2}const S1=new Dt(Re.comparator);function Kc(...n){let e=S1;for(const t of n)e=e.insert(t.key,t);return e}function A1(n){let e=S1;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function za(){return tu()}function C1(){return tu()}function tu(){return new no((n=>n.toString()),((n,e)=>n.isEqual(e)))}const I2=new Dt(Re.comparator),N2=new nn(Re.comparator);function Ze(...n){let e=N2;for(const t of n)e=e.add(t);return e}const D2=new nn(Xe);function O2(){return D2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(e)?"-0":e}}function x1(n){return{integerValue:""+n}}function M2(n,e){return a2(e)?x1(e):Ay(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this._=void 0}}function k2(n,e,t){return n instanceof Pf?(function(a,l){const u={fields:{[c1]:{stringValue:l1},[d1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&wy(l)&&(l=lh(l)),l&&(u.fields[u1]=l),{mapValue:u}})(t,e):n instanceof cu?I1(n,e):n instanceof uu?N1(n,e):(function(a,l){const u=R1(a,l),h=Bw(u)+Bw(a.Ae);return Cg(u)&&Cg(a.Ae)?x1(h):Ay(a.serializer,h)})(n,e)}function P2(n,e,t){return n instanceof cu?I1(n,e):n instanceof uu?N1(n,e):t}function R1(n,e){return n instanceof Vf?(function(i){return Cg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Pf extends fh{}class cu extends fh{constructor(e){super(),this.elements=e}}function I1(n,e){const t=D1(e);for(const i of n.elements)t.some((a=>ai(a,i)))||t.push(i);return{arrayValue:{values:t}}}class uu extends fh{constructor(e){super(),this.elements=e}}function N1(n,e){let t=D1(e);for(const i of n.elements)t=t.filter((a=>!ai(a,i)));return{arrayValue:{values:t}}}class Vf extends fh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Bw(n){return Ft(n.integerValue||n.doubleValue)}function D1(n){return Ey(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function V2(n,e){return n.field.isEqual(e.field)&&(function(i,a){return i instanceof cu&&a instanceof cu||i instanceof uu&&a instanceof uu?gl(i.elements,a.elements,ai):i instanceof Vf&&a instanceof Vf?ai(i.Ae,a.Ae):i instanceof Pf&&a instanceof Pf})(n.transform,e.transform)}class L2{constructor(e,t){this.version=e,this.transformResults=t}}class Vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hh{}function O1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new k1(n.key,Vi.none()):new _u(n.key,n.data,Vi.none());{const t=n.data,i=cr.empty();let a=new nn(pn.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new ro(n.key,i,new Tr(a.toArray()),Vi.none())}}function U2(n,e,t){n instanceof _u?(function(a,l,u){const h=a.value.clone(),m=Hw(a.fieldTransforms,l,u.transformResults);h.setAll(m),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof ro?(function(a,l,u){if(!gf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=Hw(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(M1(a)),m.setAll(h),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function nu(n,e,t,i){return n instanceof _u?(function(l,u,h,m){if(!gf(l.precondition,u))return h;const g=l.value.clone(),y=qw(l.fieldTransforms,m,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,t,i):n instanceof ro?(function(l,u,h,m){if(!gf(l.precondition,u))return h;const g=qw(l.fieldTransforms,m,u),y=u.data;return y.setAll(M1(l)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,e,t,i):(function(l,u,h){return gf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function j2(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=R1(i.transform,a||null);l!=null&&(t===null&&(t=cr.empty()),t.set(i.field,l))}return t||null}function Fw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&gl(i,a,((l,u)=>V2(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class _u extends hh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ro extends hh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function M1(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function Hw(n,e,t){const i=new Map;ot(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,h=e.data.field(l.field);i.set(l.field,P2(u,h,t[a]))}return i}function qw(n,e,t){const i=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);i.set(a.field,k2(l,u,e))}return i}class k1 extends hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z2 extends hh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&U2(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=nu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=nu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=C1();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(a.key)?null:h;const m=O1(u,h);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ve.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((t,i)=>Fw(t,i)))&&gl(this.baseMutations,e.baseMutations,((t,i)=>Fw(t,i)))}}class Cy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){ot(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return I2})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Cy(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,rt;function q2(n){switch(n){case se.OK:return Oe(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Oe(15467,{code:n})}}function P1(n){if(n===void 0)return Ui("GRPC error has no .code"),se.UNKNOWN;switch(n){case Wt.OK:return se.OK;case Wt.CANCELLED:return se.CANCELLED;case Wt.UNKNOWN:return se.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return se.INTERNAL;case Wt.UNAVAILABLE:return se.UNAVAILABLE;case Wt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Wt.NOT_FOUND:return se.NOT_FOUND;case Wt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Wt.ABORTED:return se.ABORTED;case Wt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Wt.DATA_LOSS:return se.DATA_LOSS;default:return Oe(39323,{code:n})}}(rt=Wt||(Wt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new zs([4294967295,4294967295],0);function Gw(n){const e=G2().encode(n),t=new QT;return t.update(e),new Uint8Array(t.digest())}function Yw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new zs([t,i],0),new zs([a,l],0)]}class xy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Qc(`Invalid padding: ${t}`);if(i<0)throw new Qc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Qc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Qc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=zs.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(zs.fromNumber(i)));return a.compare(Y2)===1&&(a=new zs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Gw(e),[i,a]=Yw(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new xy(l,a,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=Gw(e),[i,a]=Yw(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Qc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new mh(Ve.min(),a,new Dt(Xe),ji(),Ze())}}class bu{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new bu(i,t,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class V1{constructor(e,t){this.targetId=e,this.Ce=t}}class L1{constructor(e,t,i=gn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Ww{constructor(){this.ve=0,this.Fe=Kw(),this.Me=gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),t=Ze(),i=Ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Oe(38017,{changeType:l})}})),new bu(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=Kw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class W2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ji(),this.Je=Jd(),this.He=Jd(),this.Ye=new Dt(Xe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Rg(l))if(i===0){const u=new Re(l.path);this.et(t,u,Tn.newNoDocument(u,Ve.min()))}else ot(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),m=h?this.ct(h,e,u):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let u,h;try{u=Ys(i).toUint8Array()}catch(m){if(m instanceof o1)return pl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new xy(u,a,l)}catch(m){return pl(m instanceof Qc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Rg(h.target)){const m=new Re(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Tn.newNoDocument(m,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let i=Ze();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new mh(e,t,this.Ye,this.je,i);return this.je=ji(),this.Je=Jd(),this.He=Jd(),this.Ye=new Dt(Xe),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Ww,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new nn(Xe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new nn(Xe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ww),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Jd(){return new Dt(Re.comparator)}function Kw(){return new Dt(Re.comparator)}const K2={asc:"ASCENDING",desc:"DESCENDING"},Q2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$2={and:"AND",or:"OR"};class X2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dg(n,e){return n.useProto3Json||oh(e)?e:{value:e}}function Lf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Z2(n,e){return Lf(n,e.toTimestamp())}function Jr(n){return ot(!!n,49232),Ve.fromTimestamp((function(t){const i=Gs(t);return new Ct(i.seconds,i.nanos)})(n))}function Ry(n,e){return Og(n,e).canonicalString()}function Og(n,e){const t=(function(a){return new wt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function j1(n){const e=wt.fromString(n);return ot(q1(e),10190,{key:e.toString()}),e}function Mg(n,e){return Ry(n.databaseId,e.path)}function Gp(n,e){const t=j1(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(B1(t))}function z1(n,e){return Ry(n.databaseId,e)}function J2(n){const e=j1(n);return e.length===4?wt.emptyPath():B1(e)}function kg(n){return new wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function B1(n){return ot(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Qw(n,e,t){return{name:Mg(n,e),fields:t.value.mapValue.fields}}function eD(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Oe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(ot(y===void 0||typeof y=="string",58123),gn.fromBase64String(y||"")):(ot(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),gn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(g){const y=g.code===void 0?se.UNKNOWN:P1(g.code);return new pe(y,g.message||"")})(u);t=new L1(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Gp(n,i.document.name),l=Jr(i.document.updateTime),u=i.document.createTime?Jr(i.document.createTime):Ve.min(),h=new cr({mapValue:{fields:i.document.fields}}),m=Tn.newFoundDocument(a,l,u,h),g=i.targetIds||[],y=i.removedTargetIds||[];t=new yf(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Gp(n,i.document),l=i.readTime?Jr(i.readTime):Ve.min(),u=Tn.newNoDocument(a,l),h=i.removedTargetIds||[];t=new yf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Gp(n,i.document),l=i.removedTargetIds||[];t=new yf([],l,a,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new H2(a,l),h=i.targetId;t=new V1(h,u)}}return t}function tD(n,e){let t;if(e instanceof _u)t={update:Qw(n,e.key,e.value)};else if(e instanceof k1)t={delete:Mg(n,e.key)};else if(e instanceof ro)t={update:Qw(n,e.key,e.data),updateMask:uD(e.fieldMask)};else{if(!(e instanceof z2))return Oe(16599,{Vt:e.type});t={verify:Mg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const h=u.transform;if(h instanceof Pf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof cu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof uu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Vf)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Oe(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Z2(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Oe(27497)})(n,e.precondition)),t}function nD(n,e){return n&&n.length>0?(ot(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?Jr(a.updateTime):Jr(l);return u.isEqual(Ve.min())&&(u=Jr(l)),new L2(u,a.transformResults||[])})(t,e)))):[]}function rD(n,e){return{documents:[z1(n,e.path)]}}function iD(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=z1(n,a);const l=(function(g){if(g.length!==0)return H1(Cr.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((y=>(function(E){return{field:il(E.field),direction:oD(E.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Dg(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function sD(n){let e=J2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){ot(i===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(_){const E=F1(_);return E instanceof Cr&&y1(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((E=>(function(D){return new kf(sl(D.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(t.orderBy));let h=null;t.limit&&(h=(function(_){let E;return E=typeof _=="object"?_.value:_,oh(E)?null:E})(t.limit));let m=null;t.startAt&&(m=(function(_){const E=!!_.before,C=_.values||[];return new Mf(C,E)})(t.startAt));let g=null;return t.endAt&&(g=(function(_){const E=!_.before,C=_.values||[];return new Mf(C,E)})(t.endAt)),S2(e,a,u,l,h,"F",m,g)}function aD(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function F1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=sl(t.unaryFilter.field);return Kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=sl(t.unaryFilter.field);return Kt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=sl(t.unaryFilter.field);return Kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=sl(t.unaryFilter.field);return Kt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Kt.create(sl(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Cr.create(t.compositeFilter.filters.map((i=>F1(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(t.compositeFilter.op))})(n):Oe(30097,{filter:n})}function oD(n){return K2[n]}function lD(n){return Q2[n]}function cD(n){return $2[n]}function il(n){return{fieldPath:n.canonicalString()}}function sl(n){return pn.fromServerFormat(n.fieldPath)}function H1(n){return n instanceof Kt?(function(t){if(t.op==="=="){if(Vw(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NAN"}};if(Pw(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vw(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NAN"}};if(Pw(t.value))return{unaryFilter:{field:il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(t.field),op:lD(t.op),value:t.value}}})(n):n instanceof Cr?(function(t){const i=t.getFilters().map((a=>H1(a)));return i.length===1?i[0]:{compositeFilter:{op:cD(t.op),filters:i}}})(n):Oe(54877,{filter:n})}function uD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function q1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t,i,a,l=Ve.min(),u=Ve.min(),h=gn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.yt=e}}function fD(n){const e=sD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ng(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.Cn=new mD}addToCollectionParentIndex(e,t){return this.Cn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(qs.min())}updateCollectionGroup(e,t,i){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class mD{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new nn(wt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new nn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G1=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(G1,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _l(0)}static cr(){return new _l(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="LruGarbageCollector",pD=1048576;function Zw([n,e],[t,i]){const a=Xe(n,t);return a===0?Xe(e,i):a}class gD{constructor(e){this.Ir=e,this.buffer=new nn(Zw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Zw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class yD{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(Xw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Il(t)?ye(Xw,"Ignoring IndexedDB error during garbage collection: ",t):await Rl(t)}await this.Vr(3e5)}))}}class vD{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(ah.ce);const i=new gD(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve($w)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$w):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,u,h,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(i=_,h=Date.now(),this.removeTargets(e,i,t)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(g=Date.now(),nl()<=$e.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${_} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function _D(n,e){return new vD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.changes=new no((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?oe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&nu(i.mutation,a,Tr.empty(),Ct.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ze()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ze()){const a=za();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let u=Kc();return l.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=za();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ze())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,a){let l=ji();const u=tu(),h=(function(){return tu()})();return t.forEach(((m,g)=>{const y=i.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof ro)?l=l.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),nu(y.mutation,g,y.mutation.getFieldMask(),Ct.now())):u.set(g.key,Tr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,y)=>u.set(g,y))),t.forEach(((g,y)=>h.set(g,new wD(y,u.get(g)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=tu();let a=new Dt(((u,h)=>u-h)),l=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let y=i.get(m)||Tr.empty();y=h.applyToLocalView(g,y),i.set(m,y);const _=(a.get(h.batchId)||Ze()).add(m);a=a.insert(h.batchId,_)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),g=m.key,y=m.value,_=C1();y.forEach((E=>{if(!l.has(E)){const C=O1(t.get(E),i.get(E));C!==null&&_.set(E,C),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return oe.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(u){return Re.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):w1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):oe.resolve(za());let h=su,m=l;return u.next((g=>oe.forEach(g,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Ze()))).next((y=>({batchId:h,changes:A1(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next((i=>{let a=Kc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let u=Kc();return this.indexManager.getCollectionParents(e,l).next((h=>oe.forEach(h,(m=>{const g=(function(_,E){return new vu(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((y=>{y.forEach(((_,E)=>{u=u.insert(_,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((u=>{l.forEach(((m,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,Tn.newInvalidDocument(y)))}));let h=Kc();return u.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&nu(y.mutation,g,Tr.empty(),Ct.now()),dh(t,g)&&(h=h.insert(m,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return oe.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Jr(a.createTime)}})(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:fD(a.bundledQuery),readTime:Jr(a.readTime)}})(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.overlays=new Dt(Re.comparator),this.qr=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=za();return oe.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),oe.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),oe.resolve()}getOverlaysForCollection(e,t,i){const a=za(),l=t.length+1,u=new Re(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Dt(((g,y)=>g-y));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let y=l.get(g.largestBatchId);y===null&&(y=za(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=za(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>h.set(g,y))),!(h.size()>=a)););return oe.resolve(h)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new F2(t,i));let l=this.qr.get(t);l===void 0&&(l=Ze(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.Qr=new nn(ln.$r),this.Ur=new nn(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new ln(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new ln(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Re(new wt([])),i=new ln(t,e),a=new ln(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Re(new wt([])),i=new ln(t,e),a=new ln(t,e+1);let l=Ze();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new ln(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class ln{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Re.comparator(e.key,t.key)||Xe(e.Yr,t.Yr)}static Kr(e,t){return Xe(e.Yr,t.Yr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new nn(ln.$r)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new B2(l,t,i,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new ln(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,t){return oe.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?by:this.tr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ln(t,0),a=new ln(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(Xe);return t.forEach((a=>{const l=new ln(a,0),u=new ln(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{i=i.add(h.Yr)}))})),oe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Re.isDocumentKey(l)||(l=l.child(""));const u=new ln(new Re(l),0);let h=new nn(Xe);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(h=h.add(m.Yr)),!0)}),u),oe.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){ot(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return oe.forEach(t.mutations,(a=>{const l=new ln(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new ln(t,0),a=this.Zr.firstAfterOrEqual(i);return oe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.ri=e,this.docs=(function(){return new Dt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return oe.resolve(i?i.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let i=ji();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Tn.newInvalidDocument(a))})),oe.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=ji();const u=t.path,h=new Re(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||n2(t2(y),i)<=0||(a.has(y.key)||dh(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Oe(9500)}ii(e,t){return oe.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new RD(this)}getSize(e){return oe.resolve(this.size)}}class RD extends bD{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),oe.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.persistence=e,this.si=new no((t=>Ty(t)),Sy),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.oi=0,this._i=new Iy,this.targetCount=0,this.ai=_l.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),oe.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new _l(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Pr(t),oe.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),oe.waitFor(l).next((()=>a))}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return oe.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),oe.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return oe.resolve(i)}containsKey(e,t){return oe.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new AD,this.referenceDelegate=e(this),this.Pi=new ID(this),this.indexManager=new hD,this.remoteDocumentCache=(function(a){return new xD(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new dD(t),this.Ii=new TD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new CD(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const a=new ND(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return oe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class ND extends i2{constructor(e){super(),this.currentSequenceNumber=e}}class Ny{constructor(e){this.persistence=e,this.Ri=new Iy,this.Vi=null}static mi(e){return new Ny(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),oe.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.fi,(i=>{const a=Re.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Ve.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return oe.or([()=>oe.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Uf{constructor(e,t){this.persistence=e,this.pi=new no((i=>o2(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=_D(this,t)}static mi(e,t){return new Uf(e,t)}Ei(){}di(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return oe.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?oe.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,t).next((h=>{h||(i++,l.removeEntry(u,Ve.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),oe.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mf(e.data.value)),t}br(e,t,i){return oe.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return oe.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Ze(),a=Ze();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Dy(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AI()?8:s2(Sn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new DD;return this.Ss(e,t,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(nl()<=$e.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",rl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),oe.resolve()):(nl()<=$e.DEBUG&&ye("QueryEngine","Query:",rl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(nl()<=$e.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",rl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zr(t))):oe.resolve())}ys(e,t){if(zw(t))return oe.resolve(null);let i=Zr(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Ng(t,null,"F"),i=Zr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Ze(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.Ds(t,h);return this.Cs(t,g,u,m.readTime)?this.ys(e,Ng(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,i,a){return zw(t)||a.isEqual(Ve.min())?oe.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,i,a)?oe.resolve(null):(nl()<=$e.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),rl(t)),this.vs(e,u,t,e2(a,su)).next((h=>h)))}))}Ds(e,t){let i=new nn(T1(e));return t.forEach(((a,l)=>{dh(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return nl()<=$e.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",rl(t)),this.ps.getDocumentsMatchingQuery(e,t,qs.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="LocalStore",MD=3e8;class kD{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new Dt(Xe),this.xs=new no((l=>Ty(l)),Sy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ED(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function PD(n,e,t,i){return new kD(n,e,t,i)}async function W1(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],h=[];let m=Ze();for(const g of a){u.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){h.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(i,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:h})))}))}))}function VD(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,g,y){const _=g.batch,E=_.keys();let C=oe.resolve();return E.forEach((D=>{C=C.next((()=>y.getEntry(m,D))).next((S=>{const N=g.docVersions.get(D);ot(N!==null,48541),S.version.compareTo(N)<0&&(_.applyToRemoteDocument(S,g),S.isValidDocument()&&(S.setReadTime(g.commitVersion),y.addEntry(S)))}))})),C.next((()=>h.mutationQueue.removeMutationBatch(m,_)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let m=Ze();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(m=m.add(h.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function K1(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function LD(n,e){const t=Ue(n),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const h=[];e.targetChanges.forEach(((y,_)=>{const E=a.get(_);if(!E)return;h.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(l,y.addedDocuments,_))));let C=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(gn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,i)),a=a.insert(_,C),(function(S,N,B){return S.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=MD?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(E,C,y)&&h.push(t.Pi.updateTargetData(l,C))}));let m=ji(),g=Ze();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(UD(l,u,e.documentUpdates).next((y=>{m=y.ks,g=y.qs}))),!i.isEqual(Ve.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next((_=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(y)}return oe.waitFor(h).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function UD(n,e,t){let i=Ze(),a=Ze();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let u=ji();return t.forEach(((h,m)=>{const g=l.get(h);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Ve.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):ye(Oy,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function jD(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=by),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function zD(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,oe.resolve(a)):t.Pi.allocateTargetId(i).next((u=>(a=new Ls(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Pg(n,e,t){const i=Ue(n),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Il(u))throw u;ye(Oy,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Jw(n,e,t){const i=Ue(n);let a=Ve.min(),l=Ze();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,y){const _=Ue(m),E=_.xs.get(y);return E!==void 0?oe.resolve(_.Ms.get(E)):_.Pi.getTargetData(g,y)})(i,u,Zr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?a:Ve.min(),t?l:Ze()))).next((h=>(BD(i,C2(e),h),{documents:h,Qs:l})))))}function BD(n,e,t){let i=n.Os.get(e)||Ve.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class eE{constructor(){this.activeTargetIds=O2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FD{constructor(){this.Mo=new eE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eE,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="ConnectivityMonitor";class nE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(tE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(tE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef=null;function Vg(){return ef===null?ef=(function(){return 268435456+Math.round(2147483648*Math.random())})():ef++,"0x"+ef.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="RestConnection",qD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Df?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const u=Vg(),h=this.zo(e,t.toUriEncodedString());ye(Yp,`Sending RPC '${e}' ${u}:`,h,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(h),y=Ja(g);return this.Jo(e,h,m,i,y).then((_=>(ye(Yp,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw pl(Yp,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",i),_}))}Ho(e,t,i,a,l,u){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=qD[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class WD extends GD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const u=Vg();return new Promise(((h,m)=>{const g=new $T;g.setWithCredentials(!0),g.listenOnce(XT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case hf.NO_ERROR:const _=g.getResponseJson();ye(wn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case hf.TIMEOUT:ye(wn,`RPC '${e}' ${u} timed out`),m(new pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case hf.HTTP_ERROR:const E=g.getStatus();if(ye(wn,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const D=C?.error;if(D&&D.status&&D.message){const S=(function(B){const H=B.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(H)>=0?H:se.UNKNOWN})(D.status);m(new pe(S,D.message))}else m(new pe(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new pe(se.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(wn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);ye(wn,`RPC '${e}' ${u} sending request:`,a),g.send(t,"POST",y,i,15)}))}T_(e,t,i){const a=Vg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=e1(),h=JT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const y=l.join("");ye(wn,`Creating RPC '${e}' stream ${a}: ${y}`,m);const _=u.createWebChannel(y,m);this.I_(_);let E=!1,C=!1;const D=new YD({Yo:N=>{C?ye(wn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(E||(ye(wn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),ye(wn,`RPC '${e}' stream ${a} sending:`,N),_.send(N))},Zo:()=>_.close()}),S=(N,B,H)=>{N.listen(B,(G=>{try{H(G)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return S(_,Wc.EventType.OPEN,(()=>{C||(ye(wn,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),S(_,Wc.EventType.CLOSE,(()=>{C||(C=!0,ye(wn,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(_))})),S(_,Wc.EventType.ERROR,(N=>{C||(C=!0,pl(wn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),D.a_(new pe(se.UNAVAILABLE,"The operation could not be completed")))})),S(_,Wc.EventType.MESSAGE,(N=>{if(!C){const B=N.data[0];ot(!!B,16349);const H=B,G=H?.error||H[0]?.error;if(G){ye(wn,`RPC '${e}' stream ${a} received error:`,G);const ee=G.status;let te=(function(x){const M=Wt[x];if(M!==void 0)return P1(M)})(ee),le=G.message;te===void 0&&(te=se.INTERNAL,le="Unknown error status: "+ee+" with message "+G.message),C=!0,D.a_(new pe(te,le)),_.close()}else ye(wn,`RPC '${e}' stream ${a} received:`,B),D.u_(B)}})),S(h,ZT.STAT_EVENT,(N=>{N.stat===Tg.PROXY?ye(wn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===Tg.NOPROXY&&ye(wn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(n){return new X2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="PersistentStream";class $1{constructor(e,t,i,a,l,u,h,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Ui(t.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new pe(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ye(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KD extends $1{constructor(e,t,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=eD(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ve.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ve.min():u.readTime?Jr(u.readTime):Ve.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=kg(this.serializer),t.addTarget=(function(l,u){let h;const m=u.target;if(h=Rg(m)?{documents:rD(l,m)}:{query:iD(l,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=U1(l,u.resumeToken);const g=Dg(l,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(Ve.min())>0){h.readTime=Lf(l,u.snapshotVersion.toTimestamp());const g=Dg(l,u.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const i=aD(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=kg(this.serializer),t.removeTarget=e,this.q_(t)}}class QD extends $1{constructor(e,t,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=nD(e.writeResults,e.commitTime),i=Jr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=kg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>tD(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{}class XD extends $D{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Og(t,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(se.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Og(t,i),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ui(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="RemoteStore";class JD{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{io(this)&&(ye(Wa,"Restarting streams for network reachability change."),await(async function(m){const g=Ue(m);g.Ea.add(4),await wu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await gh(g)})(this))}))})),this.Ra=new ZD(i,a)}}async function gh(n){if(io(n))for(const e of n.da)await e(!0)}async function wu(n){for(const e of n.da)await e(!1)}function X1(n,e){const t=Ue(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Vy(t)?Py(t):Nl(t).O_()&&ky(t,e))}function My(n,e){const t=Ue(n),i=Nl(t);t.Ia.delete(e),i.O_()&&Z1(t,e),t.Ia.size===0&&(i.O_()?i.L_():io(t)&&t.Ra.set("Unknown"))}function ky(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nl(n).Y_(e)}function Z1(n,e){n.Va.Ue(e),Nl(n).Z_(e)}function Py(n){n.Va=new W2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Nl(n).start(),n.Ra.ua()}function Vy(n){return io(n)&&!Nl(n).x_()&&n.Ia.size>0}function io(n){return Ue(n).Ea.size===0}function J1(n){n.Va=void 0}async function eO(n){n.Ra.set("Online")}async function tO(n){n.Ia.forEach(((e,t)=>{ky(n,e)}))}async function nO(n,e){J1(n),Vy(n)?(n.Ra.ha(e),Py(n)):n.Ra.set("Unknown")}async function rO(n,e,t){if(n.Ra.set("Online"),e instanceof L1&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(n,e)}catch(i){ye(Wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await jf(n,i)}else if(e instanceof yf?n.Va.Ze(e):e instanceof V1?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ve.min()))try{const i=await K1(n.localStore);t.compareTo(i)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(gn.EMPTY_BYTE_STRING,y.snapshotVersion)),Z1(l,m);const _=new Ls(y.target,m,g,y.sequenceNumber);ky(l,_)})),l.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){ye(Wa,"Failed to raise snapshot:",i),await jf(n,i)}}async function jf(n,e,t){if(!Il(e))throw e;n.Ea.add(1),await wu(n),n.Ra.set("Offline"),t||(t=()=>K1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ye(Wa,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await gh(n)}))}function eS(n,e){return e().catch((t=>jf(n,t,e)))}async function yh(n){const e=Ue(n),t=Ks(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:by;for(;iO(e);)try{const a=await jD(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,sO(e,a)}catch(a){await jf(e,a)}tS(e)&&nS(e)}function iO(n){return io(n)&&n.Ta.length<10}function sO(n,e){n.Ta.push(e);const t=Ks(n);t.O_()&&t.X_&&t.ea(e.mutations)}function tS(n){return io(n)&&!Ks(n).x_()&&n.Ta.length>0}function nS(n){Ks(n).start()}async function aO(n){Ks(n).ra()}async function oO(n){const e=Ks(n);for(const t of n.Ta)e.ea(t.mutations)}async function lO(n,e,t){const i=n.Ta.shift(),a=Cy.from(i,e,t);await eS(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await yh(n)}async function cO(n,e){e&&Ks(n).X_&&await(async function(i,a){if((function(u){return q2(u)&&u!==se.ABORTED})(a.code)){const l=i.Ta.shift();Ks(i).B_(),await eS(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await yh(i)}})(n,e),tS(n)&&nS(n)}async function iE(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),ye(Wa,"RemoteStore received new credentials");const i=io(t);t.Ea.add(3),await wu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await gh(t)}async function uO(n,e){const t=Ue(n);e?(t.Ea.delete(2),await gh(t)):e||(t.Ea.add(2),await wu(t),t.Ra.set("Unknown"))}function Nl(n){return n.ma||(n.ma=(function(t,i,a){const l=Ue(t);return l.sa(),new KD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:eO.bind(null,n),t_:tO.bind(null,n),r_:nO.bind(null,n),H_:rO.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Vy(n)?Py(n):n.Ra.set("Unknown")):(await n.ma.stop(),J1(n))}))),n.ma}function Ks(n){return n.fa||(n.fa=(function(t,i,a){const l=Ue(t);return l.sa(),new QD(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:aO.bind(null,n),r_:cO.bind(null,n),ta:oO.bind(null,n),na:lO.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await yh(n)):(await n.fa.stop(),n.Ta.length>0&&(ye(Wa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const u=Date.now()+i,h=new Ly(e,t,u,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uy(n,e){if(Ui("AsyncQueue",`${e}: ${n}`),Il(n))return new pe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{static emptySet(e){return new ll(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Re.comparator(t.key,i.key):(t,i)=>Re.comparator(t.key,i.key),this.keyedMap=Kc(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ll;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.ga=new Dt(Re.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class bl{constructor(e,t,i,a,l,u,h,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new bl(e,t,ll.emptySet(t),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fO{constructor(){this.queries=aE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=Ue(t),l=a.queries;a.queries=aE(),l.forEach(((u,h)=>{for(const m of h.Sa)m.onError(i)}))})(this,new pe(se.ABORTED,"Firestore shutting down"))}}function aE(){return new no((n=>E1(n)),uh)}async function rS(n,e){const t=Ue(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new dO,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const h=Uy(u,`Initialization of query '${rl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&jy(t)}async function iS(n,e){const t=Ue(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function hO(n,e){const t=Ue(n);let i=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(i=!0);u.wa=a}}i&&jy(t)}function mO(n,e,t){const i=Ue(n),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function jy(n){n.Ca.forEach((e=>{e.next()}))}var Lg,oE;(oE=Lg||(Lg={})).Ma="default",oE.Cache="cache";class sS{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new bl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.key=e}}class oS{constructor(e){this.key=e}}class pO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=T1(e),this.tu=new ll(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new sE,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,_)=>{const E=a.get(y),C=dh(this.query,_)?_:null,D=!!E&&this.mutatedKeys.has(E.key),S=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let N=!1;E&&C?E.data.isEqual(C.data)?D!==S&&(i.track({type:3,doc:C}),N=!0):this.su(E,C)||(i.track({type:2,doc:C}),N=!0,(m&&this.eu(C,m)>0||g&&this.eu(C,g)<0)&&(h=!0)):!E&&C?(i.track({type:0,doc:C}),N=!0):E&&!C&&(i.track({type:1,doc:E}),N=!0,(m||g)&&(h=!0)),N&&(C?(u=u.add(C),l=S?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,_)=>(function(C,D){const S=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:N})}};return S(C)-S(D)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),a=a??!1;const h=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new bl(this.query,e.tu,l,u,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new oS(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new aS(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zy="SyncEngine";class gO{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class yO{constructor(e){this.key=e,this.hu=!1}}class vO{constructor(e,t,i,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new no((h=>E1(h)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(Re.comparator),this.Au=new Map,this.Ru=new Iy,this.Vu={},this.mu=new Map,this.fu=_l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _O(n,e,t=!0){const i=hS(n);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await lS(i,e,t,!0),a}async function bO(n,e){const t=hS(n);await lS(t,e,!0,!1)}async function lS(n,e,t,i){const a=await zD(n.localStore,Zr(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await wO(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&X1(n.remoteStore,a),h}async function wO(n,e,t,i,a){n.pu=(_,E,C)=>(async function(S,N,B,H){let G=N.view.ru(B);G.Cs&&(G=await Jw(S.localStore,N.query,!1).then((({documents:O})=>N.view.ru(O,G))));const ee=H&&H.targetChanges.get(N.targetId),te=H&&H.targetMismatches.get(N.targetId)!=null,le=N.view.applyChanges(G,S.isPrimaryClient,ee,te);return cE(S,N.targetId,le.au),le.snapshot})(n,_,E,C);const l=await Jw(n.localStore,e,!0),u=new pO(e,l.Qs),h=u.ru(l.documents),m=bu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=u.applyChanges(h,n.isPrimaryClient,m);cE(n,t,g.au);const y=new gO(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function EO(n,e,t){const i=Ue(n),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!uh(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Pg(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&My(i.remoteStore,a.targetId),Ug(i,a.targetId)})).catch(Rl)):(Ug(i,a.targetId),await Pg(i.localStore,a.targetId,!0))}async function TO(n,e){const t=Ue(n),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),My(t.remoteStore,i.targetId))}async function SO(n,e,t){const i=DO(n);try{const a=await(function(u,h){const m=Ue(u),g=Ct.now(),y=h.reduce(((C,D)=>C.add(D.key)),Ze());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let D=ji(),S=Ze();return m.Ns.getEntries(C,y).next((N=>{D=N,D.forEach(((B,H)=>{H.isValidDocument()||(S=S.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(C,D))).next((N=>{_=N;const B=[];for(const H of h){const G=j2(H,_.get(H.key).overlayedDocument);G!=null&&B.push(new ro(H.key,G,m1(G.value.mapValue),Vi.exists(!0)))}return m.mutationQueue.addMutationBatch(C,g,B,h)})).next((N=>{E=N;const B=N.applyToLocalDocumentSet(_,S);return m.documentOverlayCache.saveOverlays(C,N.batchId,B)}))})).then((()=>({batchId:E.batchId,changes:A1(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new Dt(Xe)),g=g.insert(h,m),u.Vu[u.currentUser.toKey()]=g})(i,a.batchId,t),await Eu(i,a.changes),await yh(i.remoteStore)}catch(a){const l=Uy(a,"Failed to persist write");t.reject(l)}}async function cS(n,e){const t=Ue(n);try{const i=await LD(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(ot(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ot(u.hu,14607):a.removedDocuments.size>0&&(ot(u.hu,42227),u.hu=!1))})),await Eu(t,i,e)}catch(i){await Rl(i)}}function lE(n,e,t){const i=Ue(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const m=Ue(u);m.onlineState=h;let g=!1;m.queries.forEach(((y,_)=>{for(const E of _.Sa)E.va(h)&&(g=!0)})),g&&jy(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function AO(n,e,t){const i=Ue(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new Dt(Re.comparator);u=u.insert(l,Tn.newNoDocument(l,Ve.min()));const h=Ze().add(l),m=new mh(Ve.min(),new Map,new Dt(Xe),u,h);await cS(i,m),i.du=i.du.remove(l),i.Au.delete(e),By(i)}else await Pg(i.localStore,e,!1).then((()=>Ug(i,e,t))).catch(Rl)}async function CO(n,e){const t=Ue(n),i=e.batch.batchId;try{const a=await VD(t.localStore,e);dS(t,i,null),uS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Eu(t,a)}catch(a){await Rl(a)}}async function xO(n,e,t){const i=Ue(n);try{const a=await(function(u,h){const m=Ue(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,h).next((_=>(ot(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(g,_)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(i.localStore,e);dS(i,e,t),uS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Eu(i,a)}catch(a){await Rl(a)}}function uS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function dS(n,e,t){const i=Ue(n);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Ug(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||fS(n,i)}))}function fS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(My(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),By(n))}function cE(n,e,t){for(const i of t)i instanceof aS?(n.Ru.addReference(i.key,e),RO(n,i)):i instanceof oS?(ye(zy,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||fS(n,i.key)):Oe(19791,{wu:i})}function RO(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(ye(zy,"New document in limbo: "+t),n.Eu.add(i),By(n))}function By(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Re(wt.fromString(e)),i=n.fu.next();n.Au.set(i,new yO(t)),n.du=n.du.insert(t,i),X1(n.remoteStore,new Ls(Zr(ch(t.path)),i,"TargetPurposeLimboResolution",ah.ce))}}async function Eu(n,e,t){const i=Ue(n),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,m)=>{u.push(i.pu(m,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const y=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=Dy.As(m.targetId,g);l.push(y)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(m,g){const y=Ue(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>oe.forEach(g,(E=>oe.forEach(E.Es,(C=>y.persistence.referenceDelegate.addReference(_,E.targetId,C))).next((()=>oe.forEach(E.ds,(C=>y.persistence.referenceDelegate.removeReference(_,E.targetId,C)))))))))}catch(_){if(!Il(_))throw _;ye(Oy,"Failed to update sequence numbers: "+_)}for(const _ of g){const E=_.targetId;if(!_.fromCache){const C=y.Ms.get(E),D=C.snapshotVersion,S=C.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(E,S)}}})(i.localStore,l))}async function IO(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){ye(zy,"User change. New user:",e.toKey());const i=await W1(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new pe(se.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Eu(t,i.Ls)}}function NO(n,e){const t=Ue(n),i=t.Au.get(e);if(i&&i.hu)return Ze().add(i.key);{let a=Ze();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const h=t.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function hS(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AO.bind(null,e),e.Pu.H_=hO.bind(null,e.eventManager),e.Pu.yu=mO.bind(null,e.eventManager),e}function DO(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xO.bind(null,e),e}class zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ph(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return PD(this.persistence,new OD,e.initialUser,this.serializer)}Cu(e){return new Y1(Ny.mi,this.serializer)}Du(e){return new FD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zf.provider={build:()=>new zf};class OO extends zf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ot(this.persistence.referenceDelegate instanceof Uf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new yD(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new Y1((i=>Uf.mi(i,t)),this.serializer)}}class jg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=IO.bind(null,this.syncEngine),await uO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fO})()}createDatastore(e){const t=ph(e.databaseInfo.databaseId),i=(function(l){return new WD(l)})(e.databaseInfo);return(function(l,u,h,m){return new XD(l,u,h,m)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,u,h){return new JD(i,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>lE(this.syncEngine,t,0)),(function(){return nE.v()?new nE:new HD})())}createSyncEngine(e,t){return(function(a,l,u,h,m,g,y){const _=new vO(a,l,u,h,m,g);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ue(t);ye(Wa,"RemoteStore shutting down."),i.Ea.add(5),await wu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class MO{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=En.UNAUTHENTICATED,this.clientId=_y.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{ye(Qs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ye(Qs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Uy(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Kp(n,e){n.asyncQueue.verifyOperationInProgress(),ye(Qs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await W1(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function uE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kO(n);ye(Qs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>iE(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>iE(e.remoteStore,a))),n._onlineComponents=e}async function kO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(Qs,"Using user provided OfflineComponentProvider");try{await Kp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;pl("Error using user provided cache. Falling back to memory cache: "+t),await Kp(n,new zf)}}else ye(Qs,"Using default OfflineComponentProvider"),await Kp(n,new OO(void 0));return n._offlineComponents}async function pS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(Qs,"Using user provided OnlineComponentProvider"),await uE(n,n._uninitializedComponentsProvider._online)):(ye(Qs,"Using default OnlineComponentProvider"),await uE(n,new jg))),n._onlineComponents}function PO(n){return pS(n).then((e=>e.syncEngine))}async function zg(n){const e=await pS(n),t=e.eventManager;return t.onListen=_O.bind(null,e.syncEngine),t.onUnlisten=EO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=bO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=TO.bind(null,e.syncEngine),t}function VO(n,e,t={}){const i=new Bs;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,m,g){const y=new mS({next:E=>{y.Nu(),u.enqueueAndForget((()=>iS(l,_)));const C=E.docs.has(h);!C&&E.fromCache?g.reject(new pe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&m&&m.source==="server"?g.reject(new pe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(E)},error:E=>g.reject(E)}),_=new sS(ch(h.path),y,{includeMetadataChanges:!0,qa:!0});return rS(l,_)})(await zg(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="firestore.googleapis.com",fE=!0;class hE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yS,this.ssl=fE}else this.host=e.host,this.ssl=e.ssl??fE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pD)throw new pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gS(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new HN;switch(i.type){case"firstParty":return new WN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=dE.get(t);i&&(ye("ComponentProvider","Removing Datastore"),dE.delete(t),i.terminate())})(this),Promise.resolve()}}function LO(n,e,t,i={}){n=Ba(n,vh);const a=Ja(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;a&&(hy(`https://${h}`),my("Firestore",!0)),l.host!==yS&&l.host!==h&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:a,emulatorOptions:i};if(!qa(m,u)&&(n._setSettings(m),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=En.MOCK_USER;else{g=HT(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new pe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new En(_)}n._authCredentials=new qN(new n1(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Dl(this.firestore,e,this._query)}}class $t{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}toJSON(){return{type:$t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(yu(t,$t._jsonSchema))return new $t(e,i||null,new Re(wt.fromString(t.referencePath)))}}$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:Qt("string",$t._jsonSchemaVersion),referencePath:Qt("string")};class Fs extends Dl{constructor(e,t,i){super(e,t,ch(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Re(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function tf(n,e,...t){if(n=Un(n),r1("collection","path",e),n instanceof vh){const i=wt.fromString(e,...t);return Cw(i),new Fs(n,null,i)}{if(!(n instanceof $t||n instanceof Fs))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wt.fromString(e,...t));return Cw(i),new Fs(n.firestore,null,i)}}function Bg(n,e,...t){if(n=Un(n),arguments.length===1&&(e=_y.newId()),r1("doc","path",e),n instanceof vh){const i=wt.fromString(e,...t);return Aw(i),new $t(n,null,new Re(i))}{if(!(n instanceof $t||n instanceof Fs))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(wt.fromString(e,...t));return Aw(i),new $t(n.firestore,n instanceof Fs?n.converter:null,new Re(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="AsyncQueue";class pE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q1(this,"async_queue_retry"),this._c=()=>{const i=Wp();i&&ye(mE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Wp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Wp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Bs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Il(e))throw e;ye(mE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ui("INTERNAL UNHANDLED ERROR: ",gE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Ly.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Oe(47125,{Pc:gE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function gE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class du extends vh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new pE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pE(e),this._firestoreClient=void 0,await e}}}function UO(n,e){const t=typeof n=="object"?n:yy(),i=typeof n=="string"?n:Df,a=ih(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=zT("firestore");l&&LO(a,...l)}return a}function Fy(n){if(n._terminated)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jO(n),n._firestoreClient}function jO(n){const e=n._freezeSettings(),t=(function(a,l,u,h){return new u2(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,gS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new MO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(gn.fromBase64String(e))}catch(t){throw new pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ur(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,ur._jsonSchema))return ur.fromBase64String(e.bytes)}}ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:Qt("string",ur._jsonSchemaVersion),bytes:Qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ei._jsonSchemaVersion}}static fromJSON(e){if(yu(e,ei._jsonSchema))return new ei(e.latitude,e.longitude)}}ei._jsonSchemaVersion="firestore/geoPoint/1.0",ei._jsonSchema={type:Qt("string",ei._jsonSchemaVersion),latitude:Qt("number"),longitude:Qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ti(e.vectorValues);throw new pe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ti._jsonSchemaVersion="firestore/vectorValue/1.0",ti._jsonSchema={type:Qt("string",ti._jsonSchemaVersion),vectorValues:Qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=/^__.*__$/;class BO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,t,this.fieldTransforms):new _u(e,this.data,t,this.fieldTransforms)}}function _S(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:n})}}class qy{constructor(e,t,i,a,l,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_S(this.Ac)&&zO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FO{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ph(e)}Cc(e,t,i,a=!1){return new qy({Ac:e,methodName:t,Dc:i,path:pn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bS(n){const e=n._freezeSettings(),t=ph(n._databaseId);return new FO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HO(n,e,t,i,a,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);TS("Data must be an object, but it was:",u,i);const h=wS(i,u);let m,g;if(l.merge)m=new Tr(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=GO(e,_,t);if(!u.contains(E))throw new pe(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);WO(y,E)||y.push(E)}m=new Tr(y),g=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,g=u.fieldTransforms;return new BO(new cr(h),m,g)}function qO(n,e,t,i=!1){return Gy(t,n.Cc(i?4:3,e))}function Gy(n,e){if(ES(n=Un(n)))return TS("Unsupported field value:",e,n),wS(n,e);if(n instanceof vS)return(function(i,a){if(!_S(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const h of i){let m=Gy(h,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,e)}return(function(i,a){if((i=Un(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return M2(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ct.fromDate(i);return{timestampValue:Lf(a.serializer,l)}}if(i instanceof Ct){const l=new Ct(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lf(a.serializer,l)}}if(i instanceof ei)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ur)return{bytesValue:U1(a.serializer,i._byteString)};if(i instanceof $t){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ry(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ti)return(function(u,h){return{mapValue:{fields:{[f1]:{stringValue:h1},[Of]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return Ay(h.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${sh(i)}`)})(n,e)}function wS(n,e){const t={};return a1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(n,((i,a)=>{const l=Gy(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function ES(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof ei||n instanceof ur||n instanceof $t||n instanceof vS||n instanceof ti)}function TS(n,e,t){if(!ES(t)||!i1(t)){const i=sh(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function GO(n,e,t){if((e=Un(e))instanceof Hy)return e._internalPath;if(typeof e=="string")return SS(n,e);throw Bf("Field path arguments must be of type string or ",n,!1,void 0,t)}const YO=new RegExp("[~\\*/\\[\\]]");function SS(n,e,t){if(e.search(YO)>=0)throw Bf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hy(...e.split("."))._internalPath}catch{throw Bf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Bf(n,e,t,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new pe(se.INVALID_ARGUMENT,h+n+m)}function WO(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class KO extends AS{data(){return super.data()}}function Yy(n,e){return typeof e=="string"?SS(n,e):e instanceof Hy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wy{}class $O extends Wy{}function XO(n,e,...t){let i=[];e instanceof Wy&&i.push(e),i=i.concat(t),(function(l){const u=l.filter((m=>m instanceof Ky)).length,h=l.filter((m=>m instanceof _h)).length;if(u>1||u>0&&h>0)throw new pe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class _h extends $O{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new _h(e,t,i)}_apply(e){const t=this._parse(e);return CS(e._query,t),new Dl(e.firestore,e.converter,Ig(e._query,t))}_parse(e){const t=bS(e.firestore);return(function(l,u,h,m,g,y,_){let E;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new pe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){_E(_,y);const D=[];for(const S of _)D.push(vE(m,l,S));E={arrayValue:{values:D}}}else E=vE(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||_E(_,y),E=qO(h,u,_,y==="in"||y==="not-in");return Kt.create(g,y,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function ZO(n,e,t){const i=e,a=Yy("where",n);return _h._create(a,i,t)}class Ky extends Wy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ky(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const m of h)CS(u,m),u=Ig(u,m)})(e._query,t),new Dl(e.firestore,e.converter,Ig(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vE(n,e,t){if(typeof(t=Un(t))=="string"){if(t==="")throw new pe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w1(e)&&t.indexOf("/")!==-1)throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(wt.fromString(t));if(!Re.isDocumentKey(i))throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return kw(n,new Re(i))}if(t instanceof $t)return kw(n,t._key);throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(t)}.`)}function _E(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CS(n,e){const t=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class JO{convertValue(e,t="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return to(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Of].arrayValue?.values?.map((i=>Ft(i.doubleValue)));return new ti(t)}convertGeoPoint(e){return new ei(Ft(e.latitude),Ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=lh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const t=Gs(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=wt.fromString(e);ot(q1(i),9688,{name:e});const a=new ou(i.get(1),i.get(3)),l=new Re(i.popFirst(5));return a.isEqual(t)||Ui(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class $c{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fa extends AS{constructor(e,t,i,a,l,u){super(e,t,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Yy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Fa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fa._jsonSchema={type:Qt("string",Fa._jsonSchemaVersion),bundleSource:Qt("string","DocumentSnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class vf extends Fa{data(e={}){return super.data(e)}}class cl{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new $c(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new vf(this._firestore,this._userDataWriter,i.key,i,new $c(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const m=new vf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new $c(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new vf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new $c(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:tM(h.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_y.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(n){n=Ba(n,$t);const e=Ba(n.firestore,du);return VO(Fy(e),n._key).then((t=>RS(e,n,t)))}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:Qt("string",cl._jsonSchemaVersion),bundleSource:Qt("string","QuerySnapshot"),bundleName:Qt("string"),bundle:Qt("string")};class xS extends JO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,t)}}function nM(n,e){const t=Ba(n.firestore,du),i=Bg(n),a=eM(n.converter,e);return rM(t,[HO(bS(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Vi.exists(!1))]).then((()=>i))}function Qp(n,...e){n=Un(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||yE(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(yE(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let l,u,h;if(n instanceof $t)u=Ba(n.firestore,du),h=ch(n._key.path),l={next:m=>{e[i]&&e[i](RS(u,n,m))},error:e[i+1],complete:e[i+2]};else{const m=Ba(n,Dl);u=Ba(m.firestore,du),h=m._query;const g=new xS(u);l={next:y=>{e[i]&&e[i](new cl(u,g,m,y))},error:e[i+1],complete:e[i+2]},QO(n._query)}return(function(g,y,_,E){const C=new mS(E),D=new sS(y,C,_);return g.asyncQueue.enqueueAndForget((async()=>rS(await zg(g),D))),()=>{C.Nu(),g.asyncQueue.enqueueAndForget((async()=>iS(await zg(g),D)))}})(Fy(u),h,a,l)}function rM(n,e){return(function(i,a){const l=new Bs;return i.asyncQueue.enqueueAndForget((async()=>SO(await PO(i),a,l))),l.promise})(Fy(n),e)}function RS(n,e,t){const i=t.docs.get(e._key),a=new xS(n);return new Fa(n,a,e._key,i,new $c(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){xl=a})(eo),Ga(new Hs("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new du(new GN(i.getProvider("auth-internal")),new KN(u,i.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(g.options.projectId,y)})(u,a),u);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Xr(ww,Ew,e),Xr(ww,Ew,"esm2020")})();var iM="firebase",sM="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xr(iM,sM,"app");function IS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aM=IS,NS=new pu("auth","Firebase",IS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=new py("@firebase/auth");function oM(n,...e){Ff.logLevel<=$e.WARN&&Ff.warn(`Auth (${eo}): ${n}`,...e)}function _f(n,...e){Ff.logLevel<=$e.ERROR&&Ff.error(`Auth (${eo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(n,...e){throw Qy(n,...e)}function ni(n,...e){return Qy(n,...e)}function DS(n,e,t){const i={...aM(),[e]:t};return new pu("auth","Firebase",i).create(e,{appName:n.name})}function Ha(n){return DS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qy(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return NS.create(n,...e)}function Pe(n,e,...t){if(!n)throw Qy(e,...t)}function ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _f(e),new Error(e)}function Bi(n,e){n||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(){return typeof self<"u"&&self.location?.href||""}function lM(){return wE()==="http:"||wE()==="https:"}function wE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lM()||EI()||"connection"in navigator)?navigator.onLine:!0}function uM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bi(t>e,"Short delay should be less than long delay!"),this.isMobile=_I()||TI()}get(){return cM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(n,e){Bi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hM=new Tu(3e4,6e4);function Xy(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ol(n,e,t,i,a={}){return MS(n,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const h=gu({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...l};return wI()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Ja(n.emulatorConfig.host)&&(g.credentials="include"),OS.fetch()(await kS(n,n.config.apiHost,t,h),g)})}async function MS(n,e,t){n._canInitEmulator=!1;const i={...dM,...e};try{const a=new pM(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw nf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[m,g]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw nf(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw nf(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw nf(n,"user-disabled",u);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw DS(n,y,g);zi(n,y)}}catch(a){if(a instanceof ci)throw a;zi(n,"network-request-failed",{message:String(a)})}}async function mM(n,e,t,i,a={}){const l=await Ol(n,e,t,i,a);return"mfaPendingCredential"in l&&zi(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function kS(n,e,t,i){const a=`${e}${t}?${i}`,l=n,u=l.config.emulator?$y(n.config,a):`${n.config.apiScheme}://${a}`;return fM.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class pM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ni(this.auth,"network-request-failed")),hM.get())})}}function nf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ni(n,e,i);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gM(n,e){return Ol(n,"POST","/v1/accounts:delete",e)}async function Hf(n,e){return Ol(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yM(n,e=!1){const t=Un(n),i=await t.getIdToken(e),a=Zy(i);Pe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:ru($p(a.auth_time)),issuedAtTime:ru($p(a.iat)),expirationTime:ru($p(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function $p(n){return Number(n)*1e3}function Zy(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return _f("JWT malformed, contained fewer than 3 sections"),null;try{const a=UT(t);return a?JSON.parse(a):(_f("Failed to decode base64 JWT payload"),null)}catch(a){return _f("Caught error parsing JWT payload as JSON",a?.toString()),null}}function EE(n){const e=Zy(n);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ci&&vM(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function vM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(n){const e=n.auth,t=await n.getIdToken(),i=await fu(n,Hf(e,{idToken:t}));Pe(i?.users.length,e,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?PS(a.providerUserInfo):[],u=wM(n.providerData,l),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,g=h?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Hg(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function bM(n){const e=Un(n);await qf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wM(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function PS(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(n,e){const t=await MS(n,{},async()=>{const i=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await kS(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:i};return n.emulatorConfig&&Ja(n.emulatorConfig.host)&&(m.credentials="include"),OS.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function TM(n,e){return Ol(n,"POST","/v2/accounts:revokeToken",Xy(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=EE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await EM(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,u=new ul;return i&&(Pe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Pe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Pe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(n,e){Pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Sr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new _M(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await fu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return yM(this,e)}reload(){return bM(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await qf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(Ha(this.auth));const e=await this.getIdToken();return await fu(this,gM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:C,providerData:D,stsTokenManager:S}=t;Pe(_&&S,e,"internal-error");const N=ul.fromJSON(this.name,S);Pe(typeof _=="string",e,"internal-error"),Rs(i,e.name),Rs(a,e.name),Pe(typeof E=="boolean",e,"internal-error"),Pe(typeof C=="boolean",e,"internal-error"),Rs(l,e.name),Rs(u,e.name),Rs(h,e.name),Rs(m,e.name),Rs(g,e.name),Rs(y,e.name);const B=new Sr({uid:_,auth:e,email:a,emailVerified:E,displayName:i,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:N,createdAt:g,lastLoginAt:y});return D&&Array.isArray(D)&&(B.providerData=D.map(H=>({...H}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,t,i=!1){const a=new ul;a.updateFromServerResponse(t);const l=new Sr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await qf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Pe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?PS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new ul;h.updateFromIdToken(i);const m=new Sr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Hg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;function Pi(n){Bi(n instanceof Function,"Expected a class definition");let e=TE.get(n);return e?(Bi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,TE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}VS.type="NONE";const SE=VS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(n,e,t){return`firebase:${n}:${e}:${t}`}class dl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=bf(this.userKey,a.apiKey,l),this.fullPersistenceKey=bf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Hf(this.auth,{idToken:e}).catch(()=>{});return t?Sr._fromGetAccountInfoResponse(this.auth,t,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new dl(Pi(SE),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Pi(SE);const u=bf(i,e.config.apiKey,e.name);let h=null;for(const g of t)try{const y=await g._get(u);if(y){let _;if(typeof y=="string"){const E=await Hf(e,{idToken:y}).catch(()=>{});if(!E)break;_=await Sr._fromGetAccountInfoResponse(e,E,y)}else _=Sr._fromJSON(e,y);g!==l&&(h=_),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new dl(l,e,i):(l=m[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new dl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FS(e))return"Blackberry";if(HS(e))return"Webos";if(US(e))return"Safari";if((e.includes("chrome/")||jS(e))&&!e.includes("edge/"))return"Chrome";if(BS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function LS(n=Sn()){return/firefox\//i.test(n)}function US(n=Sn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jS(n=Sn()){return/crios\//i.test(n)}function zS(n=Sn()){return/iemobile/i.test(n)}function BS(n=Sn()){return/android/i.test(n)}function FS(n=Sn()){return/blackberry/i.test(n)}function HS(n=Sn()){return/webos/i.test(n)}function Jy(n=Sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SM(n=Sn()){return Jy(n)&&!!window.navigator?.standalone}function AM(){return SI()&&document.documentMode===10}function qS(n=Sn()){return Jy(n)||BS(n)||HS(n)||FS(n)||/windows phone/i.test(n)||zS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(n,e=[]){let t;switch(n){case"Browser":t=AE(Sn());break;case"Worker":t=`${AE(Sn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${eo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((u,h)=>{try{const m=e(l);u(m)}catch(m){h(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(n,e={}){return Ol(n,"GET","/v2/passwordPolicy",Xy(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=6;class IM{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??RM,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CE(this),this.idTokenSubscription=new CE(this),this.beforeStateQueue=new CM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Hf(this,{idToken:e}),i=await Sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Er(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(Ha(this));const t=e?Un(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(Ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(Ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xM(this),t=new IM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await TM(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pi(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[Pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oM(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ev(n){return Un(n)}class CE{constructor(e){this.auth=e,this.observer=null,this.addObserver=OI(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DM(n){tv=n}function OM(n){return tv.loadJS(n)}function MM(){return tv.gapiScript}function kM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(n,e){const t=ih(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(qa(l,e??{}))return a;zi(a,"already-initialized")}return t.initialize({options:e})}function VM(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Pi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function LM(n,e,t){const i=ev(n);Pe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=YS(e),{host:u,port:h}=UM(e),m=h===null?"":`:${h}`,g={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Pe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Pe(qa(g,i.config.emulator)&&qa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Ja(u)?(hy(`${l}//${u}${m}`),my("Auth",!0)):jM()}function YS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UM(n){const e=YS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:xE(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:xE(u)}}}function xE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function jM(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(n,e){return mM(n,"POST","/v1/accounts:signInWithIdp",Xy(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="http://localhost";class Ka extends WS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):zi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const u=new Ka(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return fl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,fl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fl(e,t)}buildRequest(){const e={requestUri:zM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends KS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Su{constructor(){super("facebook.com")}static credential(e){return Ka._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ka._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ks.credential(t,i)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Su{constructor(){super("github.com")}static credential(e){return Ka._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Su{constructor(){super("twitter.com")}static credential(e,t){return Ka._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Vs.credential(t,i)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Sr._fromIdTokenResponse(e,i,a),u=RE(i);return new wl({user:l,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=RE(i);return new wl({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function RE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends ci{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Gf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Gf(e,t,i,a)}}function QS(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Gf._fromErrorAndOperation(n,l,e,i):l})}async function BM(n,e,t=!1){const i=await fu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return wl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(n,e,t=!1){const{auth:i}=n;if(Er(i.app))return Promise.reject(Ha(i));const a="reauthenticate";try{const l=await fu(n,QS(i,a,e,n),t);Pe(l.idToken,i,"internal-error");const u=Zy(l.idToken);Pe(u,i,"internal-error");const{sub:h}=u;return Pe(n.uid===h,i,"user-mismatch"),wl._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&zi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(n,e,t=!1){if(Er(n.app))return Promise.reject(Ha(n));const i="signIn",a=await QS(n,i,e),l=await wl._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}function qM(n,e,t,i){return Un(n).onIdTokenChanged(e,t,i)}function GM(n,e,t){return Un(n).beforeAuthStateChanged(e,t)}const Yf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yf,"1"),this.storage.removeItem(Yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM=1e3,WM=10;class XS extends $S{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);AM()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,WM):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},YM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}XS.type="LOCAL";const KM=XS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends $S{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ZS.type="SESSION";const JS=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new bh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async g=>g(t.origin,l)),m=await QM(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,m)=>{const g=nv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function XM(n){ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function ZM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JM(){return navigator?.serviceWorker?.controller||null}function ek(){return eA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebaseLocalStorageDb",tk=1,Wf="firebaseLocalStorage",nA="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wh(n,e){return n.transaction([Wf],e?"readwrite":"readonly").objectStore(Wf)}function nk(){const n=indexedDB.deleteDatabase(tA);return new Au(n).toPromise()}function qg(){const n=indexedDB.open(tA,tk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Wf,{keyPath:nA})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Wf)?e(i):(i.close(),await nk(),e(await qg()))})})}async function IE(n,e,t){const i=wh(n,!0).put({[nA]:e,value:t});return new Au(i).toPromise()}async function rk(n,e){const t=wh(n,!1).get(e),i=await new Au(t).toPromise();return i===void 0?null:i.value}function NE(n,e){const t=wh(n,!0).delete(e);return new Au(t).toPromise()}const ik=800,sk=3;class rA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>sk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(ek()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZM(),!this.activeServiceWorker)return;this.sender=new $M(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qg();return await IE(e,Yf,"1"),await NE(e,Yf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>IE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>rk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>NE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=wh(a,!1).getAll();return new Au(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ik)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rA.type="LOCAL";const ak=rA;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n,e){return e?Pi(e):(Pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv extends WS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lk(n){return HM(n.auth,new rv(n),n.bypassAuthState)}function ck(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),FM(t,new rv(n),n.bypassAuthState)}async function uk(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),BM(t,new rv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lk;case"linkViaPopup":case"linkViaRedirect":return uk;case"reauthViaPopup":case"reauthViaRedirect":return ck;default:zi(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new Tu(2e3,1e4);class ol extends iA{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dk.get())};e()}}ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="pendingRedirect",wf=new Map;class hk extends iA{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=wf.get(this.auth._key());if(!e){try{const i=await mk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}wf.set(this.auth._key(),e)}return this.bypassAuthState||wf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mk(n,e){const t=yk(e),i=gk(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function pk(n,e){wf.set(n._key(),e)}function gk(n){return Pi(n._redirectPersistence)}function yk(n){return bf(fk,n.config.apiKey,n.name)}async function vk(n,e,t=!1){if(Er(n.app))return Promise.reject(Ha(n));const i=ev(n),a=ok(i,e),u=await new hk(i,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=600*1e3;class bk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!sA(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ni(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_k&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function sA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function wk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ek(n,e={}){return Ol(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sk=/^https?/;async function Ak(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Ek(n);for(const t of e)try{if(Ck(t))return}catch{}zi(n,"unauthorized-domain")}function Ck(n){const e=Fg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!Sk.test(t))return!1;if(Tk.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new Tu(3e4,6e4);function OE(){const n=ri().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Rk(n){return new Promise((e,t)=>{function i(){OE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OE(),t(ni(n,"network-request-failed"))},timeout:xk.get()})}if(ri().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ri().gapi?.load)i();else{const a=kM("iframefcb");return ri()[a]=()=>{gapi.load?i():t(ni(n,"network-request-failed"))},OM(`${MM()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Ef=null,e})}let Ef=null;function Ik(n){return Ef=Ef||Rk(n),Ef}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Tu(5e3,15e3),Dk="__/auth/iframe",Ok="emulator/auth/iframe",Mk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pk(n){const e=n.config;Pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?$y(e,Ok):`https://${n.config.authDomain}/${Dk}`,i={apiKey:e.apiKey,appName:n.name,v:eo},a=kk.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${gu(i).slice(1)}`}async function Vk(n){const e=await Ik(n),t=ri().gapi;return Pe(t,n,"internal-error"),e.open({where:document.body,url:Pk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mk,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=ni(n,"network-request-failed"),h=ri().setTimeout(()=>{l(u)},Nk.get());function m(){ri().clearTimeout(h),a(i)}i.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Uk=500,jk=600,zk="_blank",Bk="http://localhost";class ME{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fk(n,e,t,i=Uk,a=jk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const m={...Lk,width:i.toString(),height:a.toString(),top:l,left:u},g=Sn().toLowerCase();t&&(h=jS(g)?zk:t),LS(g)&&(e=e||Bk,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[C,D])=>`${E}${C}=${D},`,"");if(SM(g)&&h!=="_self")return Hk(e||"",h),new ME(null);const _=window.open(e||"",h,y);Pe(_,n,"popup-blocked");try{_.focus()}catch{}return new ME(_)}function Hk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="__/auth/handler",Gk="emulator/auth/handler",Yk=encodeURIComponent("fac");async function kE(n,e,t,i,a,l){Pe(n.config.authDomain,n,"auth-domain-config-required"),Pe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:eo,eventId:a};if(e instanceof KS){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",DI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(e instanceof Su){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const m=await n._getAppCheckToken(),g=m?`#${Yk}=${encodeURIComponent(m)}`:"";return`${Wk(n)}?${gu(h).slice(1)}${g}`}function Wk({config:n}){return n.emulator?$y(n,Gk):`https://${n.authDomain}/${qk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="webStorageSupport";class Kk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JS,this._completeRedirectFn=vk,this._overrideRedirectResult=pk}async _openPopup(e,t,i,a){Bi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await kE(e,t,i,Fg(),a);return Fk(e,l,nv())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await kE(e,t,i,Fg(),a);return XM(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Bi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Vk(e),i=new bk(e);return t.register("authEvent",a=>(Pe(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xp,{type:Xp},a=>{const l=a?.[0]?.[Xp];l!==void 0&&t(!!l),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Ak(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qS()||US()||Jy()}}const Qk=Kk;var PE="@firebase/auth",VE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zk(n){Ga(new Hs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Pe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GS(n)},g=new NM(i,a,l,m);return VM(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ga(new Hs("auth-internal",e=>{const t=ev(e.getProvider("auth").getImmediate());return(i=>new $k(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(PE,VE,Xk(n)),Xr(PE,VE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=300,eP=FT("authIdTokenMaxAge")||Jk;let LE=null;const tP=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>eP)return;const a=t?.token;LE!==a&&(LE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function nP(n=yy()){const e=ih(n,"auth");if(e.isInitialized())return e.getImmediate();const t=PM(n,{popupRedirectResolver:Qk,persistence:[ak,KM,JS]}),i=FT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=tP(l.toString());GM(t,u,()=>u(t.currentUser)),qM(t,h=>u(h))}}const a=jT("auth");return a&&LM(t,`http://${a}`),t}function rP(){return document.getElementsByTagName("head")?.[0]??document}DM({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=ni("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",rP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zk("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firebasestorage.googleapis.com",iP="storageBucket",sP=120*1e3,aP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends ci{constructor(e,t,i=0){super(Zp(e),`Firebase Storage: ${t} (${Zp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ui.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oi||(oi={}));function Zp(n){return"storage/"+n}function oP(){const n="An unknown error occurred, please check the error payload for server response.";return new ui(oi.UNKNOWN,n)}function lP(){return new ui(oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cP(){return new ui(oi.CANCELED,"User canceled the upload/download.")}function uP(n){return new ui(oi.INVALID_URL,"Invalid URL '"+n+"'.")}function dP(n){return new ui(oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function UE(n){return new ui(oi.INVALID_ARGUMENT,n)}function oA(){return new ui(oi.APP_DELETED,"The Firebase app was deleted.")}function fP(n){return new ui(oi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Ar.makeFromUrl(e,t)}catch{return new Ar(e,"")}if(i.path==="")return i;throw dP(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function g(ee){ee.path_=decodeURIComponent(ee.path)}const y="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",C=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),D={bucket:1,path:3},S=t===aA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",B=new RegExp(`^https?://${S}/${a}/${N}`,"i"),G=[{regex:h,indices:m,postModify:l},{regex:C,indices:D,postModify:g},{regex:B,indices:{bucket:1,path:2},postModify:g}];for(let ee=0;ee<G.length;ee++){const te=G[ee],le=te.regex.exec(e);if(le){const O=le[te.indices.bucket];let x=le[te.indices.path];x||(x=""),i=new Ar(O,x),te.postModify(i);break}}if(i==null)throw uP(e);return i}}class hP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n,e,t){let i=1,a=null,l=null,u=!1,h=0;function m(){return h===2}let g=!1;function y(...N){g||(g=!0,e.apply(null,N))}function _(N){a=setTimeout(()=>{a=null,n(C,m())},N)}function E(){l&&clearTimeout(l)}function C(N,...B){if(g){E();return}if(N){E(),y.call(null,N,...B);return}if(m()||u){E(),y.call(null,N,...B);return}i<64&&(i*=2);let G;h===1?(h=2,G=0):G=(i+Math.random())*1e3,_(G)}let D=!1;function S(N){D||(D=!0,E(),!g&&(a!==null?(N||(h=2),clearTimeout(a),_(0)):N||(h=1)))}return _(0),l=setTimeout(()=>{u=!0,S(!0)},t),S}function pP(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n){return n!==void 0}function jE(n,e,t,i){if(i<e)throw UE(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw UE(`Invalid value for '${n}'. Expected ${t} or less.`)}function yP(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var Kf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Kf||(Kf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,t,i,a,l,u,h,m,g,y,_,E=!0,C=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,S)=>{this.resolve_=D,this.reject_=S,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new rf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const m=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===Kf.NO_ERROR,m=l.getStatus();if(!h||vP(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Kf.ABORT;i(!1,new rf(!1,null,y));return}const g=this.successCodes_.indexOf(m)!==-1;i(!0,new rf(g,l))})},t=(i,a)=>{const l=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(h,h.getResponse());gP(m)?l(m):l()}catch(m){u(m)}else if(h!==null){const m=oP();m.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,m)):u(m)}else if(a.canceled){const m=this.appDelete_?oA():cP();u(m)}else{const m=lP();u(m)}};this.canceled_?t(!1,new rf(!1,null,!0)):this.backoffId_=mP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rf{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function bP(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function wP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EP(n,e){e&&(n["X-Firebase-GMPID"]=e)}function TP(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function SP(n,e,t,i,a,l,u=!0,h=!1){const m=yP(n.urlParams),g=n.url+m,y=Object.assign({},n.headers);return EP(y,e),bP(y,t),wP(y,l),TP(y,i),new _P(g,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function CP(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,t){this._service=e,t instanceof Ar?this._location=t:this._location=Ar.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Qf(e,t)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CP(this._location.path)}get storage(){return this._service}get parent(){const e=AP(this._location.path);if(e===null)return null;const t=new Ar(this._location.bucket,e);return new Qf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw fP(e)}}function zE(n,e){const t=e?.[iP];return t==null?null:Ar.makeFromBucketSpec(t,n)}function xP(n,e,t,i={}){n.host=`${e}:${t}`;const a=Ja(e);a&&(hy(`https://${n.host}/b`),my("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:HT(l,n.app.options.projectId))}class RP{constructor(e,t,i,a,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=aA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sP,this._maxUploadRetryTime=aP,this._requests=new Set,a!=null?this._bucket=Ar.makeFromBucketSpec(a,this._host):this._bucket=zE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=zE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qf(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new hP(oA());{const u=SP(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const BE="@firebase/storage",FE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="storage";function IP(n=yy(),e){n=Un(n);const i=ih(n,lA).getImmediate({identifier:e}),a=zT("storage");return a&&NP(i,...a),i}function NP(n,e,t,i={}){xP(n,e,t,i)}function DP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new RP(t,i,a,e,eo)}function OP(){Ga(new Hs(lA,DP,"PUBLIC").setMultipleInstances(!0)),Xr(BE,FE,""),Xr(BE,FE,"esm2020")}OP();const MP={apiKey:"AIzaSyAWK-LIdsOVV4Kpnxr_pHdaeOO6pU5cFg8",authDomain:"twinscheduler.firebaseapp.com",projectId:"twinscheduler",storageBucket:"twinscheduler.firebasestorage.app",messagingSenderId:"302440705715",appId:"1:302440705715:web:20c8d09784d1cb88b14ac6"},iv=YT(MP),$o=UO(iv);nP(iv);IP(iv);function cA(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(t=cA(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function uA(){for(var n,e,t=0,i="",a=arguments.length;t<a;t++)(n=arguments[t])&&(e=cA(n))&&(i&&(i+=" "),i+=e);return i}const sv="-",kP=n=>{const e=VP(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:u=>{const h=u.split(sv);return h[0]===""&&h.length!==1&&h.shift(),dA(h,e)||PP(u)},getConflictingClassGroupIds:(u,h)=>{const m=t[u]||[];return h&&i[u]?[...m,...i[u]]:m}}},dA=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),a=i?dA(n.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const l=n.join(sv);return e.validators.find(({validator:u})=>u(l))?.classGroupId},HE=/^\[(.+)\]$/,PP=n=>{if(HE.test(n)){const e=HE.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},VP=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const a in t)Gg(t[a],i,a,e);return i},Gg=(n,e,t,i)=>{n.forEach(a=>{if(typeof a=="string"){const l=a===""?e:qE(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(LP(a)){Gg(a(i),e,t,i);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,u])=>{Gg(u,qE(e,l),t,i)})})},qE=(n,e)=>{let t=n;return e.split(sv).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},LP=n=>n.isThemeGetter,UP=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const a=(l,u)=>{t.set(l,u),e++,e>n&&(e=0,i=t,t=new Map)};return{get(l){let u=t.get(l);if(u!==void 0)return u;if((u=i.get(l))!==void 0)return a(l,u),u},set(l,u){t.has(l)?t.set(l,u):a(l,u)}}},Yg="!",Wg=":",jP=Wg.length,zP=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=a=>{const l=[];let u=0,h=0,m=0,g;for(let D=0;D<a.length;D++){let S=a[D];if(u===0&&h===0){if(S===Wg){l.push(a.slice(m,D)),m=D+jP;continue}if(S==="/"){g=D;continue}}S==="["?u++:S==="]"?u--:S==="("?h++:S===")"&&h--}const y=l.length===0?a:a.substring(m),_=BP(y),E=_!==y,C=g&&g>m?g-m:void 0;return{modifiers:l,hasImportantModifier:E,baseClassName:_,maybePostfixModifierPosition:C}};if(e){const a=e+Wg,l=i;i=u=>u.startsWith(a)?l(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const a=i;i=l=>t({className:l,parseClassName:a})}return i},BP=n=>n.endsWith(Yg)?n.substring(0,n.length-1):n.startsWith(Yg)?n.substring(1):n,FP=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let l=[];return i.forEach(u=>{u[0]==="["||e[u]?(a.push(...l.sort(),u),l=[]):l.push(u)}),a.push(...l.sort()),a}},HP=n=>({cache:UP(n.cacheSize),parseClassName:zP(n),sortModifiers:FP(n),...kP(n)}),qP=/\s+/,GP=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],h=n.trim().split(qP);let m="";for(let g=h.length-1;g>=0;g-=1){const y=h[g],{isExternal:_,modifiers:E,hasImportantModifier:C,baseClassName:D,maybePostfixModifierPosition:S}=t(y);if(_){m=y+(m.length>0?" "+m:m);continue}let N=!!S,B=i(N?D.substring(0,S):D);if(!B){if(!N){m=y+(m.length>0?" "+m:m);continue}if(B=i(D),!B){m=y+(m.length>0?" "+m:m);continue}N=!1}const H=l(E).join(":"),G=C?H+Yg:H,ee=G+B;if(u.includes(ee))continue;u.push(ee);const te=a(B,N);for(let le=0;le<te.length;++le){const O=te[le];u.push(G+O)}m=y+(m.length>0?" "+m:m)}return m};function YP(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=fA(e))&&(i&&(i+=" "),i+=t);return i}const fA=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=fA(n[i]))&&(t&&(t+=" "),t+=e);return t};function WP(n,...e){let t,i,a,l=u;function u(m){const g=e.reduce((y,_)=>_(y),n());return t=HP(g),i=t.cache.get,a=t.cache.set,l=h,h(m)}function h(m){const g=i(m);if(g)return g;const y=GP(m,t);return a(m,y),y}return function(){return l(YP.apply(null,arguments))}}const tn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},hA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,KP=/^\d+\/\d+$/,QP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$P=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ZP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xo=n=>KP.test(n),Be=n=>!!n&&!Number.isNaN(Number(n)),Is=n=>!!n&&Number.isInteger(Number(n)),Jp=n=>n.endsWith("%")&&Be(n.slice(0,-1)),Oi=n=>QP.test(n),e4=()=>!0,t4=n=>$P.test(n)&&!XP.test(n),pA=()=>!1,n4=n=>ZP.test(n),r4=n=>JP.test(n),i4=n=>!Ee(n)&&!Te(n),s4=n=>Ml(n,vA,pA),Ee=n=>hA.test(n),La=n=>Ml(n,_A,t4),eg=n=>Ml(n,u4,Be),GE=n=>Ml(n,gA,pA),a4=n=>Ml(n,yA,r4),sf=n=>Ml(n,bA,n4),Te=n=>mA.test(n),qc=n=>kl(n,_A),o4=n=>kl(n,d4),YE=n=>kl(n,gA),l4=n=>kl(n,vA),c4=n=>kl(n,yA),af=n=>kl(n,bA,!0),Ml=(n,e,t)=>{const i=hA.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},kl=(n,e,t=!1)=>{const i=mA.exec(n);return i?i[1]?e(i[1]):t:!1},gA=n=>n==="position"||n==="percentage",yA=n=>n==="image"||n==="url",vA=n=>n==="length"||n==="size"||n==="bg-size",_A=n=>n==="length",u4=n=>n==="number",d4=n=>n==="family-name",bA=n=>n==="shadow",f4=()=>{const n=tn("color"),e=tn("font"),t=tn("text"),i=tn("font-weight"),a=tn("tracking"),l=tn("leading"),u=tn("breakpoint"),h=tn("container"),m=tn("spacing"),g=tn("radius"),y=tn("shadow"),_=tn("inset-shadow"),E=tn("text-shadow"),C=tn("drop-shadow"),D=tn("blur"),S=tn("perspective"),N=tn("aspect"),B=tn("ease"),H=tn("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],te=()=>[...ee(),Te,Ee],le=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],x=()=>[Te,Ee,m],M=()=>[Xo,"full","auto",...x()],U=()=>[Is,"none","subgrid",Te,Ee],L=()=>["auto",{span:["full",Is,Te,Ee]},Is,Te,Ee],j=()=>[Is,"auto",Te,Ee],k=()=>["auto","min","max","fr",Te,Ee],_e=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Se=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...x()],K=()=>[Xo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],z=()=>[n,Te,Ee],ve=()=>[...ee(),YE,GE,{position:[Te,Ee]}],V=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",l4,s4,{size:[Te,Ee]}],ue=()=>[Jp,qc,La],ce=()=>["","none","full",g,Te,Ee],me=()=>["",Be,qc,La],Ne=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[Be,Jp,YE,GE],Ae=()=>["","none",D,Te,Ee],Je=()=>["none",Be,Te,Ee],He=()=>["none",Be,Te,Ee],qe=()=>[Be,Te,Ee],et=()=>[Xo,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Oi],breakpoint:[Oi],color:[e4],container:[Oi],"drop-shadow":[Oi],ease:["in","out","in-out"],font:[i4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Oi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Oi],shadow:[Oi],spacing:["px",Be],text:[Oi],"text-shadow":[Oi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xo,Ee,Te,N]}],container:["container"],columns:[{columns:[Be,Ee,Te,h]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:te()}],overflow:[{overflow:le()}],"overflow-x":[{"overflow-x":le()}],"overflow-y":[{"overflow-y":le()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Is,"auto",Te,Ee]}],basis:[{basis:[Xo,"full","auto",h,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Xo,"auto","initial","none",Ee]}],grow:[{grow:["",Be,Te,Ee]}],shrink:[{shrink:["",Be,Te,Ee]}],order:[{order:[Is,"first","last","none",Te,Ee]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":k()}],"auto-rows":[{"auto-rows":k()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[..._e(),"normal"]}],"justify-items":[{"justify-items":[...Se(),"normal"]}],"justify-self":[{"justify-self":["auto",...Se()]}],"align-content":[{content:["normal",..._e()]}],"align-items":[{items:[...Se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Se(),{baseline:["","last"]}]}],"place-content":[{"place-content":_e()}],"place-items":[{"place-items":[...Se(),"baseline"]}],"place-self":[{"place-self":["auto",...Se()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[h,"screen",...K()]}],"min-w":[{"min-w":[h,"screen","none",...K()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",t,qc,La]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Te,eg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Jp,Ee]}],"font-family":[{font:[o4,Ee,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Te,Ee]}],"line-clamp":[{"line-clamp":[Be,"none",Te,eg]}],leading:[{leading:[l,...x()]}],"list-image":[{"list-image":["none",Te,Ee]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,Ee]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",Te,La]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Be,"auto",Te,Ee]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,Ee]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,Ee]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:V()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Is,Te,Ee],radial:["",Te,Ee],conic:[Is,Te,Ee]},c4,a4]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,Te,Ee]}],"outline-w":[{outline:["",Be,qc,La]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",y,af,sf]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",_,af,sf]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Be,La]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",E,af,sf]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Be,Te,Ee]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Te,Ee]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ee()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:V()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,Ee]}],filter:[{filter:["","none",Te,Ee]}],blur:[{blur:Ae()}],brightness:[{brightness:[Be,Te,Ee]}],contrast:[{contrast:[Be,Te,Ee]}],"drop-shadow":[{"drop-shadow":["","none",C,af,sf]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Be,Te,Ee]}],"hue-rotate":[{"hue-rotate":[Be,Te,Ee]}],invert:[{invert:["",Be,Te,Ee]}],saturate:[{saturate:[Be,Te,Ee]}],sepia:[{sepia:["",Be,Te,Ee]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,Ee]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[Be,Te,Ee]}],"backdrop-contrast":[{"backdrop-contrast":[Be,Te,Ee]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,Te,Ee]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,Te,Ee]}],"backdrop-invert":[{"backdrop-invert":["",Be,Te,Ee]}],"backdrop-opacity":[{"backdrop-opacity":[Be,Te,Ee]}],"backdrop-saturate":[{"backdrop-saturate":[Be,Te,Ee]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,Te,Ee]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,Ee]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",Te,Ee]}],ease:[{ease:["linear","initial",B,Te,Ee]}],delay:[{delay:[Be,Te,Ee]}],animate:[{animate:["none",H,Te,Ee]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Te,Ee]}],"perspective-origin":[{"perspective-origin":te()}],rotate:[{rotate:Je()}],"rotate-x":[{"rotate-x":Je()}],"rotate-y":[{"rotate-y":Je()}],"rotate-z":[{"rotate-z":Je()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:qe()}],"skew-x":[{"skew-x":qe()}],"skew-y":[{"skew-y":qe()}],transform:[{transform:[Te,Ee,"","none","gpu","cpu"]}],"transform-origin":[{origin:te()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:et()}],"translate-x":[{"translate-x":et()}],"translate-y":[{"translate-y":et()}],"translate-z":[{"translate-z":et()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,Ee]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,Ee]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Be,qc,La,eg]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},h4=WP(f4);function Vn(...n){return h4(uA(n))}const Tf=R.forwardRef(({className:n,type:e,...t},i)=>A.jsx("input",{type:e,className:Vn("flex h-10 w-full rounded-md border border-gray-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-gray-400 dark:placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 dark:focus-visible:ring-zinc-400 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...t}));Tf.displayName="Input";function WE(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function wA(...n){return e=>{let t=!1;const i=n.map(a=>{const l=WE(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():WE(n[a],null)}}}}function Xt(...n){return R.useCallback(wA(...n),n)}function El(n){const e=p4(n),t=R.forwardRef((i,a)=>{const{children:l,...u}=i,h=R.Children.toArray(l),m=h.find(y4);if(m){const g=m.props.children,y=h.map(_=>_===m?R.Children.count(g)>1?R.Children.only(null):R.isValidElement(g)?g.props.children:null:_);return A.jsx(e,{...u,ref:a,children:R.isValidElement(g)?R.cloneElement(g,void 0,y):null})}return A.jsx(e,{...u,ref:a,children:l})});return t.displayName=`${n}.Slot`,t}var m4=El("Slot");function p4(n){const e=R.forwardRef((t,i)=>{const{children:a,...l}=t;if(R.isValidElement(a)){const u=_4(a),h=v4(l,a.props);return a.type!==R.Fragment&&(h.ref=i?wA(i,u):u),R.cloneElement(a,h)}return R.Children.count(a)>1?R.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var g4=Symbol("radix.slottable");function y4(n){return R.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===g4}function v4(n,e){const t={...e};for(const i in e){const a=n[i],l=e[i];/^on[A-Z]/.test(i)?a&&l?t[i]=(...h)=>{const m=l(...h);return a(...h),m}:a&&(t[i]=a):i==="style"?t[i]={...a,...l}:i==="className"&&(t[i]=[a,l].filter(Boolean).join(" "))}return{...n,...t}}function _4(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const KE=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,QE=uA,b4=(n,e)=>t=>{var i;if(e?.variants==null)return QE(n,t?.class,t?.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(g=>{const y=t?.[g],_=l?.[g];if(y===null)return null;const E=KE(y)||KE(_);return a[g][E]}),h=t&&Object.entries(t).reduce((g,y)=>{let[_,E]=y;return E===void 0||(g[_]=E),g},{}),m=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((g,y)=>{let{class:_,className:E,...C}=y;return Object.entries(C).every(D=>{let[S,N]=D;return Array.isArray(N)?N.includes({...l,...h}[S]):{...l,...h}[S]===N})?[...g,_,E]:g},[]);return QE(n,u,m,t?.class,t?.className)},Kg=b4("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),EA=R.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...a},l)=>{const u=i?m4:"button";return A.jsx(u,{className:Vn(Kg({variant:e,size:t,className:n})),ref:l,...a})});EA.displayName="Button";var Cu=PT();const w4=MT(Cu);function $E(n,[e,t]){return Math.min(t,Math.max(e,n))}function At(n,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(n?.(a),t===!1||!a.defaultPrevented)return e?.(a)}}function Eh(n,e=[]){let t=[];function i(l,u){const h=R.createContext(u),m=t.length;t=[...t,u];const g=_=>{const{scope:E,children:C,...D}=_,S=E?.[n]?.[m]||h,N=R.useMemo(()=>D,Object.values(D));return A.jsx(S.Provider,{value:N,children:C})};g.displayName=l+"Provider";function y(_,E){const C=E?.[n]?.[m]||h,D=R.useContext(C);if(D)return D;if(u!==void 0)return u;throw new Error(`\`${_}\` must be used within \`${l}\``)}return[g,y]}const a=()=>{const l=t.map(u=>R.createContext(u));return function(h){const m=h?.[n]||l;return R.useMemo(()=>({[`__scope${n}`]:{...h,[n]:m}}),[h,m])}};return a.scopeName=n,[i,E4(a,...e)]}function E4(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=i.reduce((h,{useScope:m,scopeName:g})=>{const _=m(l)[`__scope${g}`];return{...h,..._}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function T4(n){const e=n+"CollectionProvider",[t,i]=Eh(e),[a,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=S=>{const{scope:N,children:B}=S,H=Ds.useRef(null),G=Ds.useRef(new Map).current;return A.jsx(a,{scope:N,itemMap:G,collectionRef:H,children:B})};u.displayName=e;const h=n+"CollectionSlot",m=El(h),g=Ds.forwardRef((S,N)=>{const{scope:B,children:H}=S,G=l(h,B),ee=Xt(N,G.collectionRef);return A.jsx(m,{ref:ee,children:H})});g.displayName=h;const y=n+"CollectionItemSlot",_="data-radix-collection-item",E=El(y),C=Ds.forwardRef((S,N)=>{const{scope:B,children:H,...G}=S,ee=Ds.useRef(null),te=Xt(N,ee),le=l(y,B);return Ds.useEffect(()=>(le.itemMap.set(ee,{ref:ee,...G}),()=>void le.itemMap.delete(ee))),A.jsx(E,{[_]:"",ref:te,children:H})});C.displayName=y;function D(S){const N=l(n+"CollectionConsumer",S);return Ds.useCallback(()=>{const H=N.collectionRef.current;if(!H)return[];const G=Array.from(H.querySelectorAll(`[${_}]`));return Array.from(N.itemMap.values()).sort((le,O)=>G.indexOf(le.ref.current)-G.indexOf(O.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:g,ItemSlot:C},D,i]}var S4=R.createContext(void 0);function A4(n){const e=R.useContext(S4);return n||e||"ltr"}var C4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ot=C4.reduce((n,e)=>{const t=El(`Primitive.${e}`),i=R.forwardRef((a,l)=>{const{asChild:u,...h}=a,m=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(m,{...h,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function x4(n,e){n&&Cu.flushSync(()=>n.dispatchEvent(e))}function Qa(n){const e=R.useRef(n);return R.useEffect(()=>{e.current=n}),R.useMemo(()=>(...t)=>e.current?.(...t),[])}function R4(n,e=globalThis?.document){const t=Qa(n);R.useEffect(()=>{const i=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var I4="DismissableLayer",Qg="dismissableLayer.update",N4="dismissableLayer.pointerDownOutside",D4="dismissableLayer.focusOutside",XE,TA=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),av=R.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:h,...m}=n,g=R.useContext(TA),[y,_]=R.useState(null),E=y?.ownerDocument??globalThis?.document,[,C]=R.useState({}),D=Xt(e,O=>_(O)),S=Array.from(g.layers),[N]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),B=S.indexOf(N),H=y?S.indexOf(y):-1,G=g.layersWithOutsidePointerEventsDisabled.size>0,ee=H>=B,te=k4(O=>{const x=O.target,M=[...g.branches].some(U=>U.contains(x));!ee||M||(a?.(O),u?.(O),O.defaultPrevented||h?.())},E),le=P4(O=>{const x=O.target;[...g.branches].some(U=>U.contains(x))||(l?.(O),u?.(O),O.defaultPrevented||h?.())},E);return R4(O=>{H===g.layers.size-1&&(i?.(O),!O.defaultPrevented&&h&&(O.preventDefault(),h()))},E),R.useEffect(()=>{if(y)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(XE=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(y)),g.layers.add(y),ZE(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=XE)}},[y,E,t,g]),R.useEffect(()=>()=>{y&&(g.layers.delete(y),g.layersWithOutsidePointerEventsDisabled.delete(y),ZE())},[y,g]),R.useEffect(()=>{const O=()=>C({});return document.addEventListener(Qg,O),()=>document.removeEventListener(Qg,O)},[]),A.jsx(Ot.div,{...m,ref:D,style:{pointerEvents:G?ee?"auto":"none":void 0,...n.style},onFocusCapture:At(n.onFocusCapture,le.onFocusCapture),onBlurCapture:At(n.onBlurCapture,le.onBlurCapture),onPointerDownCapture:At(n.onPointerDownCapture,te.onPointerDownCapture)})});av.displayName=I4;var O4="DismissableLayerBranch",M4=R.forwardRef((n,e)=>{const t=R.useContext(TA),i=R.useRef(null),a=Xt(e,i);return R.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),A.jsx(Ot.div,{...n,ref:a})});M4.displayName=O4;function k4(n,e=globalThis?.document){const t=Qa(n),i=R.useRef(!1),a=R.useRef(()=>{});return R.useEffect(()=>{const l=h=>{if(h.target&&!i.current){let m=function(){SA(N4,t,g,{discrete:!0})};const g={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=m,e.addEventListener("click",a.current,{once:!0})):m()}else e.removeEventListener("click",a.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function P4(n,e=globalThis?.document){const t=Qa(n),i=R.useRef(!1);return R.useEffect(()=>{const a=l=>{l.target&&!i.current&&SA(D4,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function ZE(){const n=new CustomEvent(Qg);document.dispatchEvent(n)}function SA(n,e,t,{discrete:i}){const a=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(n,e,{once:!0}),i?x4(a,l):a.dispatchEvent(l)}var tg=0;function AA(){R.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??JE()),document.body.insertAdjacentElement("beforeend",n[1]??JE()),tg++,()=>{tg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tg--}},[])}function JE(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ng="focusScope.autoFocusOnMount",rg="focusScope.autoFocusOnUnmount",eT={bubbles:!1,cancelable:!0},V4="FocusScope",ov=R.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=n,[h,m]=R.useState(null),g=Qa(a),y=Qa(l),_=R.useRef(null),E=Xt(e,S=>m(S)),C=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(i){let S=function(G){if(C.paused||!h)return;const ee=G.target;h.contains(ee)?_.current=ee:Os(_.current,{select:!0})},N=function(G){if(C.paused||!h)return;const ee=G.relatedTarget;ee!==null&&(h.contains(ee)||Os(_.current,{select:!0}))},B=function(G){if(document.activeElement===document.body)for(const te of G)te.removedNodes.length>0&&Os(h)};document.addEventListener("focusin",S),document.addEventListener("focusout",N);const H=new MutationObserver(B);return h&&H.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",N),H.disconnect()}}},[i,h,C.paused]),R.useEffect(()=>{if(h){nT.add(C);const S=document.activeElement;if(!h.contains(S)){const B=new CustomEvent(ng,eT);h.addEventListener(ng,g),h.dispatchEvent(B),B.defaultPrevented||(L4(F4(CA(h)),{select:!0}),document.activeElement===S&&Os(h))}return()=>{h.removeEventListener(ng,g),setTimeout(()=>{const B=new CustomEvent(rg,eT);h.addEventListener(rg,y),h.dispatchEvent(B),B.defaultPrevented||Os(S??document.body,{select:!0}),h.removeEventListener(rg,y),nT.remove(C)},0)}}},[h,g,y,C]);const D=R.useCallback(S=>{if(!t&&!i||C.paused)return;const N=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,B=document.activeElement;if(N&&B){const H=S.currentTarget,[G,ee]=U4(H);G&&ee?!S.shiftKey&&B===ee?(S.preventDefault(),t&&Os(G,{select:!0})):S.shiftKey&&B===G&&(S.preventDefault(),t&&Os(ee,{select:!0})):B===H&&S.preventDefault()}},[t,i,C.paused]);return A.jsx(Ot.div,{tabIndex:-1,...u,ref:E,onKeyDown:D})});ov.displayName=V4;function L4(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Os(i,{select:e}),document.activeElement!==t)return}function U4(n){const e=CA(n),t=tT(e,n),i=tT(e.reverse(),n);return[t,i]}function CA(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function tT(n,e){for(const t of n)if(!j4(t,{upTo:e}))return t}function j4(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function z4(n){return n instanceof HTMLInputElement&&"select"in n}function Os(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&z4(n)&&e&&n.select()}}var nT=B4();function B4(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=rT(n,e),n.unshift(e)},remove(e){n=rT(n,e),n[0]?.resume()}}}function rT(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function F4(n){return n.filter(e=>e.tagName!=="A")}var An=globalThis?.document?R.useLayoutEffect:()=>{},H4=kT[" useId ".trim().toString()]||(()=>{}),q4=0;function Th(n){const[e,t]=R.useState(H4());return An(()=>{t(i=>i??String(q4++))},[n]),e?`radix-${e}`:""}const G4=["top","right","bottom","left"],$s=Math.min,Kn=Math.max,$f=Math.round,of=Math.floor,ii=n=>({x:n,y:n}),Y4={left:"right",right:"left",bottom:"top",top:"bottom"},W4={start:"end",end:"start"};function $g(n,e,t){return Kn(n,$s(e,t))}function Fi(n,e){return typeof n=="function"?n(e):n}function Hi(n){return n.split("-")[0]}function Pl(n){return n.split("-")[1]}function lv(n){return n==="x"?"y":"x"}function cv(n){return n==="y"?"height":"width"}const K4=new Set(["top","bottom"]);function Qr(n){return K4.has(Hi(n))?"y":"x"}function uv(n){return lv(Qr(n))}function Q4(n,e,t){t===void 0&&(t=!1);const i=Pl(n),a=uv(n),l=cv(a);let u=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=Xf(u)),[u,Xf(u)]}function $4(n){const e=Xf(n);return[Xg(n),e,Xg(e)]}function Xg(n){return n.replace(/start|end/g,e=>W4[e])}const iT=["left","right"],sT=["right","left"],X4=["top","bottom"],Z4=["bottom","top"];function J4(n,e,t){switch(n){case"top":case"bottom":return t?e?sT:iT:e?iT:sT;case"left":case"right":return e?X4:Z4;default:return[]}}function e3(n,e,t,i){const a=Pl(n);let l=J4(Hi(n),t==="start",i);return a&&(l=l.map(u=>u+"-"+a),e&&(l=l.concat(l.map(Xg)))),l}function Xf(n){return n.replace(/left|right|bottom|top/g,e=>Y4[e])}function t3(n){return{top:0,right:0,bottom:0,left:0,...n}}function xA(n){return typeof n!="number"?t3(n):{top:n,right:n,bottom:n,left:n}}function Zf(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function aT(n,e,t){let{reference:i,floating:a}=n;const l=Qr(e),u=uv(e),h=cv(u),m=Hi(e),g=l==="y",y=i.x+i.width/2-a.width/2,_=i.y+i.height/2-a.height/2,E=i[h]/2-a[h]/2;let C;switch(m){case"top":C={x:y,y:i.y-a.height};break;case"bottom":C={x:y,y:i.y+i.height};break;case"right":C={x:i.x+i.width,y:_};break;case"left":C={x:i.x-a.width,y:_};break;default:C={x:i.x,y:i.y}}switch(Pl(e)){case"start":C[u]-=E*(t&&g?-1:1);break;case"end":C[u]+=E*(t&&g?-1:1);break}return C}async function n3(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:u,elements:h,strategy:m}=n,{boundary:g="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:E=!1,padding:C=0}=Fi(e,n),D=xA(C),N=h[E?_==="floating"?"reference":"floating":_],B=Zf(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(N)))==null||t?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:g,rootBoundary:y,strategy:m})),H=_==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,G=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),ee=await(l.isElement==null?void 0:l.isElement(G))?await(l.getScale==null?void 0:l.getScale(G))||{x:1,y:1}:{x:1,y:1},te=Zf(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:H,offsetParent:G,strategy:m}):H);return{top:(B.top-te.top+D.top)/ee.y,bottom:(te.bottom-B.bottom+D.bottom)/ee.y,left:(B.left-te.left+D.left)/ee.x,right:(te.right-B.right+D.right)/ee.x}}const r3=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:u}=t,h=l.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let g=await u.getElementRects({reference:n,floating:e,strategy:a}),{x:y,y:_}=aT(g,i,m),E=i,C={},D=0;for(let N=0;N<h.length;N++){var S;const{name:B,fn:H}=h[N],{x:G,y:ee,data:te,reset:le}=await H({x:y,y:_,initialPlacement:i,placement:E,strategy:a,middlewareData:C,rects:g,platform:{...u,detectOverflow:(S=u.detectOverflow)!=null?S:n3},elements:{reference:n,floating:e}});y=G??y,_=ee??_,C={...C,[B]:{...C[B],...te}},le&&D<=50&&(D++,typeof le=="object"&&(le.placement&&(E=le.placement),le.rects&&(g=le.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:a}):le.rects),{x:y,y:_}=aT(g,E,m)),N=-1)}return{x:y,y:_,placement:E,strategy:a,middlewareData:C}},i3=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:a,rects:l,platform:u,elements:h,middlewareData:m}=e,{element:g,padding:y=0}=Fi(n,e)||{};if(g==null)return{};const _=xA(y),E={x:t,y:i},C=uv(a),D=cv(C),S=await u.getDimensions(g),N=C==="y",B=N?"top":"left",H=N?"bottom":"right",G=N?"clientHeight":"clientWidth",ee=l.reference[D]+l.reference[C]-E[C]-l.floating[D],te=E[C]-l.reference[C],le=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let O=le?le[G]:0;(!O||!await(u.isElement==null?void 0:u.isElement(le)))&&(O=h.floating[G]||l.floating[D]);const x=ee/2-te/2,M=O/2-S[D]/2-1,U=$s(_[B],M),L=$s(_[H],M),j=U,k=O-S[D]-L,_e=O/2-S[D]/2+x,Se=$g(j,_e,k),Y=!m.arrow&&Pl(a)!=null&&_e!==Se&&l.reference[D]/2-(_e<j?U:L)-S[D]/2<0,K=Y?_e<j?_e-j:_e-k:0;return{[C]:E[C]+K,data:{[C]:Se,centerOffset:_e-Se-K,...Y&&{alignmentOffset:K}},reset:Y}}}),s3=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:l,rects:u,initialPlacement:h,platform:m,elements:g}=e,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:E,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:S=!0,...N}=Fi(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const B=Hi(a),H=Qr(h),G=Hi(h)===h,ee=await(m.isRTL==null?void 0:m.isRTL(g.floating)),te=E||(G||!S?[Xf(h)]:$4(h)),le=D!=="none";!E&&le&&te.push(...e3(h,S,D,ee));const O=[h,...te],x=await m.detectOverflow(e,N),M=[];let U=((i=l.flip)==null?void 0:i.overflows)||[];if(y&&M.push(x[B]),_){const _e=Q4(a,u,ee);M.push(x[_e[0]],x[_e[1]])}if(U=[...U,{placement:a,overflows:M}],!M.every(_e=>_e<=0)){var L,j;const _e=(((L=l.flip)==null?void 0:L.index)||0)+1,Se=O[_e];if(Se&&(!(_==="alignment"?H!==Qr(Se):!1)||U.every(z=>Qr(z.placement)===H?z.overflows[0]>0:!0)))return{data:{index:_e,overflows:U},reset:{placement:Se}};let Y=(j=U.filter(K=>K.overflows[0]<=0).sort((K,z)=>K.overflows[1]-z.overflows[1])[0])==null?void 0:j.placement;if(!Y)switch(C){case"bestFit":{var k;const K=(k=U.filter(z=>{if(le){const ve=Qr(z.placement);return ve===H||ve==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(ve=>ve>0).reduce((ve,V)=>ve+V,0)]).sort((z,ve)=>z[1]-ve[1])[0])==null?void 0:k[0];K&&(Y=K);break}case"initialPlacement":Y=h;break}if(a!==Y)return{reset:{placement:Y}}}return{}}}};function oT(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function lT(n){return G4.some(e=>n[e]>=0)}const a3=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t,platform:i}=e,{strategy:a="referenceHidden",...l}=Fi(n,e);switch(a){case"referenceHidden":{const u=await i.detectOverflow(e,{...l,elementContext:"reference"}),h=oT(u,t.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:lT(h)}}}case"escaped":{const u=await i.detectOverflow(e,{...l,altBoundary:!0}),h=oT(u,t.floating);return{data:{escapedOffsets:h,escaped:lT(h)}}}default:return{}}}}},RA=new Set(["left","top"]);async function o3(n,e){const{placement:t,platform:i,elements:a}=n,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=Hi(t),h=Pl(t),m=Qr(t)==="y",g=RA.has(u)?-1:1,y=l&&m?-1:1,_=Fi(e,n);let{mainAxis:E,crossAxis:C,alignmentAxis:D}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return h&&typeof D=="number"&&(C=h==="end"?D*-1:D),m?{x:C*y,y:E*g}:{x:E*g,y:C*y}}const l3=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:l,placement:u,middlewareData:h}=e,m=await o3(e,n);return u===((t=h.offset)==null?void 0:t.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:a+m.x,y:l+m.y,data:{...m,placement:u}}}}},c3=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a,platform:l}=e,{mainAxis:u=!0,crossAxis:h=!1,limiter:m={fn:B=>{let{x:H,y:G}=B;return{x:H,y:G}}},...g}=Fi(n,e),y={x:t,y:i},_=await l.detectOverflow(e,g),E=Qr(Hi(a)),C=lv(E);let D=y[C],S=y[E];if(u){const B=C==="y"?"top":"left",H=C==="y"?"bottom":"right",G=D+_[B],ee=D-_[H];D=$g(G,D,ee)}if(h){const B=E==="y"?"top":"left",H=E==="y"?"bottom":"right",G=S+_[B],ee=S-_[H];S=$g(G,S,ee)}const N=m.fn({...e,[C]:D,[E]:S});return{...N,data:{x:N.x-t,y:N.y-i,enabled:{[C]:u,[E]:h}}}}}},u3=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:a,rects:l,middlewareData:u}=e,{offset:h=0,mainAxis:m=!0,crossAxis:g=!0}=Fi(n,e),y={x:t,y:i},_=Qr(a),E=lv(_);let C=y[E],D=y[_];const S=Fi(h,e),N=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(m){const G=E==="y"?"height":"width",ee=l.reference[E]-l.floating[G]+N.mainAxis,te=l.reference[E]+l.reference[G]-N.mainAxis;C<ee?C=ee:C>te&&(C=te)}if(g){var B,H;const G=E==="y"?"width":"height",ee=RA.has(Hi(a)),te=l.reference[_]-l.floating[G]+(ee&&((B=u.offset)==null?void 0:B[_])||0)+(ee?0:N.crossAxis),le=l.reference[_]+l.reference[G]+(ee?0:((H=u.offset)==null?void 0:H[_])||0)-(ee?N.crossAxis:0);D<te?D=te:D>le&&(D=le)}return{[E]:C,[_]:D}}}},d3=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:l,platform:u,elements:h}=e,{apply:m=()=>{},...g}=Fi(n,e),y=await u.detectOverflow(e,g),_=Hi(a),E=Pl(a),C=Qr(a)==="y",{width:D,height:S}=l.floating;let N,B;_==="top"||_==="bottom"?(N=_,B=E===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(B=_,N=E==="end"?"top":"bottom");const H=S-y.top-y.bottom,G=D-y.left-y.right,ee=$s(S-y[N],H),te=$s(D-y[B],G),le=!e.middlewareData.shift;let O=ee,x=te;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(x=G),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(O=H),le&&!E){const U=Kn(y.left,0),L=Kn(y.right,0),j=Kn(y.top,0),k=Kn(y.bottom,0);C?x=D-2*(U!==0||L!==0?U+L:Kn(y.left,y.right)):O=S-2*(j!==0||k!==0?j+k:Kn(y.top,y.bottom))}await m({...e,availableWidth:x,availableHeight:O});const M=await u.getDimensions(h.floating);return D!==M.width||S!==M.height?{reset:{rects:!0}}:{}}}};function Sh(){return typeof window<"u"}function Vl(n){return IA(n)?(n.nodeName||"").toLowerCase():"#document"}function Qn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function di(n){var e;return(e=(IA(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function IA(n){return Sh()?n instanceof Node||n instanceof Qn(n).Node:!1}function xr(n){return Sh()?n instanceof Element||n instanceof Qn(n).Element:!1}function li(n){return Sh()?n instanceof HTMLElement||n instanceof Qn(n).HTMLElement:!1}function cT(n){return!Sh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Qn(n).ShadowRoot}const f3=new Set(["inline","contents"]);function xu(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=Rr(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!f3.has(a)}const h3=new Set(["table","td","th"]);function m3(n){return h3.has(Vl(n))}const p3=[":popover-open",":modal"];function Ah(n){return p3.some(e=>{try{return n.matches(e)}catch{return!1}})}const g3=["transform","translate","scale","rotate","perspective"],y3=["transform","translate","scale","rotate","perspective","filter"],v3=["paint","layout","strict","content"];function dv(n){const e=fv(),t=xr(n)?Rr(n):n;return g3.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||y3.some(i=>(t.willChange||"").includes(i))||v3.some(i=>(t.contain||"").includes(i))}function _3(n){let e=Xs(n);for(;li(e)&&!Tl(e);){if(dv(e))return e;if(Ah(e))return null;e=Xs(e)}return null}function fv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const b3=new Set(["html","body","#document"]);function Tl(n){return b3.has(Vl(n))}function Rr(n){return Qn(n).getComputedStyle(n)}function Ch(n){return xr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Xs(n){if(Vl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||cT(n)&&n.host||di(n);return cT(e)?e.host:e}function NA(n){const e=Xs(n);return Tl(e)?n.ownerDocument?n.ownerDocument.body:n.body:li(e)&&xu(e)?e:NA(e)}function hu(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=NA(n),l=a===((i=n.ownerDocument)==null?void 0:i.body),u=Qn(a);if(l){const h=Zg(u);return e.concat(u,u.visualViewport||[],xu(a)?a:[],h&&t?hu(h):[])}return e.concat(a,hu(a,[],t))}function Zg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function DA(n){const e=Rr(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=li(n),l=a?n.offsetWidth:t,u=a?n.offsetHeight:i,h=$f(t)!==l||$f(i)!==u;return h&&(t=l,i=u),{width:t,height:i,$:h}}function hv(n){return xr(n)?n:n.contextElement}function hl(n){const e=hv(n);if(!li(e))return ii(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:l}=DA(e);let u=(l?$f(t.width):t.width)/i,h=(l?$f(t.height):t.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const w3=ii(0);function OA(n){const e=Qn(n);return!fv()||!e.visualViewport?w3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function E3(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Qn(n)?!1:e}function $a(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=hv(n);let u=ii(1);e&&(i?xr(i)&&(u=hl(i)):u=hl(n));const h=E3(l,t,i)?OA(l):ii(0);let m=(a.left+h.x)/u.x,g=(a.top+h.y)/u.y,y=a.width/u.x,_=a.height/u.y;if(l){const E=Qn(l),C=i&&xr(i)?Qn(i):i;let D=E,S=Zg(D);for(;S&&i&&C!==D;){const N=hl(S),B=S.getBoundingClientRect(),H=Rr(S),G=B.left+(S.clientLeft+parseFloat(H.paddingLeft))*N.x,ee=B.top+(S.clientTop+parseFloat(H.paddingTop))*N.y;m*=N.x,g*=N.y,y*=N.x,_*=N.y,m+=G,g+=ee,D=Qn(S),S=Zg(D)}}return Zf({width:y,height:_,x:m,y:g})}function xh(n,e){const t=Ch(n).scrollLeft;return e?e.left+t:$a(di(n)).left+t}function MA(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-xh(n,t),a=t.top+e.scrollTop;return{x:i,y:a}}function T3(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const l=a==="fixed",u=di(i),h=e?Ah(e.floating):!1;if(i===u||h&&l)return t;let m={scrollLeft:0,scrollTop:0},g=ii(1);const y=ii(0),_=li(i);if((_||!_&&!l)&&((Vl(i)!=="body"||xu(u))&&(m=Ch(i)),li(i))){const C=$a(i);g=hl(i),y.x=C.x+i.clientLeft,y.y=C.y+i.clientTop}const E=u&&!_&&!l?MA(u,m):ii(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-m.scrollLeft*g.x+y.x+E.x,y:t.y*g.y-m.scrollTop*g.y+y.y+E.y}}function S3(n){return Array.from(n.getClientRects())}function A3(n){const e=di(n),t=Ch(n),i=n.ownerDocument.body,a=Kn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=Kn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-t.scrollLeft+xh(n);const h=-t.scrollTop;return Rr(i).direction==="rtl"&&(u+=Kn(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:u,y:h}}const uT=25;function C3(n,e){const t=Qn(n),i=di(n),a=t.visualViewport;let l=i.clientWidth,u=i.clientHeight,h=0,m=0;if(a){l=a.width,u=a.height;const y=fv();(!y||y&&e==="fixed")&&(h=a.offsetLeft,m=a.offsetTop)}const g=xh(i);if(g<=0){const y=i.ownerDocument,_=y.body,E=getComputedStyle(_),C=y.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,D=Math.abs(i.clientWidth-_.clientWidth-C);D<=uT&&(l-=D)}else g<=uT&&(l+=g);return{width:l,height:u,x:h,y:m}}const x3=new Set(["absolute","fixed"]);function R3(n,e){const t=$a(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,l=li(n)?hl(n):ii(1),u=n.clientWidth*l.x,h=n.clientHeight*l.y,m=a*l.x,g=i*l.y;return{width:u,height:h,x:m,y:g}}function dT(n,e,t){let i;if(e==="viewport")i=C3(n,t);else if(e==="document")i=A3(di(n));else if(xr(e))i=R3(e,t);else{const a=OA(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Zf(i)}function kA(n,e){const t=Xs(n);return t===e||!xr(t)||Tl(t)?!1:Rr(t).position==="fixed"||kA(t,e)}function I3(n,e){const t=e.get(n);if(t)return t;let i=hu(n,[],!1).filter(h=>xr(h)&&Vl(h)!=="body"),a=null;const l=Rr(n).position==="fixed";let u=l?Xs(n):n;for(;xr(u)&&!Tl(u);){const h=Rr(u),m=dv(u);!m&&h.position==="fixed"&&(a=null),(l?!m&&!a:!m&&h.position==="static"&&!!a&&x3.has(a.position)||xu(u)&&!m&&kA(n,u))?i=i.filter(y=>y!==u):a=h,u=Xs(u)}return e.set(n,i),i}function N3(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const u=[...t==="clippingAncestors"?Ah(e)?[]:I3(e,this._c):[].concat(t),i],h=u[0],m=u.reduce((g,y)=>{const _=dT(e,y,a);return g.top=Kn(_.top,g.top),g.right=$s(_.right,g.right),g.bottom=$s(_.bottom,g.bottom),g.left=Kn(_.left,g.left),g},dT(e,h,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function D3(n){const{width:e,height:t}=DA(n);return{width:e,height:t}}function O3(n,e,t){const i=li(e),a=di(e),l=t==="fixed",u=$a(n,!0,l,e);let h={scrollLeft:0,scrollTop:0};const m=ii(0);function g(){m.x=xh(a)}if(i||!i&&!l)if((Vl(e)!=="body"||xu(a))&&(h=Ch(e)),i){const C=$a(e,!0,l,e);m.x=C.x+e.clientLeft,m.y=C.y+e.clientTop}else a&&g();l&&!i&&a&&g();const y=a&&!i&&!l?MA(a,h):ii(0),_=u.left+h.scrollLeft-m.x-y.x,E=u.top+h.scrollTop-m.y-y.y;return{x:_,y:E,width:u.width,height:u.height}}function ig(n){return Rr(n).position==="static"}function fT(n,e){if(!li(n)||Rr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return di(n)===t&&(t=t.ownerDocument.body),t}function PA(n,e){const t=Qn(n);if(Ah(n))return t;if(!li(n)){let a=Xs(n);for(;a&&!Tl(a);){if(xr(a)&&!ig(a))return a;a=Xs(a)}return t}let i=fT(n,e);for(;i&&m3(i)&&ig(i);)i=fT(i,e);return i&&Tl(i)&&ig(i)&&!dv(i)?t:i||_3(n)||t}const M3=async function(n){const e=this.getOffsetParent||PA,t=this.getDimensions,i=await t(n.floating);return{reference:O3(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function k3(n){return Rr(n).direction==="rtl"}const P3={convertOffsetParentRelativeRectToViewportRelativeRect:T3,getDocumentElement:di,getClippingRect:N3,getOffsetParent:PA,getElementRects:M3,getClientRects:S3,getDimensions:D3,getScale:hl,isElement:xr,isRTL:k3};function VA(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function V3(n,e){let t=null,i;const a=di(n);function l(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function u(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),l();const g=n.getBoundingClientRect(),{left:y,top:_,width:E,height:C}=g;if(h||e(),!E||!C)return;const D=of(_),S=of(a.clientWidth-(y+E)),N=of(a.clientHeight-(_+C)),B=of(y),G={rootMargin:-D+"px "+-S+"px "+-N+"px "+-B+"px",threshold:Kn(0,$s(1,m))||1};let ee=!0;function te(le){const O=le[0].intersectionRatio;if(O!==m){if(!ee)return u();O?u(!1,O):i=setTimeout(()=>{u(!1,1e-7)},1e3)}O===1&&!VA(g,n.getBoundingClientRect())&&u(),ee=!1}try{t=new IntersectionObserver(te,{...G,root:a.ownerDocument})}catch{t=new IntersectionObserver(te,G)}t.observe(n)}return u(!0),l}function L3(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,g=hv(n),y=a||l?[...g?hu(g):[],...hu(e)]:[];y.forEach(B=>{a&&B.addEventListener("scroll",t,{passive:!0}),l&&B.addEventListener("resize",t)});const _=g&&h?V3(g,t):null;let E=-1,C=null;u&&(C=new ResizeObserver(B=>{let[H]=B;H&&H.target===g&&C&&(C.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var G;(G=C)==null||G.observe(e)})),t()}),g&&!m&&C.observe(g),C.observe(e));let D,S=m?$a(n):null;m&&N();function N(){const B=$a(n);S&&!VA(S,B)&&t(),S=B,D=requestAnimationFrame(N)}return t(),()=>{var B;y.forEach(H=>{a&&H.removeEventListener("scroll",t),l&&H.removeEventListener("resize",t)}),_?.(),(B=C)==null||B.disconnect(),C=null,m&&cancelAnimationFrame(D)}}const U3=l3,j3=c3,z3=s3,B3=d3,F3=a3,hT=i3,H3=u3,q3=(n,e,t)=>{const i=new Map,a={platform:P3,...t},l={...a.platform,_c:i};return r3(n,e,{...a,platform:l})};var G3=typeof document<"u",Y3=function(){},Sf=G3?R.useLayoutEffect:Y3;function Jf(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Jf(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const l=a[i];if(!(l==="_owner"&&n.$$typeof)&&!Jf(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function LA(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function mT(n,e){const t=LA(n);return Math.round(e*t)/t}function sg(n){const e=R.useRef(n);return Sf(()=>{e.current=n}),e}function W3(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:u}={},transform:h=!0,whileElementsMounted:m,open:g}=n,[y,_]=R.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,C]=R.useState(i);Jf(E,i)||C(i);const[D,S]=R.useState(null),[N,B]=R.useState(null),H=R.useCallback(z=>{z!==le.current&&(le.current=z,S(z))},[]),G=R.useCallback(z=>{z!==O.current&&(O.current=z,B(z))},[]),ee=l||D,te=u||N,le=R.useRef(null),O=R.useRef(null),x=R.useRef(y),M=m!=null,U=sg(m),L=sg(a),j=sg(g),k=R.useCallback(()=>{if(!le.current||!O.current)return;const z={placement:e,strategy:t,middleware:E};L.current&&(z.platform=L.current),q3(le.current,O.current,z).then(ve=>{const V={...ve,isPositioned:j.current!==!1};_e.current&&!Jf(x.current,V)&&(x.current=V,Cu.flushSync(()=>{_(V)}))})},[E,e,t,L,j]);Sf(()=>{g===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,_(z=>({...z,isPositioned:!1})))},[g]);const _e=R.useRef(!1);Sf(()=>(_e.current=!0,()=>{_e.current=!1}),[]),Sf(()=>{if(ee&&(le.current=ee),te&&(O.current=te),ee&&te){if(U.current)return U.current(ee,te,k);k()}},[ee,te,k,U,M]);const Se=R.useMemo(()=>({reference:le,floating:O,setReference:H,setFloating:G}),[H,G]),Y=R.useMemo(()=>({reference:ee,floating:te}),[ee,te]),K=R.useMemo(()=>{const z={position:t,left:0,top:0};if(!Y.floating)return z;const ve=mT(Y.floating,y.x),V=mT(Y.floating,y.y);return h?{...z,transform:"translate("+ve+"px, "+V+"px)",...LA(Y.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ve,top:V}},[t,h,Y.floating,y.x,y.y]);return R.useMemo(()=>({...y,update:k,refs:Se,elements:Y,floatingStyles:K}),[y,k,Se,Y,K])}const K3=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:a}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?hT({element:i.current,padding:a}).fn(t):{}:i?hT({element:i,padding:a}).fn(t):{}}}},Q3=(n,e)=>({...U3(n),options:[n,e]}),$3=(n,e)=>({...j3(n),options:[n,e]}),X3=(n,e)=>({...H3(n),options:[n,e]}),Z3=(n,e)=>({...z3(n),options:[n,e]}),J3=(n,e)=>({...B3(n),options:[n,e]}),eV=(n,e)=>({...F3(n),options:[n,e]}),tV=(n,e)=>({...K3(n),options:[n,e]});var nV="Arrow",UA=R.forwardRef((n,e)=>{const{children:t,width:i=10,height:a=5,...l}=n;return A.jsx(Ot.svg,{...l,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:A.jsx("polygon",{points:"0,0 30,0 15,10"})})});UA.displayName=nV;var rV=UA;function iV(n){const[e,t]=R.useState(void 0);return An(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,h;if("borderBoxSize"in l){const m=l.borderBoxSize,g=Array.isArray(m)?m[0]:m;u=g.inlineSize,h=g.blockSize}else u=n.offsetWidth,h=n.offsetHeight;t({width:u,height:h})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var mv="Popper",[jA,Rh]=Eh(mv),[sV,zA]=jA(mv),BA=n=>{const{__scopePopper:e,children:t}=n,[i,a]=R.useState(null);return A.jsx(sV,{scope:e,anchor:i,onAnchorChange:a,children:t})};BA.displayName=mv;var FA="PopperAnchor",HA=R.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...a}=n,l=zA(FA,t),u=R.useRef(null),h=Xt(e,u),m=R.useRef(null);return R.useEffect(()=>{const g=m.current;m.current=i?.current||u.current,g!==m.current&&l.onAnchorChange(m.current)}),i?null:A.jsx(Ot.div,{...a,ref:h})});HA.displayName=FA;var pv="PopperContent",[aV,oV]=jA(pv),qA=R.forwardRef((n,e)=>{const{__scopePopper:t,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:m=!0,collisionBoundary:g=[],collisionPadding:y=0,sticky:_="partial",hideWhenDetached:E=!1,updatePositionStrategy:C="optimized",onPlaced:D,...S}=n,N=zA(pv,t),[B,H]=R.useState(null),G=Xt(e,de=>H(de)),[ee,te]=R.useState(null),le=iV(ee),O=le?.width??0,x=le?.height??0,M=i+(l!=="center"?"-"+l:""),U=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},L=Array.isArray(g)?g:[g],j=L.length>0,k={padding:U,boundary:L.filter(cV),altBoundary:j},{refs:_e,floatingStyles:Se,placement:Y,isPositioned:K,middlewareData:z}=W3({strategy:"fixed",placement:M,whileElementsMounted:(...de)=>L3(...de,{animationFrame:C==="always"}),elements:{reference:N.anchor},middleware:[Q3({mainAxis:a+x,alignmentAxis:u}),m&&$3({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?X3():void 0,...k}),m&&Z3({...k}),J3({...k,apply:({elements:de,rects:Ae,availableWidth:Je,availableHeight:He})=>{const{width:qe,height:et}=Ae.reference,fe=de.floating.style;fe.setProperty("--radix-popper-available-width",`${Je}px`),fe.setProperty("--radix-popper-available-height",`${He}px`),fe.setProperty("--radix-popper-anchor-width",`${qe}px`),fe.setProperty("--radix-popper-anchor-height",`${et}px`)}}),ee&&tV({element:ee,padding:h}),uV({arrowWidth:O,arrowHeight:x}),E&&eV({strategy:"referenceHidden",...k})]}),[ve,V]=WA(Y),re=Qa(D);An(()=>{K&&re?.()},[K,re]);const ue=z.arrow?.x,ce=z.arrow?.y,me=z.arrow?.centerOffset!==0,[Ne,ge]=R.useState();return An(()=>{B&&ge(window.getComputedStyle(B).zIndex)},[B]),A.jsx("div",{ref:_e.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:K?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[z.transformOrigin?.x,z.transformOrigin?.y].join(" "),...z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:A.jsx(aV,{scope:t,placedSide:ve,onArrowChange:te,arrowX:ue,arrowY:ce,shouldHideArrow:me,children:A.jsx(Ot.div,{"data-side":ve,"data-align":V,...S,ref:G,style:{...S.style,animation:K?void 0:"none"}})})})});qA.displayName=pv;var GA="PopperArrow",lV={top:"bottom",right:"left",bottom:"top",left:"right"},YA=R.forwardRef(function(e,t){const{__scopePopper:i,...a}=e,l=oV(GA,i),u=lV[l.placedSide];return A.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:A.jsx(rV,{...a,ref:t,style:{...a.style,display:"block"}})})});YA.displayName=GA;function cV(n){return n!==null}var uV=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:i,middlewareData:a}=e,u=a.arrow?.centerOffset!==0,h=u?0:n.arrowWidth,m=u?0:n.arrowHeight,[g,y]=WA(t),_={start:"0%",center:"50%",end:"100%"}[y],E=(a.arrow?.x??0)+h/2,C=(a.arrow?.y??0)+m/2;let D="",S="";return g==="bottom"?(D=u?_:`${E}px`,S=`${-m}px`):g==="top"?(D=u?_:`${E}px`,S=`${i.floating.height+m}px`):g==="right"?(D=`${-m}px`,S=u?_:`${C}px`):g==="left"&&(D=`${i.floating.width+m}px`,S=u?_:`${C}px`),{data:{x:D,y:S}}}});function WA(n){const[e,t="center"]=n.split("-");return[e,t]}var KA=BA,gv=HA,QA=qA,$A=YA,dV="Portal",yv=R.forwardRef((n,e)=>{const{container:t,...i}=n,[a,l]=R.useState(!1);An(()=>l(!0),[]);const u=t||a&&globalThis?.document?.body;return u?w4.createPortal(A.jsx(Ot.div,{...i,ref:e}),u):null});yv.displayName=dV;var fV=kT[" useInsertionEffect ".trim().toString()]||An;function Jg({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[a,l,u]=hV({defaultProp:e,onChange:t}),h=n!==void 0,m=h?n:a;{const y=R.useRef(n!==void 0);R.useEffect(()=>{const _=y.current;_!==h&&console.warn(`${i} is changing from ${_?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,i])}const g=R.useCallback(y=>{if(h){const _=mV(y)?y(n):y;_!==n&&u.current?.(_)}else l(y)},[h,n,l,u]);return[m,g]}function hV({defaultProp:n,onChange:e}){const[t,i]=R.useState(n),a=R.useRef(t),l=R.useRef(e);return fV(()=>{l.current=e},[e]),R.useEffect(()=>{a.current!==t&&(l.current?.(t),a.current=t)},[t,a]),[t,i,l]}function mV(n){return typeof n=="function"}function pV(n){const e=R.useRef({value:n,previous:n});return R.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var XA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),gV="VisuallyHidden",yV=R.forwardRef((n,e)=>A.jsx(Ot.span,{...n,ref:e,style:{...XA,...n.style}}));yV.displayName=gV;var vV=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Zo=new WeakMap,lf=new WeakMap,cf={},ag=0,ZA=function(n){return n&&(n.host||ZA(n.parentNode))},_V=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=ZA(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},bV=function(n,e,t,i){var a=_V(e,Array.isArray(n)?n:[n]);cf[t]||(cf[t]=new WeakMap);var l=cf[t],u=[],h=new Set,m=new Set(a),g=function(_){!_||h.has(_)||(h.add(_),g(_.parentNode))};a.forEach(g);var y=function(_){!_||m.has(_)||Array.prototype.forEach.call(_.children,function(E){if(h.has(E))y(E);else try{var C=E.getAttribute(i),D=C!==null&&C!=="false",S=(Zo.get(E)||0)+1,N=(l.get(E)||0)+1;Zo.set(E,S),l.set(E,N),u.push(E),S===1&&D&&lf.set(E,!0),N===1&&E.setAttribute(t,"true"),D||E.setAttribute(i,"true")}catch(B){console.error("aria-hidden: cannot operate on ",E,B)}})};return y(e),h.clear(),ag++,function(){u.forEach(function(_){var E=Zo.get(_)-1,C=l.get(_)-1;Zo.set(_,E),l.set(_,C),E||(lf.has(_)||_.removeAttribute(i),lf.delete(_)),C||_.removeAttribute(t)}),ag--,ag||(Zo=new WeakMap,Zo=new WeakMap,lf=new WeakMap,cf={})}},JA=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),a=vV(n);return a?(i.push.apply(i,Array.from(a.querySelectorAll("[aria-live], script"))),bV(i,a,t,"aria-hidden")):function(){return null}},Yr=function(){return Yr=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Yr.apply(this,arguments)};function eC(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function wV(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}var Af="right-scroll-bar-position",Cf="width-before-scroll-bar",EV="with-scroll-bars-hidden",TV="--removed-body-scroll-bar-size";function og(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function SV(n,e){var t=R.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var a=t.value;a!==i&&(t.value=i,t.callback(i,a))}}}})[0];return t.callback=e,t.facade}var AV=typeof window<"u"?R.useLayoutEffect:R.useEffect,pT=new WeakMap;function CV(n,e){var t=SV(null,function(i){return n.forEach(function(a){return og(a,i)})});return AV(function(){var i=pT.get(t);if(i){var a=new Set(i),l=new Set(n),u=t.current;a.forEach(function(h){l.has(h)||og(h,null)}),l.forEach(function(h){a.has(h)||og(h,u)})}pT.set(t,n)},[n]),t}function xV(n){return n}function RV(n,e){e===void 0&&(e=xV);var t=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var u=e(l,i);return t.push(u),function(){t=t.filter(function(h){return h!==u})}},assignSyncMedium:function(l){for(i=!0;t.length;){var u=t;t=[],u.forEach(l)}t={push:function(h){return l(h)},filter:function(){return t}}},assignMedium:function(l){i=!0;var u=[];if(t.length){var h=t;t=[],h.forEach(l),u=t}var m=function(){var y=u;u=[],y.forEach(l)},g=function(){return Promise.resolve().then(m)};g(),t={push:function(y){u.push(y),g()},filter:function(y){return u=u.filter(y),t}}}};return a}function IV(n){n===void 0&&(n={});var e=RV(null);return e.options=Yr({async:!0,ssr:!1},n),e}var tC=function(n){var e=n.sideCar,t=eC(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return R.createElement(i,Yr({},t))};tC.isSideCarExport=!0;function NV(n,e){return n.useMedium(e),tC}var nC=IV(),lg=function(){},Ih=R.forwardRef(function(n,e){var t=R.useRef(null),i=R.useState({onScrollCapture:lg,onWheelCapture:lg,onTouchMoveCapture:lg}),a=i[0],l=i[1],u=n.forwardProps,h=n.children,m=n.className,g=n.removeScrollBar,y=n.enabled,_=n.shards,E=n.sideCar,C=n.noRelative,D=n.noIsolation,S=n.inert,N=n.allowPinchZoom,B=n.as,H=B===void 0?"div":B,G=n.gapMode,ee=eC(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),te=E,le=CV([t,e]),O=Yr(Yr({},ee),a);return R.createElement(R.Fragment,null,y&&R.createElement(te,{sideCar:nC,removeScrollBar:g,shards:_,noRelative:C,noIsolation:D,inert:S,setCallbacks:l,allowPinchZoom:!!N,lockRef:t,gapMode:G}),u?R.cloneElement(R.Children.only(h),Yr(Yr({},O),{ref:le})):R.createElement(H,Yr({},O,{className:m,ref:le}),h))});Ih.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ih.classNames={fullWidth:Cf,zeroRight:Af};var DV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OV(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=DV();return e&&n.setAttribute("nonce",e),n}function MV(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function kV(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var PV=function(){var n=0,e=null;return{add:function(t){n==0&&(e=OV())&&(MV(e,t),kV(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},VV=function(){var n=PV();return function(e,t){R.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},rC=function(){var n=VV(),e=function(t){var i=t.styles,a=t.dynamic;return n(i,a),null};return e},LV={left:0,top:0,right:0,gap:0},cg=function(n){return parseInt(n||"",10)||0},UV=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],a=e[n==="padding"?"paddingRight":"marginRight"];return[cg(t),cg(i),cg(a)]},jV=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return LV;var e=UV(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},zV=rC(),ml="data-scroll-locked",BV=function(n,e,t,i){var a=n.left,l=n.top,u=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(EV,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(ml,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Af,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Cf,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Af," .").concat(Af,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ml,`] {
    `).concat(TV,": ").concat(h,`px;
  }
`)},gT=function(){var n=parseInt(document.body.getAttribute(ml)||"0",10);return isFinite(n)?n:0},FV=function(){R.useEffect(function(){return document.body.setAttribute(ml,(gT()+1).toString()),function(){var n=gT()-1;n<=0?document.body.removeAttribute(ml):document.body.setAttribute(ml,n.toString())}},[])},HV=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,a=i===void 0?"margin":i;FV();var l=R.useMemo(function(){return jV(a)},[a]);return R.createElement(zV,{styles:BV(l,!e,a,t?"":"!important")})},ey=!1;if(typeof window<"u")try{var uf=Object.defineProperty({},"passive",{get:function(){return ey=!0,!0}});window.addEventListener("test",uf,uf),window.removeEventListener("test",uf,uf)}catch{ey=!1}var Jo=ey?{passive:!1}:!1,qV=function(n){return n.tagName==="TEXTAREA"},iC=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!qV(n)&&t[e]==="visible")},GV=function(n){return iC(n,"overflowY")},YV=function(n){return iC(n,"overflowX")},yT=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=sC(n,i);if(a){var l=aC(n,i),u=l[1],h=l[2];if(u>h)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},WV=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},KV=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},sC=function(n,e){return n==="v"?GV(e):YV(e)},aC=function(n,e){return n==="v"?WV(e):KV(e)},QV=function(n,e){return n==="h"&&e==="rtl"?-1:1},$V=function(n,e,t,i,a){var l=QV(n,window.getComputedStyle(e).direction),u=l*i,h=t.target,m=e.contains(h),g=!1,y=u>0,_=0,E=0;do{if(!h)break;var C=aC(n,h),D=C[0],S=C[1],N=C[2],B=S-N-l*D;(D||B)&&sC(n,h)&&(_+=B,E+=D);var H=h.parentNode;h=H&&H.nodeType===Node.DOCUMENT_FRAGMENT_NODE?H.host:H}while(!m&&h!==document.body||m&&(e.contains(h)||e===h));return(y&&Math.abs(_)<1||!y&&Math.abs(E)<1)&&(g=!0),g},df=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},vT=function(n){return[n.deltaX,n.deltaY]},_T=function(n){return n&&"current"in n?n.current:n},XV=function(n,e){return n[0]===e[0]&&n[1]===e[1]},ZV=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},JV=0,el=[];function e6(n){var e=R.useRef([]),t=R.useRef([0,0]),i=R.useRef(),a=R.useState(JV++)[0],l=R.useState(rC)[0],u=R.useRef(n);R.useEffect(function(){u.current=n},[n]),R.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(a));var S=wV([n.lockRef.current],(n.shards||[]).map(_T),!0).filter(Boolean);return S.forEach(function(N){return N.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),S.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(a))})}}},[n.inert,n.lockRef.current,n.shards]);var h=R.useCallback(function(S,N){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!u.current.allowPinchZoom;var B=df(S),H=t.current,G="deltaX"in S?S.deltaX:H[0]-B[0],ee="deltaY"in S?S.deltaY:H[1]-B[1],te,le=S.target,O=Math.abs(G)>Math.abs(ee)?"h":"v";if("touches"in S&&O==="h"&&le.type==="range")return!1;var x=yT(O,le);if(!x)return!0;if(x?te=O:(te=O==="v"?"h":"v",x=yT(O,le)),!x)return!1;if(!i.current&&"changedTouches"in S&&(G||ee)&&(i.current=te),!te)return!0;var M=i.current||te;return $V(M,N,S,M==="h"?G:ee)},[]),m=R.useCallback(function(S){var N=S;if(!(!el.length||el[el.length-1]!==l)){var B="deltaY"in N?vT(N):df(N),H=e.current.filter(function(te){return te.name===N.type&&(te.target===N.target||N.target===te.shadowParent)&&XV(te.delta,B)})[0];if(H&&H.should){N.cancelable&&N.preventDefault();return}if(!H){var G=(u.current.shards||[]).map(_T).filter(Boolean).filter(function(te){return te.contains(N.target)}),ee=G.length>0?h(N,G[0]):!u.current.noIsolation;ee&&N.cancelable&&N.preventDefault()}}},[]),g=R.useCallback(function(S,N,B,H){var G={name:S,delta:N,target:B,should:H,shadowParent:t6(B)};e.current.push(G),setTimeout(function(){e.current=e.current.filter(function(ee){return ee!==G})},1)},[]),y=R.useCallback(function(S){t.current=df(S),i.current=void 0},[]),_=R.useCallback(function(S){g(S.type,vT(S),S.target,h(S,n.lockRef.current))},[]),E=R.useCallback(function(S){g(S.type,df(S),S.target,h(S,n.lockRef.current))},[]);R.useEffect(function(){return el.push(l),n.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:E}),document.addEventListener("wheel",m,Jo),document.addEventListener("touchmove",m,Jo),document.addEventListener("touchstart",y,Jo),function(){el=el.filter(function(S){return S!==l}),document.removeEventListener("wheel",m,Jo),document.removeEventListener("touchmove",m,Jo),document.removeEventListener("touchstart",y,Jo)}},[]);var C=n.removeScrollBar,D=n.inert;return R.createElement(R.Fragment,null,D?R.createElement(l,{styles:ZV(a)}):null,C?R.createElement(HV,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function t6(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const n6=NV(nC,e6);var vv=R.forwardRef(function(n,e){return R.createElement(Ih,Yr({},n,{ref:e,sideCar:n6}))});vv.classNames=Ih.classNames;var r6=[" ","Enter","ArrowUp","ArrowDown"],i6=[" ","Enter"],Xa="Select",[Nh,Dh,s6]=T4(Xa),[Ll]=Eh(Xa,[s6,Rh]),Oh=Rh(),[a6,Zs]=Ll(Xa),[o6,l6]=Ll(Xa),oC=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:a,onOpenChange:l,value:u,defaultValue:h,onValueChange:m,dir:g,name:y,autoComplete:_,disabled:E,required:C,form:D}=n,S=Oh(e),[N,B]=R.useState(null),[H,G]=R.useState(null),[ee,te]=R.useState(!1),le=A4(g),[O,x]=Jg({prop:i,defaultProp:a??!1,onChange:l,caller:Xa}),[M,U]=Jg({prop:u,defaultProp:h,onChange:m,caller:Xa}),L=R.useRef(null),j=N?D||!!N.closest("form"):!0,[k,_e]=R.useState(new Set),Se=Array.from(k).map(Y=>Y.props.value).join(";");return A.jsx(KA,{...S,children:A.jsxs(a6,{required:C,scope:e,trigger:N,onTriggerChange:B,valueNode:H,onValueNodeChange:G,valueNodeHasChildren:ee,onValueNodeHasChildrenChange:te,contentId:Th(),value:M,onValueChange:U,open:O,onOpenChange:x,dir:le,triggerPointerDownPosRef:L,disabled:E,children:[A.jsx(Nh.Provider,{scope:e,children:A.jsx(o6,{scope:n.__scopeSelect,onNativeOptionAdd:R.useCallback(Y=>{_e(K=>new Set(K).add(Y))},[]),onNativeOptionRemove:R.useCallback(Y=>{_e(K=>{const z=new Set(K);return z.delete(Y),z})},[]),children:t})}),j?A.jsxs(DC,{"aria-hidden":!0,required:C,tabIndex:-1,name:y,autoComplete:_,value:M,onChange:Y=>U(Y.target.value),disabled:E,form:D,children:[M===void 0?A.jsx("option",{value:""}):null,Array.from(k)]},Se):null]})})};oC.displayName=Xa;var lC="SelectTrigger",cC=R.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...a}=n,l=Oh(t),u=Zs(lC,t),h=u.disabled||i,m=Xt(e,u.onTriggerChange),g=Dh(t),y=R.useRef("touch"),[_,E,C]=MC(S=>{const N=g().filter(G=>!G.disabled),B=N.find(G=>G.value===u.value),H=kC(N,S,B);H!==void 0&&u.onValueChange(H.value)}),D=S=>{h||(u.onOpenChange(!0),C()),S&&(u.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)})};return A.jsx(gv,{asChild:!0,...l,children:A.jsx(Ot.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":OC(u.value)?"":void 0,...a,ref:m,onClick:At(a.onClick,S=>{S.currentTarget.focus(),y.current!=="mouse"&&D(S)}),onPointerDown:At(a.onPointerDown,S=>{y.current=S.pointerType;const N=S.target;N.hasPointerCapture(S.pointerId)&&N.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&S.pointerType==="mouse"&&(D(S),S.preventDefault())}),onKeyDown:At(a.onKeyDown,S=>{const N=_.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&E(S.key),!(N&&S.key===" ")&&r6.includes(S.key)&&(D(),S.preventDefault())})})})});cC.displayName=lC;var uC="SelectValue",dC=R.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,children:l,placeholder:u="",...h}=n,m=Zs(uC,t),{onValueNodeHasChildrenChange:g}=m,y=l!==void 0,_=Xt(e,m.onValueNodeChange);return An(()=>{g(y)},[g,y]),A.jsx(Ot.span,{...h,ref:_,style:{pointerEvents:"none"},children:OC(m.value)?A.jsx(A.Fragment,{children:u}):l})});dC.displayName=uC;var c6="SelectIcon",fC=R.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...a}=n;return A.jsx(Ot.span,{"aria-hidden":!0,...a,ref:e,children:i||""})});fC.displayName=c6;var u6="SelectPortal",hC=n=>A.jsx(yv,{asChild:!0,...n});hC.displayName=u6;var Za="SelectContent",mC=R.forwardRef((n,e)=>{const t=Zs(Za,n.__scopeSelect),[i,a]=R.useState();if(An(()=>{a(new DocumentFragment)},[]),!t.open){const l=i;return l?Cu.createPortal(A.jsx(pC,{scope:n.__scopeSelect,children:A.jsx(Nh.Slot,{scope:n.__scopeSelect,children:A.jsx("div",{children:n.children})})}),l):null}return A.jsx(gC,{...n,ref:e})});mC.displayName=Za;var wr=10,[pC,Js]=Ll(Za),d6="SelectContentImpl",f6=El("SelectContent.RemoveScroll"),gC=R.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:l,onPointerDownOutside:u,side:h,sideOffset:m,align:g,alignOffset:y,arrowPadding:_,collisionBoundary:E,collisionPadding:C,sticky:D,hideWhenDetached:S,avoidCollisions:N,...B}=n,H=Zs(Za,t),[G,ee]=R.useState(null),[te,le]=R.useState(null),O=Xt(e,de=>ee(de)),[x,M]=R.useState(null),[U,L]=R.useState(null),j=Dh(t),[k,_e]=R.useState(!1),Se=R.useRef(!1);R.useEffect(()=>{if(G)return JA(G)},[G]),AA();const Y=R.useCallback(de=>{const[Ae,...Je]=j().map(et=>et.ref.current),[He]=Je.slice(-1),qe=document.activeElement;for(const et of de)if(et===qe||(et?.scrollIntoView({block:"nearest"}),et===Ae&&te&&(te.scrollTop=0),et===He&&te&&(te.scrollTop=te.scrollHeight),et?.focus(),document.activeElement!==qe))return},[j,te]),K=R.useCallback(()=>Y([x,G]),[Y,x,G]);R.useEffect(()=>{k&&K()},[k,K]);const{onOpenChange:z,triggerPointerDownPosRef:ve}=H;R.useEffect(()=>{if(G){let de={x:0,y:0};const Ae=He=>{de={x:Math.abs(Math.round(He.pageX)-(ve.current?.x??0)),y:Math.abs(Math.round(He.pageY)-(ve.current?.y??0))}},Je=He=>{de.x<=10&&de.y<=10?He.preventDefault():G.contains(He.target)||z(!1),document.removeEventListener("pointermove",Ae),ve.current=null};return ve.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",Je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",Je,{capture:!0})}}},[G,z,ve]),R.useEffect(()=>{const de=()=>z(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[z]);const[V,re]=MC(de=>{const Ae=j().filter(qe=>!qe.disabled),Je=Ae.find(qe=>qe.ref.current===document.activeElement),He=kC(Ae,de,Je);He&&setTimeout(()=>He.ref.current.focus())}),ue=R.useCallback((de,Ae,Je)=>{const He=!Se.current&&!Je;(H.value!==void 0&&H.value===Ae||He)&&(M(de),He&&(Se.current=!0))},[H.value]),ce=R.useCallback(()=>G?.focus(),[G]),me=R.useCallback((de,Ae,Je)=>{const He=!Se.current&&!Je;(H.value!==void 0&&H.value===Ae||He)&&L(de)},[H.value]),Ne=i==="popper"?ty:yC,ge=Ne===ty?{side:h,sideOffset:m,align:g,alignOffset:y,arrowPadding:_,collisionBoundary:E,collisionPadding:C,sticky:D,hideWhenDetached:S,avoidCollisions:N}:{};return A.jsx(pC,{scope:t,content:G,viewport:te,onViewportChange:le,itemRefCallback:ue,selectedItem:x,onItemLeave:ce,itemTextRefCallback:me,focusSelectedItem:K,selectedItemText:U,position:i,isPositioned:k,searchRef:V,children:A.jsx(vv,{as:f6,allowPinchZoom:!0,children:A.jsx(ov,{asChild:!0,trapped:H.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:At(a,de=>{H.trigger?.focus({preventScroll:!0}),de.preventDefault()}),children:A.jsx(av,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>H.onOpenChange(!1),children:A.jsx(Ne,{role:"listbox",id:H.contentId,"data-state":H.open?"open":"closed",dir:H.dir,onContextMenu:de=>de.preventDefault(),...B,...ge,onPlaced:()=>_e(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...B.style},onKeyDown:At(B.onKeyDown,de=>{const Ae=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!Ae&&de.key.length===1&&re(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let He=j().filter(qe=>!qe.disabled).map(qe=>qe.ref.current);if(["ArrowUp","End"].includes(de.key)&&(He=He.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const qe=de.target,et=He.indexOf(qe);He=He.slice(et+1)}setTimeout(()=>Y(He)),de.preventDefault()}})})})})})})});gC.displayName=d6;var h6="SelectItemAlignedPosition",yC=R.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...a}=n,l=Zs(Za,t),u=Js(Za,t),[h,m]=R.useState(null),[g,y]=R.useState(null),_=Xt(e,O=>y(O)),E=Dh(t),C=R.useRef(!1),D=R.useRef(!0),{viewport:S,selectedItem:N,selectedItemText:B,focusSelectedItem:H}=u,G=R.useCallback(()=>{if(l.trigger&&l.valueNode&&h&&g&&S&&N&&B){const O=l.trigger.getBoundingClientRect(),x=g.getBoundingClientRect(),M=l.valueNode.getBoundingClientRect(),U=B.getBoundingClientRect();if(l.dir!=="rtl"){const qe=U.left-x.left,et=M.left-qe,fe=O.left-et,be=O.width+fe,Ge=Math.max(be,x.width),We=window.innerWidth-wr,Ce=$E(et,[wr,Math.max(wr,We-Ge)]);h.style.minWidth=be+"px",h.style.left=Ce+"px"}else{const qe=x.right-U.right,et=window.innerWidth-M.right-qe,fe=window.innerWidth-O.right-et,be=O.width+fe,Ge=Math.max(be,x.width),We=window.innerWidth-wr,Ce=$E(et,[wr,Math.max(wr,We-Ge)]);h.style.minWidth=be+"px",h.style.right=Ce+"px"}const L=E(),j=window.innerHeight-wr*2,k=S.scrollHeight,_e=window.getComputedStyle(g),Se=parseInt(_e.borderTopWidth,10),Y=parseInt(_e.paddingTop,10),K=parseInt(_e.borderBottomWidth,10),z=parseInt(_e.paddingBottom,10),ve=Se+Y+k+z+K,V=Math.min(N.offsetHeight*5,ve),re=window.getComputedStyle(S),ue=parseInt(re.paddingTop,10),ce=parseInt(re.paddingBottom,10),me=O.top+O.height/2-wr,Ne=j-me,ge=N.offsetHeight/2,de=N.offsetTop+ge,Ae=Se+Y+de,Je=ve-Ae;if(Ae<=me){const qe=L.length>0&&N===L[L.length-1].ref.current;h.style.bottom="0px";const et=g.clientHeight-S.offsetTop-S.offsetHeight,fe=Math.max(Ne,ge+(qe?ce:0)+et+K),be=Ae+fe;h.style.height=be+"px"}else{const qe=L.length>0&&N===L[0].ref.current;h.style.top="0px";const fe=Math.max(me,Se+S.offsetTop+(qe?ue:0)+ge)+Je;h.style.height=fe+"px",S.scrollTop=Ae-me+S.offsetTop}h.style.margin=`${wr}px 0`,h.style.minHeight=V+"px",h.style.maxHeight=j+"px",i?.(),requestAnimationFrame(()=>C.current=!0)}},[E,l.trigger,l.valueNode,h,g,S,N,B,l.dir,i]);An(()=>G(),[G]);const[ee,te]=R.useState();An(()=>{g&&te(window.getComputedStyle(g).zIndex)},[g]);const le=R.useCallback(O=>{O&&D.current===!0&&(G(),H?.(),D.current=!1)},[G,H]);return A.jsx(p6,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:C,onScrollButtonChange:le,children:A.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:ee},children:A.jsx(Ot.div,{...a,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});yC.displayName=h6;var m6="SelectPopperPosition",ty=R.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:a=wr,...l}=n,u=Oh(t);return A.jsx(QA,{...u,...l,ref:e,align:i,collisionPadding:a,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ty.displayName=m6;var[p6,_v]=Ll(Za,{}),ny="SelectViewport",vC=R.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...a}=n,l=Js(ny,t),u=_v(ny,t),h=Xt(e,l.onViewportChange),m=R.useRef(0);return A.jsxs(A.Fragment,{children:[A.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),A.jsx(Nh.Slot,{scope:t,children:A.jsx(Ot.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:At(a.onScroll,g=>{const y=g.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:E}=u;if(E?.current&&_){const C=Math.abs(m.current-y.scrollTop);if(C>0){const D=window.innerHeight-wr*2,S=parseFloat(_.style.minHeight),N=parseFloat(_.style.height),B=Math.max(S,N);if(B<D){const H=B+C,G=Math.min(D,H),ee=H-G;_.style.height=G+"px",_.style.bottom==="0px"&&(y.scrollTop=ee>0?ee:0,_.style.justifyContent="flex-end")}}}m.current=y.scrollTop})})})]})});vC.displayName=ny;var _C="SelectGroup",[g6,y6]=Ll(_C),v6=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=Th();return A.jsx(g6,{scope:t,id:a,children:A.jsx(Ot.div,{role:"group","aria-labelledby":a,...i,ref:e})})});v6.displayName=_C;var bC="SelectLabel",wC=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=y6(bC,t);return A.jsx(Ot.div,{id:a.id,...i,ref:e})});wC.displayName=bC;var eh="SelectItem",[_6,EC]=Ll(eh),TC=R.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:a=!1,textValue:l,...u}=n,h=Zs(eh,t),m=Js(eh,t),g=h.value===i,[y,_]=R.useState(l??""),[E,C]=R.useState(!1),D=Xt(e,H=>m.itemRefCallback?.(H,i,a)),S=Th(),N=R.useRef("touch"),B=()=>{a||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return A.jsx(_6,{scope:t,value:i,disabled:a,textId:S,isSelected:g,onItemTextChange:R.useCallback(H=>{_(G=>G||(H?.textContent??"").trim())},[]),children:A.jsx(Nh.ItemSlot,{scope:t,value:i,disabled:a,textValue:y,children:A.jsx(Ot.div,{role:"option","aria-labelledby":S,"data-highlighted":E?"":void 0,"aria-selected":g&&E,"data-state":g?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:D,onFocus:At(u.onFocus,()=>C(!0)),onBlur:At(u.onBlur,()=>C(!1)),onClick:At(u.onClick,()=>{N.current!=="mouse"&&B()}),onPointerUp:At(u.onPointerUp,()=>{N.current==="mouse"&&B()}),onPointerDown:At(u.onPointerDown,H=>{N.current=H.pointerType}),onPointerMove:At(u.onPointerMove,H=>{N.current=H.pointerType,a?m.onItemLeave?.():N.current==="mouse"&&H.currentTarget.focus({preventScroll:!0})}),onPointerLeave:At(u.onPointerLeave,H=>{H.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:At(u.onKeyDown,H=>{m.searchRef?.current!==""&&H.key===" "||(i6.includes(H.key)&&B(),H.key===" "&&H.preventDefault())})})})})});TC.displayName=eh;var Xc="SelectItemText",SC=R.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:a,...l}=n,u=Zs(Xc,t),h=Js(Xc,t),m=EC(Xc,t),g=l6(Xc,t),[y,_]=R.useState(null),E=Xt(e,B=>_(B),m.onItemTextChange,B=>h.itemTextRefCallback?.(B,m.value,m.disabled)),C=y?.textContent,D=R.useMemo(()=>A.jsx("option",{value:m.value,disabled:m.disabled,children:C},m.value),[m.disabled,m.value,C]),{onNativeOptionAdd:S,onNativeOptionRemove:N}=g;return An(()=>(S(D),()=>N(D)),[S,N,D]),A.jsxs(A.Fragment,{children:[A.jsx(Ot.span,{id:m.textId,...l,ref:E}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Cu.createPortal(l.children,u.valueNode):null]})});SC.displayName=Xc;var AC="SelectItemIndicator",CC=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return EC(AC,t).isSelected?A.jsx(Ot.span,{"aria-hidden":!0,...i,ref:e}):null});CC.displayName=AC;var ry="SelectScrollUpButton",xC=R.forwardRef((n,e)=>{const t=Js(ry,n.__scopeSelect),i=_v(ry,n.__scopeSelect),[a,l]=R.useState(!1),u=Xt(e,i.onScrollButtonChange);return An(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=m.scrollTop>0;l(g)};const m=t.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),a?A.jsx(IC,{...n,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=t;h&&m&&(h.scrollTop=h.scrollTop-m.offsetHeight)}}):null});xC.displayName=ry;var iy="SelectScrollDownButton",RC=R.forwardRef((n,e)=>{const t=Js(iy,n.__scopeSelect),i=_v(iy,n.__scopeSelect),[a,l]=R.useState(!1),u=Xt(e,i.onScrollButtonChange);return An(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=m.scrollHeight-m.clientHeight,y=Math.ceil(m.scrollTop)<g;l(y)};const m=t.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),a?A.jsx(IC,{...n,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=t;h&&m&&(h.scrollTop=h.scrollTop+m.offsetHeight)}}):null});RC.displayName=iy;var IC=R.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...a}=n,l=Js("SelectScrollButton",t),u=R.useRef(null),h=Dh(t),m=R.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return R.useEffect(()=>()=>m(),[m]),An(()=>{h().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),A.jsx(Ot.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:At(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(i,50))}),onPointerMove:At(a.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(i,50))}),onPointerLeave:At(a.onPointerLeave,()=>{m()})})}),b6="SelectSeparator",NC=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return A.jsx(Ot.div,{"aria-hidden":!0,...i,ref:e})});NC.displayName=b6;var sy="SelectArrow",w6=R.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,a=Oh(t),l=Zs(sy,t),u=Js(sy,t);return l.open&&u.position==="popper"?A.jsx($A,{...a,...i,ref:e}):null});w6.displayName=sy;var E6="SelectBubbleInput",DC=R.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const a=R.useRef(null),l=Xt(i,a),u=pV(e);return R.useEffect(()=>{const h=a.current;if(!h)return;const m=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==e&&y){const _=new Event("change",{bubbles:!0});y.call(h,e),h.dispatchEvent(_)}},[u,e]),A.jsx(Ot.select,{...t,style:{...XA,...t.style},ref:l,defaultValue:e})});DC.displayName=E6;function OC(n){return n===""||n===void 0}function MC(n){const e=Qa(n),t=R.useRef(""),i=R.useRef(0),a=R.useCallback(u=>{const h=t.current+u;e(h),(function m(g){t.current=g,window.clearTimeout(i.current),g!==""&&(i.current=window.setTimeout(()=>m(""),1e3))})(h)},[e]),l=R.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return R.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,a,l]}function kC(n,e,t){const a=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let u=T6(n,Math.max(l,0));a.length===1&&(u=u.filter(g=>g!==t));const m=u.find(g=>g.textValue.toLowerCase().startsWith(a.toLowerCase()));return m!==t?m:void 0}function T6(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var S6=oC,PC=cC,A6=dC,C6=fC,x6=hC,VC=mC,R6=vC,LC=wC,UC=TC,I6=SC,N6=CC,jC=xC,zC=RC,BC=NC;/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O6=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),bT=n=>{const e=O6(n);return e.charAt(0).toUpperCase()+e.slice(1)},FC=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),M6=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=R.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...h},m)=>R.createElement("svg",{ref:m,...k6,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:FC("lucide",a),...!l&&!M6(h)&&{"aria-hidden":"true"},...h},[...u.map(([g,y])=>R.createElement(g,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=(n,e)=>{const t=R.forwardRef(({className:i,...a},l)=>R.createElement(P6,{ref:l,iconNode:e,className:FC(`lucide-${D6(bT(n))}`,`lucide-${n}`,i),...a}));return t.displayName=bT(n),t};/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],L6=so("calendar",V6);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],j6=so("check",U6);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],bv=so("chevron-down",z6);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],F6=so("chevron-left",B6);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],q6=so("chevron-right",H6);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Y6=so("chevron-up",G6);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],K6=so("search",W6),wT=S6,ET=A6,ay=R.forwardRef(({className:n,children:e,...t},i)=>A.jsxs(PC,{ref:i,className:Vn("flex h-10 w-full items-center justify-between rounded-md border border-gray-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 px-3 py-2 text-sm ring-offset-white dark:ring-offset-zinc-900 placeholder:text-gray-400 dark:placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-gray-400 dark:focus:ring-white focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 text-gray-900 dark:text-white",n),...t,children:[e,A.jsx(C6,{asChild:!0,children:A.jsx(bv,{className:"h-4 w-4 opacity-50"})})]}));ay.displayName=PC.displayName;const HC=R.forwardRef(({className:n,...e},t)=>A.jsx(jC,{ref:t,className:Vn("flex cursor-default items-center justify-center py-1",n),...e,children:A.jsx(Y6,{className:"h-4 w-4"})}));HC.displayName=jC.displayName;const qC=R.forwardRef(({className:n,...e},t)=>A.jsx(zC,{ref:t,className:Vn("flex cursor-default items-center justify-center py-1",n),...e,children:A.jsx(bv,{className:"h-4 w-4"})}));qC.displayName=zC.displayName;const oy=R.forwardRef(({className:n,children:e,position:t="popper",...i},a)=>A.jsx(x6,{children:A.jsxs(VC,{ref:a,className:Vn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-gray-900 dark:text-white shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[A.jsx(HC,{}),A.jsx(R6,{className:Vn("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),A.jsx(qC,{})]})}));oy.displayName=VC.displayName;const Q6=R.forwardRef(({className:n,...e},t)=>A.jsx(LC,{ref:t,className:Vn("py-1.5 pl-8 pr-2 text-sm font-semibold text-gray-600 dark:text-zinc-400",n),...e}));Q6.displayName=LC.displayName;const al=R.forwardRef(({className:n,children:e,...t},i)=>A.jsxs(UC,{ref:i,className:Vn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 dark:focus:bg-zinc-800 focus:text-gray-900 dark:focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[A.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:A.jsx(N6,{children:A.jsx(j6,{className:"h-4 w-4"})})}),A.jsx(I6,{children:e})]}));al.displayName=UC.displayName;const $6=R.forwardRef(({className:n,...e},t)=>A.jsx(BC,{ref:t,className:Vn("-mx-1 my-1 h-px bg-zinc-700",n),...e}));$6.displayName=BC.displayName;const TT=["US","KR","CN","GB","CH","IN","FR","DE"],ug=[{code:"AF",name:"Afghanistan",dialCode:"+93"},{code:"AL",name:"Albania",dialCode:"+355"},{code:"DZ",name:"Algeria",dialCode:"+213"},{code:"AS",name:"American Samoa",dialCode:"+1684"},{code:"AD",name:"Andorra",dialCode:"+376"},{code:"AO",name:"Angola",dialCode:"+244"},{code:"AI",name:"Anguilla",dialCode:"+1264"},{code:"AG",name:"Antigua and Barbuda",dialCode:"+1268"},{code:"AR",name:"Argentina",dialCode:"+54"},{code:"AM",name:"Armenia",dialCode:"+374"},{code:"AW",name:"Aruba",dialCode:"+297"},{code:"AU",name:"Australia",dialCode:"+61"},{code:"AT",name:"Austria",dialCode:"+43"},{code:"AZ",name:"Azerbaijan",dialCode:"+994"},{code:"BS",name:"Bahamas",dialCode:"+1242"},{code:"BH",name:"Bahrain",dialCode:"+973"},{code:"BD",name:"Bangladesh",dialCode:"+880"},{code:"BB",name:"Barbados",dialCode:"+1246"},{code:"BY",name:"Belarus",dialCode:"+375"},{code:"BE",name:"Belgium",dialCode:"+32"},{code:"BZ",name:"Belize",dialCode:"+501"},{code:"BJ",name:"Benin",dialCode:"+229"},{code:"BM",name:"Bermuda",dialCode:"+1441"},{code:"BT",name:"Bhutan",dialCode:"+975"},{code:"BO",name:"Bolivia",dialCode:"+591"},{code:"BA",name:"Bosnia and Herzegovina",dialCode:"+387"},{code:"BW",name:"Botswana",dialCode:"+267"},{code:"BR",name:"Brazil",dialCode:"+55"},{code:"BN",name:"Brunei",dialCode:"+673"},{code:"BG",name:"Bulgaria",dialCode:"+359"},{code:"BF",name:"Burkina Faso",dialCode:"+226"},{code:"BI",name:"Burundi",dialCode:"+257"},{code:"KH",name:"Cambodia",dialCode:"+855"},{code:"CM",name:"Cameroon",dialCode:"+237"},{code:"CA",name:"Canada",dialCode:"+1"},{code:"CV",name:"Cape Verde",dialCode:"+238"},{code:"KY",name:"Cayman Islands",dialCode:"+1345"},{code:"CF",name:"Central African Republic",dialCode:"+236"},{code:"TD",name:"Chad",dialCode:"+235"},{code:"CL",name:"Chile",dialCode:"+56"},{code:"CN",name:"China",dialCode:"+86"},{code:"CO",name:"Colombia",dialCode:"+57"},{code:"KM",name:"Comoros",dialCode:"+269"},{code:"CG",name:"Congo",dialCode:"+242"},{code:"CD",name:"Congo (DRC)",dialCode:"+243"},{code:"CK",name:"Cook Islands",dialCode:"+682"},{code:"CR",name:"Costa Rica",dialCode:"+506"},{code:"HR",name:"Croatia",dialCode:"+385"},{code:"CU",name:"Cuba",dialCode:"+53"},{code:"CW",name:"Curaao",dialCode:"+599"},{code:"CY",name:"Cyprus",dialCode:"+357"},{code:"CZ",name:"Czech Republic",dialCode:"+420"},{code:"DK",name:"Denmark",dialCode:"+45"},{code:"DJ",name:"Djibouti",dialCode:"+253"},{code:"DM",name:"Dominica",dialCode:"+1767"},{code:"DO",name:"Dominican Republic",dialCode:"+1809"},{code:"EC",name:"Ecuador",dialCode:"+593"},{code:"EG",name:"Egypt",dialCode:"+20"},{code:"SV",name:"El Salvador",dialCode:"+503"},{code:"GQ",name:"Equatorial Guinea",dialCode:"+240"},{code:"ER",name:"Eritrea",dialCode:"+291"},{code:"EE",name:"Estonia",dialCode:"+372"},{code:"SZ",name:"Eswatini",dialCode:"+268"},{code:"ET",name:"Ethiopia",dialCode:"+251"},{code:"FK",name:"Falkland Islands",dialCode:"+500"},{code:"FO",name:"Faroe Islands",dialCode:"+298"},{code:"FJ",name:"Fiji",dialCode:"+679"},{code:"FI",name:"Finland",dialCode:"+358"},{code:"FR",name:"France",dialCode:"+33"},{code:"GF",name:"French Guiana",dialCode:"+594"},{code:"PF",name:"French Polynesia",dialCode:"+689"},{code:"GA",name:"Gabon",dialCode:"+241"},{code:"GM",name:"Gambia",dialCode:"+220"},{code:"GE",name:"Georgia",dialCode:"+995"},{code:"DE",name:"Germany",dialCode:"+49"},{code:"GH",name:"Ghana",dialCode:"+233"},{code:"GI",name:"Gibraltar",dialCode:"+350"},{code:"GR",name:"Greece",dialCode:"+30"},{code:"GL",name:"Greenland",dialCode:"+299"},{code:"GD",name:"Grenada",dialCode:"+1473"},{code:"GP",name:"Guadeloupe",dialCode:"+590"},{code:"GU",name:"Guam",dialCode:"+1671"},{code:"GT",name:"Guatemala",dialCode:"+502"},{code:"GG",name:"Guernsey",dialCode:"+44"},{code:"GN",name:"Guinea",dialCode:"+224"},{code:"GW",name:"Guinea-Bissau",dialCode:"+245"},{code:"GY",name:"Guyana",dialCode:"+592"},{code:"HT",name:"Haiti",dialCode:"+509"},{code:"HN",name:"Honduras",dialCode:"+504"},{code:"HK",name:"Hong Kong",dialCode:"+852"},{code:"HU",name:"Hungary",dialCode:"+36"},{code:"IS",name:"Iceland",dialCode:"+354"},{code:"IN",name:"India",dialCode:"+91"},{code:"ID",name:"Indonesia",dialCode:"+62"},{code:"IR",name:"Iran",dialCode:"+98"},{code:"IQ",name:"Iraq",dialCode:"+964"},{code:"IE",name:"Ireland",dialCode:"+353"},{code:"IM",name:"Isle of Man",dialCode:"+44"},{code:"IL",name:"Israel",dialCode:"+972"},{code:"IT",name:"Italy",dialCode:"+39"},{code:"CI",name:"Ivory Coast",dialCode:"+225"},{code:"JM",name:"Jamaica",dialCode:"+1876"},{code:"JP",name:"Japan",dialCode:"+81"},{code:"JE",name:"Jersey",dialCode:"+44"},{code:"JO",name:"Jordan",dialCode:"+962"},{code:"KZ",name:"Kazakhstan",dialCode:"+7"},{code:"KE",name:"Kenya",dialCode:"+254"},{code:"KI",name:"Kiribati",dialCode:"+686"},{code:"XK",name:"Kosovo",dialCode:"+383"},{code:"KW",name:"Kuwait",dialCode:"+965"},{code:"KG",name:"Kyrgyzstan",dialCode:"+996"},{code:"LA",name:"Laos",dialCode:"+856"},{code:"LV",name:"Latvia",dialCode:"+371"},{code:"LB",name:"Lebanon",dialCode:"+961"},{code:"LS",name:"Lesotho",dialCode:"+266"},{code:"LR",name:"Liberia",dialCode:"+231"},{code:"LY",name:"Libya",dialCode:"+218"},{code:"LI",name:"Liechtenstein",dialCode:"+423"},{code:"LT",name:"Lithuania",dialCode:"+370"},{code:"LU",name:"Luxembourg",dialCode:"+352"},{code:"MO",name:"Macau",dialCode:"+853"},{code:"MK",name:"North Macedonia",dialCode:"+389"},{code:"MG",name:"Madagascar",dialCode:"+261"},{code:"MW",name:"Malawi",dialCode:"+265"},{code:"MY",name:"Malaysia",dialCode:"+60"},{code:"MV",name:"Maldives",dialCode:"+960"},{code:"ML",name:"Mali",dialCode:"+223"},{code:"MT",name:"Malta",dialCode:"+356"},{code:"MH",name:"Marshall Islands",dialCode:"+692"},{code:"MQ",name:"Martinique",dialCode:"+596"},{code:"MR",name:"Mauritania",dialCode:"+222"},{code:"MU",name:"Mauritius",dialCode:"+230"},{code:"YT",name:"Mayotte",dialCode:"+262"},{code:"MX",name:"Mexico",dialCode:"+52"},{code:"FM",name:"Micronesia",dialCode:"+691"},{code:"MD",name:"Moldova",dialCode:"+373"},{code:"MC",name:"Monaco",dialCode:"+377"},{code:"MN",name:"Mongolia",dialCode:"+976"},{code:"ME",name:"Montenegro",dialCode:"+382"},{code:"MS",name:"Montserrat",dialCode:"+1664"},{code:"MA",name:"Morocco",dialCode:"+212"},{code:"MZ",name:"Mozambique",dialCode:"+258"},{code:"MM",name:"Myanmar",dialCode:"+95"},{code:"NA",name:"Namibia",dialCode:"+264"},{code:"NR",name:"Nauru",dialCode:"+674"},{code:"NP",name:"Nepal",dialCode:"+977"},{code:"NL",name:"Netherlands",dialCode:"+31"},{code:"NC",name:"New Caledonia",dialCode:"+687"},{code:"NZ",name:"New Zealand",dialCode:"+64"},{code:"NI",name:"Nicaragua",dialCode:"+505"},{code:"NE",name:"Niger",dialCode:"+227"},{code:"NG",name:"Nigeria",dialCode:"+234"},{code:"NU",name:"Niue",dialCode:"+683"},{code:"NF",name:"Norfolk Island",dialCode:"+672"},{code:"KP",name:"North Korea",dialCode:"+850"},{code:"MP",name:"Northern Mariana Islands",dialCode:"+1670"},{code:"NO",name:"Norway",dialCode:"+47"},{code:"OM",name:"Oman",dialCode:"+968"},{code:"PK",name:"Pakistan",dialCode:"+92"},{code:"PW",name:"Palau",dialCode:"+680"},{code:"PS",name:"Palestine",dialCode:"+970"},{code:"PA",name:"Panama",dialCode:"+507"},{code:"PG",name:"Papua New Guinea",dialCode:"+675"},{code:"PY",name:"Paraguay",dialCode:"+595"},{code:"PE",name:"Peru",dialCode:"+51"},{code:"PH",name:"Philippines",dialCode:"+63"},{code:"PL",name:"Poland",dialCode:"+48"},{code:"PT",name:"Portugal",dialCode:"+351"},{code:"PR",name:"Puerto Rico",dialCode:"+1787"},{code:"QA",name:"Qatar",dialCode:"+974"},{code:"RE",name:"Runion",dialCode:"+262"},{code:"RO",name:"Romania",dialCode:"+40"},{code:"RU",name:"Russia",dialCode:"+7"},{code:"RW",name:"Rwanda",dialCode:"+250"},{code:"BL",name:"Saint Barthlemy",dialCode:"+590"},{code:"SH",name:"Saint Helena",dialCode:"+290"},{code:"KN",name:"Saint Kitts and Nevis",dialCode:"+1869"},{code:"LC",name:"Saint Lucia",dialCode:"+1758"},{code:"MF",name:"Saint Martin",dialCode:"+590"},{code:"PM",name:"Saint Pierre and Miquelon",dialCode:"+508"},{code:"VC",name:"Saint Vincent and the Grenadines",dialCode:"+1784"},{code:"WS",name:"Samoa",dialCode:"+685"},{code:"SM",name:"San Marino",dialCode:"+378"},{code:"ST",name:"So Tom and Prncipe",dialCode:"+239"},{code:"SA",name:"Saudi Arabia",dialCode:"+966"},{code:"SN",name:"Senegal",dialCode:"+221"},{code:"RS",name:"Serbia",dialCode:"+381"},{code:"SC",name:"Seychelles",dialCode:"+248"},{code:"SL",name:"Sierra Leone",dialCode:"+232"},{code:"SG",name:"Singapore",dialCode:"+65"},{code:"SX",name:"Sint Maarten",dialCode:"+1721"},{code:"SK",name:"Slovakia",dialCode:"+421"},{code:"SI",name:"Slovenia",dialCode:"+386"},{code:"SB",name:"Solomon Islands",dialCode:"+677"},{code:"SO",name:"Somalia",dialCode:"+252"},{code:"ZA",name:"South Africa",dialCode:"+27"},{code:"KR",name:"South Korea",dialCode:"+82"},{code:"SS",name:"South Sudan",dialCode:"+211"},{code:"ES",name:"Spain",dialCode:"+34"},{code:"LK",name:"Sri Lanka",dialCode:"+94"},{code:"SD",name:"Sudan",dialCode:"+249"},{code:"SR",name:"Suriname",dialCode:"+597"},{code:"SE",name:"Sweden",dialCode:"+46"},{code:"CH",name:"Switzerland",dialCode:"+41"},{code:"SY",name:"Syria",dialCode:"+963"},{code:"TW",name:"Taiwan",dialCode:"+886"},{code:"TJ",name:"Tajikistan",dialCode:"+992"},{code:"TZ",name:"Tanzania",dialCode:"+255"},{code:"TH",name:"Thailand",dialCode:"+66"},{code:"TL",name:"Timor-Leste",dialCode:"+670"},{code:"TG",name:"Togo",dialCode:"+228"},{code:"TK",name:"Tokelau",dialCode:"+690"},{code:"TO",name:"Tonga",dialCode:"+676"},{code:"TT",name:"Trinidad and Tobago",dialCode:"+1868"},{code:"TN",name:"Tunisia",dialCode:"+216"},{code:"TR",name:"Turkey",dialCode:"+90"},{code:"TM",name:"Turkmenistan",dialCode:"+993"},{code:"TC",name:"Turks and Caicos Islands",dialCode:"+1649"},{code:"TV",name:"Tuvalu",dialCode:"+688"},{code:"UG",name:"Uganda",dialCode:"+256"},{code:"UA",name:"Ukraine",dialCode:"+380"},{code:"AE",name:"United Arab Emirates",dialCode:"+971"},{code:"GB",name:"United Kingdom",dialCode:"+44"},{code:"US",name:"United States",dialCode:"+1"},{code:"UY",name:"Uruguay",dialCode:"+598"},{code:"UZ",name:"Uzbekistan",dialCode:"+998"},{code:"VU",name:"Vanuatu",dialCode:"+678"},{code:"VA",name:"Vatican City",dialCode:"+379"},{code:"VE",name:"Venezuela",dialCode:"+58"},{code:"VN",name:"Vietnam",dialCode:"+84"},{code:"VG",name:"Virgin Islands (British)",dialCode:"+1284"},{code:"VI",name:"Virgin Islands (U.S.)",dialCode:"+1340"},{code:"WF",name:"Wallis and Futuna",dialCode:"+681"},{code:"YE",name:"Yemen",dialCode:"+967"},{code:"ZM",name:"Zambia",dialCode:"+260"},{code:"ZW",name:"Zimbabwe",dialCode:"+263"}];function X6({value:n,onChange:e,lightMode:t=!1}){const[i,a]=R.useState(!1),[l,u]=R.useState(""),h=R.useRef(null),m=R.useRef(null);R.useEffect(()=>{const D=S=>{h.current&&!h.current.contains(S.target)&&(a(!1),u(""))};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]),R.useEffect(()=>{i&&m.current&&m.current.focus()},[i]);const g=ug.filter(D=>{const S=l.toLowerCase();return D.name.toLowerCase().includes(S)||D.dialCode.includes(S)||D.code.toLowerCase().includes(S)}),y=g.filter(D=>TT.includes(D.code)),_=g.filter(D=>!TT.includes(D.code)),E=ug.find(D=>D.dialCode===n)||ug[0],C=D=>{e(D),a(!1),u("")};return A.jsxs("div",{ref:h,className:"relative",children:[A.jsxs("button",{type:"button",onClick:()=>a(!i),className:`flex items-center gap-1 h-10 px-3 rounded-md transition-colors ${t?"!bg-white !border !border-gray-300 !text-gray-900 hover:!bg-gray-50":"bg-zinc-800 border border-zinc-700 text-white hover:bg-zinc-750"}`,children:[A.jsx("span",{className:"font-medium",children:E.dialCode}),A.jsx(bv,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&A.jsxs("div",{className:`absolute z-50 top-full mt-1 w-80 rounded-lg shadow-xl max-h-96 overflow-hidden ${t?"!bg-white !border !border-gray-200":"bg-zinc-800 border border-zinc-700"}`,children:[A.jsx("div",{className:`p-2 border-b ${t?"border-gray-200":"border-zinc-700"}`,children:A.jsxs("div",{className:"relative",children:[A.jsx(K6,{className:`absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 ${t?"text-gray-400":"text-zinc-400"}`}),A.jsx("input",{ref:m,type:"text",value:l,onChange:D=>u(D.target.value),placeholder:"Search country or code...",className:`w-full pl-10 pr-3 py-2 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-gray-400 ${t?"!bg-gray-50 !border !border-gray-300 !text-gray-900 placeholder-gray-400":"bg-zinc-900 border border-zinc-700 text-white placeholder-zinc-500"}`,autoComplete:"off"})]})}),A.jsxs("div",{className:"overflow-y-auto max-h-80",children:[y.length>0&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:`px-3 py-1.5 text-xs font-medium ${t?"!text-gray-500 !bg-gray-50":"text-zinc-400 bg-zinc-900"}`,children:"Popular"}),y.map(D=>A.jsxs("button",{type:"button",onClick:()=>C(D.dialCode),className:`w-full px-3 py-2 text-left transition-colors flex items-center justify-between ${t?`hover:!bg-gray-100 ${E.code===D.code?"!bg-gray-100":""}`:`hover:bg-zinc-700 ${E.code===D.code?"bg-zinc-700":""}`}`,children:[A.jsx("span",{className:t?"!text-gray-900":"text-white",children:D.name}),A.jsx("span",{className:`text-sm ${t?"!text-gray-500":"text-zinc-400"}`,children:D.dialCode})]},D.code))]}),_.length>0&&A.jsxs(A.Fragment,{children:[y.length>0&&A.jsx("div",{className:`px-3 py-1.5 text-xs font-medium border-t ${t?"!text-gray-500 !bg-gray-50 !border-gray-200":"text-zinc-400 bg-zinc-900 border-zinc-700"}`,children:"All Countries"}),_.map(D=>A.jsxs("button",{type:"button",onClick:()=>C(D.dialCode),className:`w-full px-3 py-2 text-left transition-colors flex items-center justify-between ${t?`hover:!bg-gray-100 ${E.code===D.code?"!bg-gray-100":""}`:`hover:bg-zinc-700 ${E.code===D.code?"bg-zinc-700":""}`}`,children:[A.jsx("span",{className:t?"!text-gray-900":"text-white",children:D.name}),A.jsx("span",{className:`text-sm ${t?"!text-gray-500":"text-zinc-400"}`,children:D.dialCode})]},D.code))]}),g.length===0&&A.jsx("div",{className:`px-3 py-4 text-center text-sm ${t?"!text-gray-500":"text-zinc-500"}`,children:"No countries found"})]})]})]})}function Fe(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Et(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function mn(n,e){const t=Fe(n);return isNaN(e)?Et(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function Ir(n,e){const t=Fe(n);if(isNaN(e))return Et(n,NaN);if(!e)return t;const i=t.getDate(),a=Et(n,t.getTime());a.setMonth(t.getMonth()+e+1,0);const l=a.getDate();return i>=l?a:(t.setFullYear(a.getFullYear(),a.getMonth(),i),t)}const wv=6048e5,Z6=864e5,J6=6e4,e9=36e5,t9=1e3;let n9={};function ao(){return n9}function $n(n,e){const t=ao(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=Fe(n),l=a.getDay(),u=(l<i?7:0)+l-i;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function qi(n){return $n(n,{weekStartsOn:1})}function GC(n){const e=Fe(n),t=e.getFullYear(),i=Et(n,0);i.setFullYear(t+1,0,4),i.setHours(0,0,0,0);const a=qi(i),l=Et(n,0);l.setFullYear(t,0,4),l.setHours(0,0,0,0);const u=qi(l);return e.getTime()>=a.getTime()?t+1:e.getTime()>=u.getTime()?t:t-1}function Sl(n){const e=Fe(n);return e.setHours(0,0,0,0),e}function Al(n){const e=Fe(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function $r(n,e){const t=Sl(n),i=Sl(e),a=+t-Al(t),l=+i-Al(i);return Math.round((a-l)/Z6)}function r9(n){const e=GC(n),t=Et(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),qi(t)}function ly(n,e){const t=e*7;return mn(n,t)}function i9(n,e){return Ir(n,e*12)}function s9(n){let e;return n.forEach(function(t){const i=Fe(t);(e===void 0||e<i||isNaN(Number(i)))&&(e=i)}),e||new Date(NaN)}function a9(n){let e;return n.forEach(t=>{const i=Fe(t);(!e||e>i||isNaN(+i))&&(e=i)}),e||new Date(NaN)}function Pn(n,e){const t=Sl(n),i=Sl(e);return+t==+i}function Ev(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function o9(n){if(!Ev(n)&&typeof n!="number")return!1;const e=Fe(n);return!isNaN(Number(e))}function mu(n,e){const t=Fe(n),i=Fe(e),a=t.getFullYear()-i.getFullYear(),l=t.getMonth()-i.getMonth();return a*12+l}function l9(n,e,t){const i=$n(n,t),a=$n(e,t),l=+i-Al(i),u=+a-Al(a);return Math.round((l-u)/wv)}function Tv(n){const e=Fe(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function Ln(n){const e=Fe(n);return e.setDate(1),e.setHours(0,0,0,0),e}function YC(n){const e=Fe(n),t=Et(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Sv(n,e){const t=ao(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=Fe(n),l=a.getDay(),u=(l<i?-7:0)+6-(l-i);return a.setDate(a.getDate()+u),a.setHours(23,59,59,999),a}function WC(n){return Sv(n,{weekStartsOn:1})}const c9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u9=(n,e,t)=>{let i;const a=c9[n];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function dg(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const d9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m9={date:dg({formats:d9,defaultWidth:"full"}),time:dg({formats:f9,defaultWidth:"full"}),dateTime:dg({formats:h9,defaultWidth:"full"})},p9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g9=(n,e,t,i)=>p9[n];function Gc(n){return(e,t)=>{const i=t?.context?String(t.context):"standalone";let a;if(i==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,h=t?.width?String(t.width):u;a=n.formattingValues[h]||n.formattingValues[u]}else{const u=n.defaultWidth,h=t?.width?String(t.width):n.defaultWidth;a=n.values[h]||n.values[u]}const l=n.argumentCallback?n.argumentCallback(e):e;return a[l]}}const y9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},v9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},b9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},E9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},T9=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},S9={ordinalNumber:T9,era:Gc({values:y9,defaultWidth:"wide"}),quarter:Gc({values:v9,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Gc({values:_9,defaultWidth:"wide"}),day:Gc({values:b9,defaultWidth:"wide"}),dayPeriod:Gc({values:w9,defaultWidth:"wide",formattingValues:E9,defaultFormattingWidth:"wide"})};function Yc(n){return(e,t={})=>{const i=t.width,a=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=e.match(a);if(!l)return null;const u=l[0],h=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(h)?C9(h,_=>_.test(u)):A9(h,_=>_.test(u));let g;g=n.valueCallback?n.valueCallback(m):m,g=t.valueCallback?t.valueCallback(g):g;const y=e.slice(u.length);return{value:g,rest:y}}}function A9(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function C9(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function x9(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const a=i[0],l=e.match(n.parsePattern);if(!l)return null;let u=n.valueCallback?n.valueCallback(l[0]):l[0];u=t.valueCallback?t.valueCallback(u):u;const h=e.slice(a.length);return{value:u,rest:h}}}const R9=/^(\d+)(th|st|nd|rd)?/i,I9=/\d+/i,N9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},D9={any:[/^b/i,/^(a|c)/i]},O9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},M9={any:[/1/i,/2/i,/3/i,/4/i]},k9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},P9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},V9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},L9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},U9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},j9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},z9={ordinalNumber:x9({matchPattern:R9,parsePattern:I9,valueCallback:n=>parseInt(n,10)}),era:Yc({matchPatterns:N9,defaultMatchWidth:"wide",parsePatterns:D9,defaultParseWidth:"any"}),quarter:Yc({matchPatterns:O9,defaultMatchWidth:"wide",parsePatterns:M9,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Yc({matchPatterns:k9,defaultMatchWidth:"wide",parsePatterns:P9,defaultParseWidth:"any"}),day:Yc({matchPatterns:V9,defaultMatchWidth:"wide",parsePatterns:L9,defaultParseWidth:"any"}),dayPeriod:Yc({matchPatterns:U9,defaultMatchWidth:"any",parsePatterns:j9,defaultParseWidth:"any"})},Av={code:"en-US",formatDistance:u9,formatLong:m9,formatRelative:g9,localize:S9,match:z9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function B9(n){const e=Fe(n);return $r(e,YC(e))+1}function Cv(n){const e=Fe(n),t=+qi(e)-+r9(e);return Math.round(t/wv)+1}function xv(n,e){const t=Fe(n),i=t.getFullYear(),a=ao(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=Et(n,0);u.setFullYear(i+1,0,l),u.setHours(0,0,0,0);const h=$n(u,e),m=Et(n,0);m.setFullYear(i,0,l),m.setHours(0,0,0,0);const g=$n(m,e);return t.getTime()>=h.getTime()?i+1:t.getTime()>=g.getTime()?i:i-1}function F9(n,e){const t=ao(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=xv(n,e),l=Et(n,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),$n(l,e)}function Rv(n,e){const t=Fe(n),i=+$n(t,e)-+F9(t,e);return Math.round(i/wv)+1}function dt(n,e){const t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}const Ns={y(n,e){const t=n.getFullYear(),i=t>0?t:1-t;return dt(e==="yy"?i%100:i,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):dt(t+1,2)},d(n,e){return dt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return dt(n.getHours()%12||12,e.length)},H(n,e){return dt(n.getHours(),e.length)},m(n,e){return dt(n.getMinutes(),e.length)},s(n,e){return dt(n.getSeconds(),e.length)},S(n,e){const t=e.length,i=n.getMilliseconds(),a=Math.trunc(i*Math.pow(10,t-3));return dt(a,e.length)}},tl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ST={G:function(n,e,t){const i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const i=n.getFullYear(),a=i>0?i:1-i;return t.ordinalNumber(a,{unit:"year"})}return Ns.y(n,e)},Y:function(n,e,t,i){const a=xv(n,i),l=a>0?a:1-a;if(e==="YY"){const u=l%100;return dt(u,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):dt(l,e.length)},R:function(n,e){const t=GC(n);return dt(t,e.length)},u:function(n,e){const t=n.getFullYear();return dt(t,e.length)},Q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return dt(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return dt(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){const i=n.getMonth();switch(e){case"M":case"MM":return Ns.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){const i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return dt(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){const a=Rv(n,i);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):dt(a,e.length)},I:function(n,e,t){const i=Cv(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):dt(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Ns.d(n,e)},D:function(n,e,t){const i=B9(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):dt(i,e.length)},E:function(n,e,t){const i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){const a=n.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return dt(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){const a=n.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return dt(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const i=n.getDay(),a=i===0?7:i;switch(e){case"i":return String(a);case"ii":return dt(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const i=n.getHours();let a;switch(i===12?a=tl.noon:i===0?a=tl.midnight:a=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const i=n.getHours();let a;switch(i>=17?a=tl.evening:i>=12?a=tl.afternoon:i>=4?a=tl.morning:a=tl.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return Ns.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Ns.H(n,e)},K:function(n,e,t){const i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):dt(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):dt(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Ns.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Ns.s(n,e)},S:function(n,e){return Ns.S(n,e)},X:function(n,e,t){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return CT(i);case"XXXX":case"XX":return ja(i);case"XXXXX":case"XXX":default:return ja(i,":")}},x:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"x":return CT(i);case"xxxx":case"xx":return ja(i);case"xxxxx":case"xxx":default:return ja(i,":")}},O:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+AT(i,":");case"OOOO":default:return"GMT"+ja(i,":")}},z:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+AT(i,":");case"zzzz":default:return"GMT"+ja(i,":")}},t:function(n,e,t){const i=Math.trunc(n.getTime()/1e3);return dt(i,e.length)},T:function(n,e,t){const i=n.getTime();return dt(i,e.length)}};function AT(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),a=Math.trunc(i/60),l=i%60;return l===0?t+String(a):t+String(a)+e+dt(l,2)}function CT(n,e){return n%60===0?(n>0?"-":"+")+dt(Math.abs(n)/60,2):ja(n,e)}function ja(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),a=dt(Math.trunc(i/60),2),l=dt(i%60,2);return t+a+e+l}const xT=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},KC=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},H9=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],i=t[1],a=t[2];if(!a)return xT(n,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",xT(i,e)).replace("{{time}}",KC(a,e))},cy={p:KC,P:H9},q9=/^D+$/,G9=/^Y+$/,Y9=["D","DD","YY","YYYY"];function QC(n){return q9.test(n)}function $C(n){return G9.test(n)}function uy(n,e,t){const i=W9(n,e,t);if(console.warn(i),Y9.includes(n))throw new RangeError(i)}function W9(n,e,t){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const K9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$9=/^'([^]*?)'?$/,X9=/''/g,Z9=/[a-zA-Z]/;function si(n,e,t){const i=ao(),a=t?.locale??i.locale??Av,l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=Fe(n);if(!o9(h))throw new RangeError("Invalid time value");let m=e.match(Q9).map(y=>{const _=y[0];if(_==="p"||_==="P"){const E=cy[_];return E(y,a.formatLong)}return y}).join("").match(K9).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:J9(y)};if(ST[_])return{isToken:!0,value:y};if(_.match(Z9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(m=a.localize.preprocessor(h,m));const g={firstWeekContainsDate:l,weekStartsOn:u,locale:a};return m.map(y=>{if(!y.isToken)return y.value;const _=y.value;(!t?.useAdditionalWeekYearTokens&&$C(_)||!t?.useAdditionalDayOfYearTokens&&QC(_))&&uy(_,e,String(n));const E=ST[_[0]];return E(h,_,a.localize,g)}).join("")}function J9(n){const e=n.match($9);return e?e[1].replace(X9,"'"):n}function eL(n){const e=Fe(n),t=e.getFullYear(),i=e.getMonth(),a=Et(n,0);return a.setFullYear(t,i+1,0),a.setHours(0,0,0,0),a.getDate()}function tL(){return Object.assign({},ao())}function nL(n){let t=Fe(n).getDay();return t===0&&(t=7),t}function rL(n){return Math.trunc(+Fe(n)/1e3)}function iL(n){const e=Fe(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(0,0,0,0),e}function sL(n,e){return l9(iL(n),Ln(n),e)+1}function dy(n,e){const t=Fe(n),i=Fe(e);return t.getTime()>i.getTime()}function XC(n,e){const t=Fe(n),i=Fe(e);return+t<+i}function aL(n,e){const t=e instanceof Date?Et(e,0):new e(0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}const oL=10;class ZC{subPriority=0;validate(e,t){return!0}}class lL extends ZC{constructor(e,t,i,a,l){super(),this.value=e,this.validateValue=t,this.setValue=i,this.priority=a,l&&(this.subPriority=l)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,i){return this.setValue(e,t,this.value,i)}}class cL extends ZC{priority=oL;subPriority=-1;set(e,t){return t.timestampIsSet?e:Et(e,aL(e,Date))}}class at{run(e,t,i,a){const l=this.parse(e,t,i,a);return l?{setter:new lL(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(e,t,i){return!0}}class uL extends at{priority=140;parse(e,t,i){switch(t){case"G":case"GG":case"GGG":return i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"});case"GGGGG":return i.era(e,{width:"narrow"});case"GGGG":default:return i.era(e,{width:"wide"})||i.era(e,{width:"abbreviated"})||i.era(e,{width:"narrow"})}}set(e,t,i){return t.era=i,e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const Ht={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qt(n,e){return n&&{value:e(n.value),rest:n.rest}}function Nt(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Kr(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const i=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,l=t[3]?parseInt(t[3],10):0,u=t[5]?parseInt(t[5],10):0;return{value:i*(a*e9+l*J6+u*t9),rest:e.slice(t[0].length)}}function JC(n){return Nt(Ht.anyDigitsSigned,n)}function Pt(n,e){switch(n){case 1:return Nt(Ht.singleDigit,e);case 2:return Nt(Ht.twoDigits,e);case 3:return Nt(Ht.threeDigits,e);case 4:return Nt(Ht.fourDigits,e);default:return Nt(new RegExp("^\\d{1,"+n+"}"),e)}}function th(n,e){switch(n){case 1:return Nt(Ht.singleDigitSigned,e);case 2:return Nt(Ht.twoDigitsSigned,e);case 3:return Nt(Ht.threeDigitsSigned,e);case 4:return Nt(Ht.fourDigitsSigned,e);default:return Nt(new RegExp("^-?\\d{1,"+n+"}"),e)}}function Iv(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function ex(n,e){const t=e>0,i=t?e:1-e;let a;if(i<=50)a=n||100;else{const l=i+50,u=Math.trunc(l/100)*100,h=n>=l%100;a=n+u-(h?100:0)}return t?a:1-a}function tx(n){return n%400===0||n%4===0&&n%100!==0}class dL extends at{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,i){const a=l=>({year:l,isTwoDigitYear:t==="yy"});switch(t){case"y":return qt(Pt(4,e),a);case"yo":return qt(i.ordinalNumber(e,{unit:"year"}),a);default:return qt(Pt(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,i){const a=e.getFullYear();if(i.isTwoDigitYear){const u=ex(i.year,a);return e.setFullYear(u,0,1),e.setHours(0,0,0,0),e}const l=!("era"in t)||t.era===1?i.year:1-i.year;return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}}class fL extends at{priority=130;parse(e,t,i){const a=l=>({year:l,isTwoDigitYear:t==="YY"});switch(t){case"Y":return qt(Pt(4,e),a);case"Yo":return qt(i.ordinalNumber(e,{unit:"year"}),a);default:return qt(Pt(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,i,a){const l=xv(e,a);if(i.isTwoDigitYear){const h=ex(i.year,l);return e.setFullYear(h,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),$n(e,a)}const u=!("era"in t)||t.era===1?i.year:1-i.year;return e.setFullYear(u,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),$n(e,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class hL extends at{priority=130;parse(e,t){return th(t==="R"?4:t.length,e)}set(e,t,i){const a=Et(e,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),qi(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class mL extends at{priority=130;parse(e,t){return th(t==="u"?4:t.length,e)}set(e,t,i){return e.setFullYear(i,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class pL extends at{priority=120;parse(e,t,i){switch(t){case"Q":case"QQ":return Pt(t.length,e);case"Qo":return i.ordinalNumber(e,{unit:"quarter"});case"QQQ":return i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(e,{width:"wide",context:"formatting"})||i.quarter(e,{width:"abbreviated",context:"formatting"})||i.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,i){return e.setMonth((i-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class gL extends at{priority=120;parse(e,t,i){switch(t){case"q":case"qq":return Pt(t.length,e);case"qo":return i.ordinalNumber(e,{unit:"quarter"});case"qqq":return i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(e,{width:"wide",context:"standalone"})||i.quarter(e,{width:"abbreviated",context:"standalone"})||i.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,i){return e.setMonth((i-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class yL extends at{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,i){const a=l=>l-1;switch(t){case"M":return qt(Nt(Ht.month,e),a);case"MM":return qt(Pt(2,e),a);case"Mo":return qt(i.ordinalNumber(e,{unit:"month"}),a);case"MMM":return i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(e,{width:"wide",context:"formatting"})||i.month(e,{width:"abbreviated",context:"formatting"})||i.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,i){return e.setMonth(i,1),e.setHours(0,0,0,0),e}}class vL extends at{priority=110;parse(e,t,i){const a=l=>l-1;switch(t){case"L":return qt(Nt(Ht.month,e),a);case"LL":return qt(Pt(2,e),a);case"Lo":return qt(i.ordinalNumber(e,{unit:"month"}),a);case"LLL":return i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(e,{width:"wide",context:"standalone"})||i.month(e,{width:"abbreviated",context:"standalone"})||i.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,i){return e.setMonth(i,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function _L(n,e,t){const i=Fe(n),a=Rv(i,t)-e;return i.setDate(i.getDate()-a*7),i}class bL extends at{priority=100;parse(e,t,i){switch(t){case"w":return Nt(Ht.week,e);case"wo":return i.ordinalNumber(e,{unit:"week"});default:return Pt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,i,a){return $n(_L(e,i,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function wL(n,e){const t=Fe(n),i=Cv(t)-e;return t.setDate(t.getDate()-i*7),t}class EL extends at{priority=100;parse(e,t,i){switch(t){case"I":return Nt(Ht.week,e);case"Io":return i.ordinalNumber(e,{unit:"week"});default:return Pt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,i){return qi(wL(e,i))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const TL=[31,28,31,30,31,30,31,31,30,31,30,31],SL=[31,29,31,30,31,30,31,31,30,31,30,31];class AL extends at{priority=90;subPriority=1;parse(e,t,i){switch(t){case"d":return Nt(Ht.date,e);case"do":return i.ordinalNumber(e,{unit:"date"});default:return Pt(t.length,e)}}validate(e,t){const i=e.getFullYear(),a=tx(i),l=e.getMonth();return a?t>=1&&t<=SL[l]:t>=1&&t<=TL[l]}set(e,t,i){return e.setDate(i),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class CL extends at{priority=90;subpriority=1;parse(e,t,i){switch(t){case"D":case"DD":return Nt(Ht.dayOfYear,e);case"Do":return i.ordinalNumber(e,{unit:"date"});default:return Pt(t.length,e)}}validate(e,t){const i=e.getFullYear();return tx(i)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,i){return e.setMonth(0,i),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Nv(n,e,t){const i=ao(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,l=Fe(n),u=l.getDay(),m=(e%7+7)%7,g=7-a,y=e<0||e>6?e-(u+g)%7:(m+g)%7-(u+g)%7;return mn(l,y)}class xL extends at{priority=90;parse(e,t,i){switch(t){case"E":case"EE":case"EEE":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,i,a){return e=Nv(e,i,a),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class RL extends at{priority=90;parse(e,t,i,a){const l=u=>{const h=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+h};switch(t){case"e":case"ee":return qt(Pt(t.length,e),l);case"eo":return qt(i.ordinalNumber(e,{unit:"day"}),l);case"eee":return i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeeee":return i.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,i,a){return e=Nv(e,i,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class IL extends at{priority=90;parse(e,t,i,a){const l=u=>{const h=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+h};switch(t){case"c":case"cc":return qt(Pt(t.length,e),l);case"co":return qt(i.ordinalNumber(e,{unit:"day"}),l);case"ccc":return i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"ccccc":return i.day(e,{width:"narrow",context:"standalone"});case"cccccc":return i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(e,{width:"wide",context:"standalone"})||i.day(e,{width:"abbreviated",context:"standalone"})||i.day(e,{width:"short",context:"standalone"})||i.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,i,a){return e=Nv(e,i,a),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function NL(n,e){const t=Fe(n),i=nL(t),a=e-i;return mn(t,a)}class DL extends at{priority=90;parse(e,t,i){const a=l=>l===0?7:l;switch(t){case"i":case"ii":return Pt(t.length,e);case"io":return i.ordinalNumber(e,{unit:"day"});case"iii":return qt(i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return qt(i.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return qt(i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),a);case"iiii":default:return qt(i.day(e,{width:"wide",context:"formatting"})||i.day(e,{width:"abbreviated",context:"formatting"})||i.day(e,{width:"short",context:"formatting"})||i.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,i){return e=NL(e,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class OL extends at{priority=80;parse(e,t,i){switch(t){case"a":case"aa":case"aaa":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,i){return e.setHours(Iv(i),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class ML extends at{priority=80;parse(e,t,i){switch(t){case"b":case"bb":case"bbb":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,i){return e.setHours(Iv(i),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class kL extends at{priority=80;parse(e,t,i){switch(t){case"B":case"BB":case"BBB":return i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(e,{width:"wide",context:"formatting"})||i.dayPeriod(e,{width:"abbreviated",context:"formatting"})||i.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,i){return e.setHours(Iv(i),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class PL extends at{priority=70;parse(e,t,i){switch(t){case"h":return Nt(Ht.hour12h,e);case"ho":return i.ordinalNumber(e,{unit:"hour"});default:return Pt(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,i){const a=e.getHours()>=12;return a&&i<12?e.setHours(i+12,0,0,0):!a&&i===12?e.setHours(0,0,0,0):e.setHours(i,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class VL extends at{priority=70;parse(e,t,i){switch(t){case"H":return Nt(Ht.hour23h,e);case"Ho":return i.ordinalNumber(e,{unit:"hour"});default:return Pt(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,i){return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class LL extends at{priority=70;parse(e,t,i){switch(t){case"K":return Nt(Ht.hour11h,e);case"Ko":return i.ordinalNumber(e,{unit:"hour"});default:return Pt(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,i){return e.getHours()>=12&&i<12?e.setHours(i+12,0,0,0):e.setHours(i,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class UL extends at{priority=70;parse(e,t,i){switch(t){case"k":return Nt(Ht.hour24h,e);case"ko":return i.ordinalNumber(e,{unit:"hour"});default:return Pt(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,i){const a=i<=24?i%24:i;return e.setHours(a,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class jL extends at{priority=60;parse(e,t,i){switch(t){case"m":return Nt(Ht.minute,e);case"mo":return i.ordinalNumber(e,{unit:"minute"});default:return Pt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,i){return e.setMinutes(i,0,0),e}incompatibleTokens=["t","T"]}class zL extends at{priority=50;parse(e,t,i){switch(t){case"s":return Nt(Ht.second,e);case"so":return i.ordinalNumber(e,{unit:"second"});default:return Pt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,i){return e.setSeconds(i,0),e}incompatibleTokens=["t","T"]}class BL extends at{priority=30;parse(e,t){const i=a=>Math.trunc(a*Math.pow(10,-t.length+3));return qt(Pt(t.length,e),i)}set(e,t,i){return e.setMilliseconds(i),e}incompatibleTokens=["t","T"]}class FL extends at{priority=10;parse(e,t){switch(t){case"X":return Kr(Wr.basicOptionalMinutes,e);case"XX":return Kr(Wr.basic,e);case"XXXX":return Kr(Wr.basicOptionalSeconds,e);case"XXXXX":return Kr(Wr.extendedOptionalSeconds,e);case"XXX":default:return Kr(Wr.extended,e)}}set(e,t,i){return t.timestampIsSet?e:Et(e,e.getTime()-Al(e)-i)}incompatibleTokens=["t","T","x"]}class HL extends at{priority=10;parse(e,t){switch(t){case"x":return Kr(Wr.basicOptionalMinutes,e);case"xx":return Kr(Wr.basic,e);case"xxxx":return Kr(Wr.basicOptionalSeconds,e);case"xxxxx":return Kr(Wr.extendedOptionalSeconds,e);case"xxx":default:return Kr(Wr.extended,e)}}set(e,t,i){return t.timestampIsSet?e:Et(e,e.getTime()-Al(e)-i)}incompatibleTokens=["t","T","X"]}class qL extends at{priority=40;parse(e){return JC(e)}set(e,t,i){return[Et(e,i*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class GL extends at{priority=20;parse(e){return JC(e)}set(e,t,i){return[Et(e,i),{timestampIsSet:!0}]}incompatibleTokens="*"}const YL={G:new uL,y:new dL,Y:new fL,R:new hL,u:new mL,Q:new pL,q:new gL,M:new yL,L:new vL,w:new bL,I:new EL,d:new AL,D:new CL,E:new xL,e:new RL,c:new IL,i:new DL,a:new OL,b:new ML,B:new kL,h:new PL,H:new VL,K:new LL,k:new UL,m:new jL,s:new zL,S:new BL,X:new FL,x:new HL,t:new qL,T:new GL},WL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QL=/^'([^]*?)'?$/,$L=/''/g,XL=/\S/,ZL=/[a-zA-Z]/;function JL(n,e,t,i){const a=tL(),l=a.locale??Av,u=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,h=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,m={firstWeekContainsDate:u,weekStartsOn:h,locale:l},g=[new cL],y=e.match(KL).map(S=>{const N=S[0];if(N in cy){const B=cy[N];return B(S,l.formatLong)}return S}).join("").match(WL),_=[];for(let S of y){$C(S)&&uy(S,e,n),QC(S)&&uy(S,e,n);const N=S[0],B=YL[N];if(B){const{incompatibleTokens:H}=B;if(Array.isArray(H)){const ee=_.find(te=>H.includes(te.token)||te.token===N);if(ee)throw new RangeError(`The format string mustn't contain \`${ee.fullToken}\` and \`${S}\` at the same time`)}else if(B.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);_.push({token:N,fullToken:S});const G=B.run(n,S,l.match,m);if(!G)return Et(t,NaN);g.push(G.setter),n=G.rest}else{if(N.match(ZL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");if(S==="''"?S="'":N==="'"&&(S=e5(S)),n.indexOf(S)===0)n=n.slice(S.length);else return Et(t,NaN)}}if(n.length>0&&XL.test(n))return Et(t,NaN);const E=g.map(S=>S.priority).sort((S,N)=>N-S).filter((S,N,B)=>B.indexOf(S)===N).map(S=>g.filter(N=>N.priority===S).sort((N,B)=>B.subPriority-N.subPriority)).map(S=>S[0]);let C=Fe(t);if(isNaN(C.getTime()))return Et(t,NaN);const D={};for(const S of E){if(!S.validate(C,m))return Et(t,NaN);const N=S.set(C,D,m);Array.isArray(N)?(C=N[0],Object.assign(D,N[1])):C=N}return Et(t,C)}function e5(n){return n.match(QL)[1].replace($L,"'")}function Dv(n,e){const t=Fe(n),i=Fe(e);return t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()}function t5(n,e){const t=Fe(n),i=Fe(e);return t.getFullYear()===i.getFullYear()}function fg(n,e){return mn(n,-e)}function hg(n,e){const t=Fe(n),i=t.getFullYear(),a=t.getDate(),l=Et(n,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const u=eL(l);return t.setMonth(e,Math.min(a,u)),t}function RT(n,e){const t=Fe(n);return isNaN(+t)?Et(n,NaN):(t.setFullYear(e),t)}function n5(n){const e=n.getMonth(),t=n.getDate();return e===9&&t>=11?["8:00","9:15","10:30","12:00","13:30","14:45","16:00"]:e===10?["8:00","9:15","10:30","12:00","13:30","14:45","16:00"]:e===11||e===0?["8:30","9:45","11:00","12:15","13:45","15:00"]:e===1?["8:00","9:15","10:30","12:00","13:30","14:45","16:00"]:e===2?["7:30","8:30","9:45","11:00","12:15","13:45","15:00","16:00"]:e>=3&&(e<9||e===9&&t<=10)?["7:30","8:30","9:45","11:00","12:30","14:00","15:30","16:45"]:["7:30","8:30","9:45","11:00","12:30","14:00","15:30","16:45"]}function r5(n,e){return R.useReducer((t,i)=>e[t][i]??t,n)}var Ov=n=>{const{present:e,children:t}=n,i=i5(e),a=typeof t=="function"?t({present:i.isPresent}):R.Children.only(t),l=Xt(i.ref,s5(a));return typeof t=="function"||i.isPresent?R.cloneElement(a,{ref:l}):null};Ov.displayName="Presence";function i5(n){const[e,t]=R.useState(),i=R.useRef(null),a=R.useRef(n),l=R.useRef("none"),u=n?"mounted":"unmounted",[h,m]=r5(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const g=ff(i.current);l.current=h==="mounted"?g:"none"},[h]),An(()=>{const g=i.current,y=a.current;if(y!==n){const E=l.current,C=ff(g);n?m("MOUNT"):C==="none"||g?.display==="none"?m("UNMOUNT"):m(y&&E!==C?"ANIMATION_OUT":"UNMOUNT"),a.current=n}},[n,m]),An(()=>{if(e){let g;const y=e.ownerDocument.defaultView??window,_=C=>{const S=ff(i.current).includes(CSS.escape(C.animationName));if(C.target===e&&S&&(m("ANIMATION_END"),!a.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",g=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},E=C=>{C.target===e&&(l.current=ff(i.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{y.clearTimeout(g),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:R.useCallback(g=>{i.current=g?getComputedStyle(g):null,t(g)},[])}}function ff(n){return n?.animationName||"none"}function s5(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Mh="Popover",[nx]=Eh(Mh,[Rh]),Ru=Rh(),[a5,ea]=nx(Mh),rx=n=>{const{__scopePopover:e,children:t,open:i,defaultOpen:a,onOpenChange:l,modal:u=!1}=n,h=Ru(e),m=R.useRef(null),[g,y]=R.useState(!1),[_,E]=Jg({prop:i,defaultProp:a??!1,onChange:l,caller:Mh});return A.jsx(KA,{...h,children:A.jsx(a5,{scope:e,contentId:Th(),triggerRef:m,open:_,onOpenChange:E,onOpenToggle:R.useCallback(()=>E(C=>!C),[E]),hasCustomAnchor:g,onCustomAnchorAdd:R.useCallback(()=>y(!0),[]),onCustomAnchorRemove:R.useCallback(()=>y(!1),[]),modal:u,children:t})})};rx.displayName=Mh;var ix="PopoverAnchor",o5=R.forwardRef((n,e)=>{const{__scopePopover:t,...i}=n,a=ea(ix,t),l=Ru(t),{onCustomAnchorAdd:u,onCustomAnchorRemove:h}=a;return R.useEffect(()=>(u(),()=>h()),[u,h]),A.jsx(gv,{...l,...i,ref:e})});o5.displayName=ix;var sx="PopoverTrigger",ax=R.forwardRef((n,e)=>{const{__scopePopover:t,...i}=n,a=ea(sx,t),l=Ru(t),u=Xt(e,a.triggerRef),h=A.jsx(Ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":dx(a.open),...i,ref:u,onClick:At(n.onClick,a.onOpenToggle)});return a.hasCustomAnchor?h:A.jsx(gv,{asChild:!0,...l,children:h})});ax.displayName=sx;var Mv="PopoverPortal",[l5,c5]=nx(Mv,{forceMount:void 0}),ox=n=>{const{__scopePopover:e,forceMount:t,children:i,container:a}=n,l=ea(Mv,e);return A.jsx(l5,{scope:e,forceMount:t,children:A.jsx(Ov,{present:t||l.open,children:A.jsx(yv,{asChild:!0,container:a,children:i})})})};ox.displayName=Mv;var Cl="PopoverContent",lx=R.forwardRef((n,e)=>{const t=c5(Cl,n.__scopePopover),{forceMount:i=t.forceMount,...a}=n,l=ea(Cl,n.__scopePopover);return A.jsx(Ov,{present:i||l.open,children:l.modal?A.jsx(d5,{...a,ref:e}):A.jsx(f5,{...a,ref:e})})});lx.displayName=Cl;var u5=El("PopoverContent.RemoveScroll"),d5=R.forwardRef((n,e)=>{const t=ea(Cl,n.__scopePopover),i=R.useRef(null),a=Xt(e,i),l=R.useRef(!1);return R.useEffect(()=>{const u=i.current;if(u)return JA(u)},[]),A.jsx(vv,{as:u5,allowPinchZoom:!0,children:A.jsx(cx,{...n,ref:a,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:At(n.onCloseAutoFocus,u=>{u.preventDefault(),l.current||t.triggerRef.current?.focus()}),onPointerDownOutside:At(n.onPointerDownOutside,u=>{const h=u.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0,g=h.button===2||m;l.current=g},{checkForDefaultPrevented:!1}),onFocusOutside:At(n.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),f5=R.forwardRef((n,e)=>{const t=ea(Cl,n.__scopePopover),i=R.useRef(!1),a=R.useRef(!1);return A.jsx(cx,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{n.onCloseAutoFocus?.(l),l.defaultPrevented||(i.current||t.triggerRef.current?.focus(),l.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:l=>{n.onInteractOutside?.(l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=l.target;t.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),cx=R.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:y,..._}=n,E=ea(Cl,t),C=Ru(t);return AA(),A.jsx(ov,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:l,children:A.jsx(av,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:y,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:g,onDismiss:()=>E.onOpenChange(!1),children:A.jsx(QA,{"data-state":dx(E.open),role:"dialog",id:E.contentId,...C,..._,ref:e,style:{..._.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ux="PopoverClose",h5=R.forwardRef((n,e)=>{const{__scopePopover:t,...i}=n,a=ea(ux,t);return A.jsx(Ot.button,{type:"button",...i,ref:e,onClick:At(n.onClick,()=>a.onOpenChange(!1))})});h5.displayName=ux;var m5="PopoverArrow",p5=R.forwardRef((n,e)=>{const{__scopePopover:t,...i}=n,a=Ru(t);return A.jsx($A,{...a,...i,ref:e})});p5.displayName=m5;function dx(n){return n?"open":"closed"}var g5=rx,y5=ax,v5=ox,fx=lx;const _5=g5,b5=y5,hx=R.forwardRef(({className:n,align:e="center",sideOffset:t=4,...i},a)=>A.jsx(v5,{children:A.jsx(fx,{ref:a,align:e,sideOffset:t,className:Vn("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...i})}));hx.displayName=fx.displayName;var ke=function(){return ke=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},ke.apply(this,arguments)};function w5(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function mx(n,e,t){for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}function Iu(n){return n.mode==="multiple"}function Nu(n){return n.mode==="range"}function kh(n){return n.mode==="single"}var E5={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function T5(n,e){return si(n,"LLLL y",e)}function S5(n,e){return si(n,"d",e)}function A5(n,e){return si(n,"LLLL",e)}function C5(n){return"".concat(n)}function x5(n,e){return si(n,"cccccc",e)}function R5(n,e){return si(n,"yyyy",e)}var I5=Object.freeze({__proto__:null,formatCaption:T5,formatDay:S5,formatMonthCaption:A5,formatWeekNumber:C5,formatWeekdayName:x5,formatYearCaption:R5}),N5=function(n,e,t){return si(n,"do MMMM (EEEE)",t)},D5=function(){return"Month: "},O5=function(){return"Go to next month"},M5=function(){return"Go to previous month"},k5=function(n,e){return si(n,"cccc",e)},P5=function(n){return"Week n. ".concat(n)},V5=function(){return"Year: "},L5=Object.freeze({__proto__:null,labelDay:N5,labelMonthDropdown:D5,labelNext:O5,labelPrevious:M5,labelWeekNumber:P5,labelWeekday:k5,labelYearDropdown:V5});function U5(){var n="buttons",e=E5,t=Av,i={},a={},l=1,u={},h=new Date;return{captionLayout:n,classNames:e,formatters:I5,labels:L5,locale:t,modifiersClassNames:i,modifiers:a,numberOfMonths:l,styles:u,today:h,mode:"default"}}function j5(n){var e=n.fromYear,t=n.toYear,i=n.fromMonth,a=n.toMonth,l=n.fromDate,u=n.toDate;return i?l=Ln(i):e&&(l=new Date(e,0,1)),a?u=Tv(a):t&&(u=new Date(t,11,31)),{fromDate:l?Sl(l):void 0,toDate:u?Sl(u):void 0}}var px=R.createContext(void 0);function z5(n){var e,t=n.initialProps,i=U5(),a=j5(t),l=a.fromDate,u=a.toDate,h=(e=t.captionLayout)!==null&&e!==void 0?e:i.captionLayout;h!=="buttons"&&(!l||!u)&&(h="buttons");var m;(kh(t)||Iu(t)||Nu(t))&&(m=t.onSelect);var g=ke(ke(ke({},i),t),{captionLayout:h,classNames:ke(ke({},i.classNames),t.classNames),components:ke({},t.components),formatters:ke(ke({},i.formatters),t.formatters),fromDate:l,labels:ke(ke({},i.labels),t.labels),mode:t.mode||i.mode,modifiers:ke(ke({},i.modifiers),t.modifiers),modifiersClassNames:ke(ke({},i.modifiersClassNames),t.modifiersClassNames),onSelect:m,styles:ke(ke({},i.styles),t.styles),toDate:u});return A.jsx(px.Provider,{value:g,children:n.children})}function Tt(){var n=R.useContext(px);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}function gx(n){var e=Tt(),t=e.locale,i=e.classNames,a=e.styles,l=e.formatters.formatCaption;return A.jsx("div",{className:i.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:n.id,children:l(n.displayMonth,{locale:t})})}function B5(n){return A.jsx("svg",ke({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},n,{children:A.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function yx(n){var e,t,i=n.onChange,a=n.value,l=n.children,u=n.caption,h=n.className,m=n.style,g=Tt(),y=(t=(e=g.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&t!==void 0?t:B5;return A.jsxs("div",{className:h,style:m,children:[A.jsx("span",{className:g.classNames.vhidden,children:n["aria-label"]}),A.jsx("select",{name:n.name,"aria-label":n["aria-label"],className:g.classNames.dropdown,style:g.styles.dropdown,value:a,onChange:i,children:l}),A.jsxs("div",{className:g.classNames.caption_label,style:g.styles.caption_label,"aria-hidden":"true",children:[u,A.jsx(y,{className:g.classNames.dropdown_icon,style:g.styles.dropdown_icon})]})]})}function F5(n){var e,t=Tt(),i=t.fromDate,a=t.toDate,l=t.styles,u=t.locale,h=t.formatters.formatMonthCaption,m=t.classNames,g=t.components,y=t.labels.labelMonthDropdown;if(!i)return A.jsx(A.Fragment,{});if(!a)return A.jsx(A.Fragment,{});var _=[];if(t5(i,a))for(var E=Ln(i),C=i.getMonth();C<=a.getMonth();C++)_.push(hg(E,C));else for(var E=Ln(new Date),C=0;C<=11;C++)_.push(hg(E,C));var D=function(N){var B=Number(N.target.value),H=hg(Ln(n.displayMonth),B);n.onChange(H)},S=(e=g?.Dropdown)!==null&&e!==void 0?e:yx;return A.jsx(S,{name:"months","aria-label":y(),className:m.dropdown_month,style:l.dropdown_month,onChange:D,value:n.displayMonth.getMonth(),caption:h(n.displayMonth,{locale:u}),children:_.map(function(N){return A.jsx("option",{value:N.getMonth(),children:h(N,{locale:u})},N.getMonth())})})}function H5(n){var e,t=n.displayMonth,i=Tt(),a=i.fromDate,l=i.toDate,u=i.locale,h=i.styles,m=i.classNames,g=i.components,y=i.formatters.formatYearCaption,_=i.labels.labelYearDropdown,E=[];if(!a)return A.jsx(A.Fragment,{});if(!l)return A.jsx(A.Fragment,{});for(var C=a.getFullYear(),D=l.getFullYear(),S=C;S<=D;S++)E.push(RT(YC(new Date),S));var N=function(H){var G=RT(Ln(t),Number(H.target.value));n.onChange(G)},B=(e=g?.Dropdown)!==null&&e!==void 0?e:yx;return A.jsx(B,{name:"years","aria-label":_(),className:m.dropdown_year,style:h.dropdown_year,onChange:N,value:t.getFullYear(),caption:y(t,{locale:u}),children:E.map(function(H){return A.jsx("option",{value:H.getFullYear(),children:y(H,{locale:u})},H.getFullYear())})})}function q5(n,e){var t=R.useState(n),i=t[0],a=t[1],l=e===void 0?i:e;return[l,a]}function G5(n){var e=n.month,t=n.defaultMonth,i=n.today,a=e||t||i||new Date,l=n.toDate,u=n.fromDate,h=n.numberOfMonths,m=h===void 0?1:h;if(l&&mu(l,a)<0){var g=-1*(m-1);a=Ir(l,g)}return u&&mu(a,u)<0&&(a=u),Ln(a)}function Y5(){var n=Tt(),e=G5(n),t=q5(e,n.month),i=t[0],a=t[1],l=function(u){var h;if(!n.disableNavigation){var m=Ln(u);a(m),(h=n.onMonthChange)===null||h===void 0||h.call(n,m)}};return[i,l]}function W5(n,e){for(var t=e.reverseMonths,i=e.numberOfMonths,a=Ln(n),l=Ln(Ir(a,i)),u=mu(l,a),h=[],m=0;m<u;m++){var g=Ir(a,m);h.push(g)}return t&&(h=h.reverse()),h}function K5(n,e){if(!e.disableNavigation){var t=e.toDate,i=e.pagedNavigation,a=e.numberOfMonths,l=a===void 0?1:a,u=i?l:1,h=Ln(n);if(!t)return Ir(h,u);var m=mu(t,n);if(!(m<l))return Ir(h,u)}}function Q5(n,e){if(!e.disableNavigation){var t=e.fromDate,i=e.pagedNavigation,a=e.numberOfMonths,l=a===void 0?1:a,u=i?l:1,h=Ln(n);if(!t)return Ir(h,-u);var m=mu(h,t);if(!(m<=0))return Ir(h,-u)}}var vx=R.createContext(void 0);function $5(n){var e=Tt(),t=Y5(),i=t[0],a=t[1],l=W5(i,e),u=K5(i,e),h=Q5(i,e),m=function(_){return l.some(function(E){return Dv(_,E)})},g=function(_,E){m(_)||(E&&XC(_,E)?a(Ir(_,1+e.numberOfMonths*-1)):a(_))},y={currentMonth:i,displayMonths:l,goToMonth:a,goToDate:g,previousMonth:h,nextMonth:u,isDateDisplayed:m};return A.jsx(vx.Provider,{value:y,children:n.children})}function Du(){var n=R.useContext(vx);if(!n)throw new Error("useNavigation must be used within a NavigationProvider");return n}function IT(n){var e,t=Tt(),i=t.classNames,a=t.styles,l=t.components,u=Du().goToMonth,h=function(y){u(Ir(y,n.displayIndex?-n.displayIndex:0))},m=(e=l?.CaptionLabel)!==null&&e!==void 0?e:gx,g=A.jsx(m,{id:n.id,displayMonth:n.displayMonth});return A.jsxs("div",{className:i.caption_dropdowns,style:a.caption_dropdowns,children:[A.jsx("div",{className:i.vhidden,children:g}),A.jsx(F5,{onChange:h,displayMonth:n.displayMonth}),A.jsx(H5,{onChange:h,displayMonth:n.displayMonth})]})}function X5(n){return A.jsx("svg",ke({width:"16px",height:"16px",viewBox:"0 0 120 120"},n,{children:A.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Z5(n){return A.jsx("svg",ke({width:"16px",height:"16px",viewBox:"0 0 120 120"},n,{children:A.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var nh=R.forwardRef(function(n,e){var t=Tt(),i=t.classNames,a=t.styles,l=[i.button_reset,i.button];n.className&&l.push(n.className);var u=l.join(" "),h=ke(ke({},a.button_reset),a.button);return n.style&&Object.assign(h,n.style),A.jsx("button",ke({},n,{ref:e,type:"button",className:u,style:h}))});function J5(n){var e,t,i=Tt(),a=i.dir,l=i.locale,u=i.classNames,h=i.styles,m=i.labels,g=m.labelPrevious,y=m.labelNext,_=i.components;if(!n.nextMonth&&!n.previousMonth)return A.jsx(A.Fragment,{});var E=g(n.previousMonth,{locale:l}),C=[u.nav_button,u.nav_button_previous].join(" "),D=y(n.nextMonth,{locale:l}),S=[u.nav_button,u.nav_button_next].join(" "),N=(e=_?.IconRight)!==null&&e!==void 0?e:Z5,B=(t=_?.IconLeft)!==null&&t!==void 0?t:X5;return A.jsxs("div",{className:u.nav,style:h.nav,children:[!n.hidePrevious&&A.jsx(nh,{name:"previous-month","aria-label":E,className:C,style:h.nav_button_previous,disabled:!n.previousMonth,onClick:n.onPreviousClick,children:a==="rtl"?A.jsx(N,{className:u.nav_icon,style:h.nav_icon}):A.jsx(B,{className:u.nav_icon,style:h.nav_icon})}),!n.hideNext&&A.jsx(nh,{name:"next-month","aria-label":D,className:S,style:h.nav_button_next,disabled:!n.nextMonth,onClick:n.onNextClick,children:a==="rtl"?A.jsx(B,{className:u.nav_icon,style:h.nav_icon}):A.jsx(N,{className:u.nav_icon,style:h.nav_icon})})]})}function NT(n){var e=Tt().numberOfMonths,t=Du(),i=t.previousMonth,a=t.nextMonth,l=t.goToMonth,u=t.displayMonths,h=u.findIndex(function(D){return Dv(n.displayMonth,D)}),m=h===0,g=h===u.length-1,y=e>1&&(m||!g),_=e>1&&(g||!m),E=function(){i&&l(i)},C=function(){a&&l(a)};return A.jsx(J5,{displayMonth:n.displayMonth,hideNext:y,hidePrevious:_,nextMonth:a,previousMonth:i,onPreviousClick:E,onNextClick:C})}function eU(n){var e,t=Tt(),i=t.classNames,a=t.disableNavigation,l=t.styles,u=t.captionLayout,h=t.components,m=(e=h?.CaptionLabel)!==null&&e!==void 0?e:gx,g;return a?g=A.jsx(m,{id:n.id,displayMonth:n.displayMonth}):u==="dropdown"?g=A.jsx(IT,{displayMonth:n.displayMonth,id:n.id}):u==="dropdown-buttons"?g=A.jsxs(A.Fragment,{children:[A.jsx(IT,{displayMonth:n.displayMonth,displayIndex:n.displayIndex,id:n.id}),A.jsx(NT,{displayMonth:n.displayMonth,displayIndex:n.displayIndex,id:n.id})]}):g=A.jsxs(A.Fragment,{children:[A.jsx(m,{id:n.id,displayMonth:n.displayMonth,displayIndex:n.displayIndex}),A.jsx(NT,{displayMonth:n.displayMonth,id:n.id})]}),A.jsx("div",{className:i.caption,style:l.caption,children:g})}function tU(n){var e=Tt(),t=e.footer,i=e.styles,a=e.classNames.tfoot;return t?A.jsx("tfoot",{className:a,style:i.tfoot,children:A.jsx("tr",{children:A.jsx("td",{colSpan:8,children:t})})}):A.jsx(A.Fragment,{})}function nU(n,e,t){for(var i=t?qi(new Date):$n(new Date,{locale:n,weekStartsOn:e}),a=[],l=0;l<7;l++){var u=mn(i,l);a.push(u)}return a}function rU(){var n=Tt(),e=n.classNames,t=n.styles,i=n.showWeekNumber,a=n.locale,l=n.weekStartsOn,u=n.ISOWeek,h=n.formatters.formatWeekdayName,m=n.labels.labelWeekday,g=nU(a,l,u);return A.jsxs("tr",{style:t.head_row,className:e.head_row,children:[i&&A.jsx("td",{style:t.head_cell,className:e.head_cell}),g.map(function(y,_){return A.jsx("th",{scope:"col",className:e.head_cell,style:t.head_cell,"aria-label":m(y,{locale:a}),children:h(y,{locale:a})},_)})]})}function iU(){var n,e=Tt(),t=e.classNames,i=e.styles,a=e.components,l=(n=a?.HeadRow)!==null&&n!==void 0?n:rU;return A.jsx("thead",{style:i.head,className:t.head,children:A.jsx(l,{})})}function sU(n){var e=Tt(),t=e.locale,i=e.formatters.formatDay;return A.jsx(A.Fragment,{children:i(n.date,{locale:t})})}var kv=R.createContext(void 0);function aU(n){if(!Iu(n.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return A.jsx(kv.Provider,{value:e,children:n.children})}return A.jsx(oU,{initialProps:n.initialProps,children:n.children})}function oU(n){var e=n.initialProps,t=n.children,i=e.selected,a=e.min,l=e.max,u=function(g,y,_){var E,C;(E=e.onDayClick)===null||E===void 0||E.call(e,g,y,_);var D=!!(y.selected&&a&&i?.length===a);if(!D){var S=!!(!y.selected&&l&&i?.length===l);if(!S){var N=i?mx([],i):[];if(y.selected){var B=N.findIndex(function(H){return Pn(g,H)});N.splice(B,1)}else N.push(g);(C=e.onSelect)===null||C===void 0||C.call(e,N,g,y,_)}}},h={disabled:[]};i&&h.disabled.push(function(g){var y=l&&i.length>l-1,_=i.some(function(E){return Pn(E,g)});return!!(y&&!_)});var m={selected:i,onDayClick:u,modifiers:h};return A.jsx(kv.Provider,{value:m,children:t})}function Pv(){var n=R.useContext(kv);if(!n)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return n}function lU(n,e){var t=e||{},i=t.from,a=t.to;return i&&a?Pn(a,n)&&Pn(i,n)?void 0:Pn(a,n)?{from:a,to:void 0}:Pn(i,n)?void 0:dy(i,n)?{from:n,to:a}:{from:i,to:n}:a?dy(n,a)?{from:a,to:n}:{from:n,to:a}:i?XC(n,i)?{from:n,to:i}:{from:i,to:n}:{from:n,to:void 0}}var Vv=R.createContext(void 0);function cU(n){if(!Nu(n.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return A.jsx(Vv.Provider,{value:e,children:n.children})}return A.jsx(uU,{initialProps:n.initialProps,children:n.children})}function uU(n){var e=n.initialProps,t=n.children,i=e.selected,a=i||{},l=a.from,u=a.to,h=e.min,m=e.max,g=function(C,D,S){var N,B;(N=e.onDayClick)===null||N===void 0||N.call(e,C,D,S);var H=lU(C,i);(B=e.onSelect)===null||B===void 0||B.call(e,H,C,D,S)},y={range_start:[],range_end:[],range_middle:[],disabled:[]};if(l?(y.range_start=[l],u?(y.range_end=[u],Pn(l,u)||(y.range_middle=[{after:l,before:u}])):y.range_end=[l]):u&&(y.range_start=[u],y.range_end=[u]),h&&(l&&!u&&y.disabled.push({after:fg(l,h-1),before:mn(l,h-1)}),l&&u&&y.disabled.push({after:l,before:mn(l,h-1)}),!l&&u&&y.disabled.push({after:fg(u,h-1),before:mn(u,h-1)})),m){if(l&&!u&&(y.disabled.push({before:mn(l,-m+1)}),y.disabled.push({after:mn(l,m-1)})),l&&u){var _=$r(u,l)+1,E=m-_;y.disabled.push({before:fg(l,E)}),y.disabled.push({after:mn(u,E)})}!l&&u&&(y.disabled.push({before:mn(u,-m+1)}),y.disabled.push({after:mn(u,m-1)}))}return A.jsx(Vv.Provider,{value:{selected:i,onDayClick:g,modifiers:y},children:t})}function Lv(){var n=R.useContext(Vv);if(!n)throw new Error("useSelectRange must be used within a SelectRangeProvider");return n}function xf(n){return Array.isArray(n)?mx([],n):n!==void 0?[n]:[]}function dU(n){var e={};return Object.entries(n).forEach(function(t){var i=t[0],a=t[1];e[i]=xf(a)}),e}var Nr;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(Nr||(Nr={}));var fU=Nr.Selected,Mi=Nr.Disabled,hU=Nr.Hidden,mU=Nr.Today,mg=Nr.RangeEnd,pg=Nr.RangeMiddle,gg=Nr.RangeStart,pU=Nr.Outside;function gU(n,e,t){var i,a=(i={},i[fU]=xf(n.selected),i[Mi]=xf(n.disabled),i[hU]=xf(n.hidden),i[mU]=[n.today],i[mg]=[],i[pg]=[],i[gg]=[],i[pU]=[],i);return n.fromDate&&a[Mi].push({before:n.fromDate}),n.toDate&&a[Mi].push({after:n.toDate}),Iu(n)?a[Mi]=a[Mi].concat(e.modifiers[Mi]):Nu(n)&&(a[Mi]=a[Mi].concat(t.modifiers[Mi]),a[gg]=t.modifiers[gg],a[pg]=t.modifiers[pg],a[mg]=t.modifiers[mg]),a}var _x=R.createContext(void 0);function yU(n){var e=Tt(),t=Pv(),i=Lv(),a=gU(e,t,i),l=dU(e.modifiers),u=ke(ke({},a),l);return A.jsx(_x.Provider,{value:u,children:n.children})}function bx(){var n=R.useContext(_x);if(!n)throw new Error("useModifiers must be used within a ModifiersProvider");return n}function vU(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function _U(n){return!!(n&&typeof n=="object"&&"from"in n)}function bU(n){return!!(n&&typeof n=="object"&&"after"in n)}function wU(n){return!!(n&&typeof n=="object"&&"before"in n)}function EU(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function TU(n,e){var t,i=e.from,a=e.to;if(i&&a){var l=$r(a,i)<0;l&&(t=[a,i],i=t[0],a=t[1]);var u=$r(n,i)>=0&&$r(a,n)>=0;return u}return a?Pn(a,n):i?Pn(i,n):!1}function SU(n){return Ev(n)}function AU(n){return Array.isArray(n)&&n.every(Ev)}function CU(n,e){return e.some(function(t){if(typeof t=="boolean")return t;if(SU(t))return Pn(n,t);if(AU(t))return t.includes(n);if(_U(t))return TU(n,t);if(EU(t))return t.dayOfWeek.includes(n.getDay());if(vU(t)){var i=$r(t.before,n),a=$r(t.after,n),l=i>0,u=a<0,h=dy(t.before,t.after);return h?u&&l:l||u}return bU(t)?$r(n,t.after)>0:wU(t)?$r(t.before,n)>0:typeof t=="function"?t(n):!1})}function Uv(n,e,t){var i=Object.keys(e).reduce(function(l,u){var h=e[u];return CU(n,h)&&l.push(u),l},[]),a={};return i.forEach(function(l){return a[l]=!0}),t&&!Dv(n,t)&&(a.outside=!0),a}function xU(n,e){for(var t=Ln(n[0]),i=Tv(n[n.length-1]),a,l,u=t;u<=i;){var h=Uv(u,e),m=!h.disabled&&!h.hidden;if(!m){u=mn(u,1);continue}if(h.selected)return u;h.today&&!l&&(l=u),a||(a=u),u=mn(u,1)}return l||a}var RU=365;function wx(n,e){var t=e.moveBy,i=e.direction,a=e.context,l=e.modifiers,u=e.retry,h=u===void 0?{count:0,lastFocused:n}:u,m=a.weekStartsOn,g=a.fromDate,y=a.toDate,_=a.locale,E={day:mn,week:ly,month:Ir,year:i9,startOfWeek:function(N){return a.ISOWeek?qi(N):$n(N,{locale:_,weekStartsOn:m})},endOfWeek:function(N){return a.ISOWeek?WC(N):Sv(N,{locale:_,weekStartsOn:m})}},C=E[t](n,i==="after"?1:-1);i==="before"&&g?C=s9([g,C]):i==="after"&&y&&(C=a9([y,C]));var D=!0;if(l){var S=Uv(C,l);D=!S.disabled&&!S.hidden}return D?C:h.count>RU?h.lastFocused:wx(C,{moveBy:t,direction:i,context:a,modifiers:l,retry:ke(ke({},h),{count:h.count+1})})}var Ex=R.createContext(void 0);function IU(n){var e=Du(),t=bx(),i=R.useState(),a=i[0],l=i[1],u=R.useState(),h=u[0],m=u[1],g=xU(e.displayMonths,t),y=a??(h&&e.isDateDisplayed(h))?h:g,_=function(){m(a),l(void 0)},E=function(N){l(N)},C=Tt(),D=function(N,B){if(a){var H=wx(a,{moveBy:N,direction:B,context:C,modifiers:t});Pn(a,H)||(e.goToDate(H,a),E(H))}},S={focusedDay:a,focusTarget:y,blur:_,focus:E,focusDayAfter:function(){return D("day","after")},focusDayBefore:function(){return D("day","before")},focusWeekAfter:function(){return D("week","after")},focusWeekBefore:function(){return D("week","before")},focusMonthBefore:function(){return D("month","before")},focusMonthAfter:function(){return D("month","after")},focusYearBefore:function(){return D("year","before")},focusYearAfter:function(){return D("year","after")},focusStartOfWeek:function(){return D("startOfWeek","before")},focusEndOfWeek:function(){return D("endOfWeek","after")}};return A.jsx(Ex.Provider,{value:S,children:n.children})}function jv(){var n=R.useContext(Ex);if(!n)throw new Error("useFocusContext must be used within a FocusProvider");return n}function NU(n,e){var t=bx(),i=Uv(n,t,e);return i}var zv=R.createContext(void 0);function DU(n){if(!kh(n.initialProps)){var e={selected:void 0};return A.jsx(zv.Provider,{value:e,children:n.children})}return A.jsx(OU,{initialProps:n.initialProps,children:n.children})}function OU(n){var e=n.initialProps,t=n.children,i=function(l,u,h){var m,g,y;if((m=e.onDayClick)===null||m===void 0||m.call(e,l,u,h),u.selected&&!e.required){(g=e.onSelect)===null||g===void 0||g.call(e,void 0,l,u,h);return}(y=e.onSelect)===null||y===void 0||y.call(e,l,l,u,h)},a={selected:e.selected,onDayClick:i};return A.jsx(zv.Provider,{value:a,children:t})}function Tx(){var n=R.useContext(zv);if(!n)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return n}function MU(n,e){var t=Tt(),i=Tx(),a=Pv(),l=Lv(),u=jv(),h=u.focusDayAfter,m=u.focusDayBefore,g=u.focusWeekAfter,y=u.focusWeekBefore,_=u.blur,E=u.focus,C=u.focusMonthBefore,D=u.focusMonthAfter,S=u.focusYearBefore,N=u.focusYearAfter,B=u.focusStartOfWeek,H=u.focusEndOfWeek,G=function(K){var z,ve,V,re;kh(t)?(z=i.onDayClick)===null||z===void 0||z.call(i,n,e,K):Iu(t)?(ve=a.onDayClick)===null||ve===void 0||ve.call(a,n,e,K):Nu(t)?(V=l.onDayClick)===null||V===void 0||V.call(l,n,e,K):(re=t.onDayClick)===null||re===void 0||re.call(t,n,e,K)},ee=function(K){var z;E(n),(z=t.onDayFocus)===null||z===void 0||z.call(t,n,e,K)},te=function(K){var z;_(),(z=t.onDayBlur)===null||z===void 0||z.call(t,n,e,K)},le=function(K){var z;(z=t.onDayMouseEnter)===null||z===void 0||z.call(t,n,e,K)},O=function(K){var z;(z=t.onDayMouseLeave)===null||z===void 0||z.call(t,n,e,K)},x=function(K){var z;(z=t.onDayPointerEnter)===null||z===void 0||z.call(t,n,e,K)},M=function(K){var z;(z=t.onDayPointerLeave)===null||z===void 0||z.call(t,n,e,K)},U=function(K){var z;(z=t.onDayTouchCancel)===null||z===void 0||z.call(t,n,e,K)},L=function(K){var z;(z=t.onDayTouchEnd)===null||z===void 0||z.call(t,n,e,K)},j=function(K){var z;(z=t.onDayTouchMove)===null||z===void 0||z.call(t,n,e,K)},k=function(K){var z;(z=t.onDayTouchStart)===null||z===void 0||z.call(t,n,e,K)},_e=function(K){var z;(z=t.onDayKeyUp)===null||z===void 0||z.call(t,n,e,K)},Se=function(K){var z;switch(K.key){case"ArrowLeft":K.preventDefault(),K.stopPropagation(),t.dir==="rtl"?h():m();break;case"ArrowRight":K.preventDefault(),K.stopPropagation(),t.dir==="rtl"?m():h();break;case"ArrowDown":K.preventDefault(),K.stopPropagation(),g();break;case"ArrowUp":K.preventDefault(),K.stopPropagation(),y();break;case"PageUp":K.preventDefault(),K.stopPropagation(),K.shiftKey?S():C();break;case"PageDown":K.preventDefault(),K.stopPropagation(),K.shiftKey?N():D();break;case"Home":K.preventDefault(),K.stopPropagation(),B();break;case"End":K.preventDefault(),K.stopPropagation(),H();break}(z=t.onDayKeyDown)===null||z===void 0||z.call(t,n,e,K)},Y={onClick:G,onFocus:ee,onBlur:te,onKeyDown:Se,onKeyUp:_e,onMouseEnter:le,onMouseLeave:O,onPointerEnter:x,onPointerLeave:M,onTouchCancel:U,onTouchEnd:L,onTouchMove:j,onTouchStart:k};return Y}function kU(){var n=Tt(),e=Tx(),t=Pv(),i=Lv(),a=kh(n)?e.selected:Iu(n)?t.selected:Nu(n)?i.selected:void 0;return a}function PU(n){return Object.values(Nr).includes(n)}function VU(n,e){var t=[n.classNames.day];return Object.keys(e).forEach(function(i){var a=n.modifiersClassNames[i];if(a)t.push(a);else if(PU(i)){var l=n.classNames["day_".concat(i)];l&&t.push(l)}}),t}function LU(n,e){var t=ke({},n.styles.day);return Object.keys(e).forEach(function(i){var a;t=ke(ke({},t),(a=n.modifiersStyles)===null||a===void 0?void 0:a[i])}),t}function UU(n,e,t){var i,a,l,u=Tt(),h=jv(),m=NU(n,e),g=MU(n,m),y=kU(),_=!!(u.onDayClick||u.mode!=="default");R.useEffect(function(){var le;m.outside||h.focusedDay&&_&&Pn(h.focusedDay,n)&&((le=t.current)===null||le===void 0||le.focus())},[h.focusedDay,n,t,_,m.outside]);var E=VU(u,m).join(" "),C=LU(u,m),D=!!(m.outside&&!u.showOutsideDays||m.hidden),S=(l=(a=u.components)===null||a===void 0?void 0:a.DayContent)!==null&&l!==void 0?l:sU,N=A.jsx(S,{date:n,displayMonth:e,activeModifiers:m}),B={style:C,className:E,children:N,role:"gridcell"},H=h.focusTarget&&Pn(h.focusTarget,n)&&!m.outside,G=h.focusedDay&&Pn(h.focusedDay,n),ee=ke(ke(ke({},B),(i={disabled:m.disabled,role:"gridcell"},i["aria-selected"]=m.selected,i.tabIndex=G||H?0:-1,i)),g),te={isButton:_,isHidden:D,activeModifiers:m,selectedDays:y,buttonProps:ee,divProps:B};return te}function jU(n){var e=R.useRef(null),t=UU(n.date,n.displayMonth,e);return t.isHidden?A.jsx("div",{role:"gridcell"}):t.isButton?A.jsx(nh,ke({name:"day",ref:e},t.buttonProps)):A.jsx("div",ke({},t.divProps))}function zU(n){var e=n.number,t=n.dates,i=Tt(),a=i.onWeekNumberClick,l=i.styles,u=i.classNames,h=i.locale,m=i.labels.labelWeekNumber,g=i.formatters.formatWeekNumber,y=g(Number(e),{locale:h});if(!a)return A.jsx("span",{className:u.weeknumber,style:l.weeknumber,children:y});var _=m(Number(e),{locale:h}),E=function(C){a(e,t,C)};return A.jsx(nh,{name:"week-number","aria-label":_,className:u.weeknumber,style:l.weeknumber,onClick:E,children:y})}function BU(n){var e,t,i=Tt(),a=i.styles,l=i.classNames,u=i.showWeekNumber,h=i.components,m=(e=h?.Day)!==null&&e!==void 0?e:jU,g=(t=h?.WeekNumber)!==null&&t!==void 0?t:zU,y;return u&&(y=A.jsx("td",{className:l.cell,style:a.cell,children:A.jsx(g,{number:n.weekNumber,dates:n.dates})})),A.jsxs("tr",{className:l.row,style:a.row,children:[y,n.dates.map(function(_){return A.jsx("td",{className:l.cell,style:a.cell,role:"presentation",children:A.jsx(m,{displayMonth:n.displayMonth,date:_})},rL(_))})]})}function DT(n,e,t){for(var i=t?.ISOWeek?WC(e):Sv(e,t),a=t?.ISOWeek?qi(n):$n(n,t),l=$r(i,a),u=[],h=0;h<=l;h++)u.push(mn(a,h));var m=u.reduce(function(g,y){var _=t?.ISOWeek?Cv(y):Rv(y,t),E=g.find(function(C){return C.weekNumber===_});return E?(E.dates.push(y),g):(g.push({weekNumber:_,dates:[y]}),g)},[]);return m}function FU(n,e){var t=DT(Ln(n),Tv(n),e);if(e?.useFixedWeeks){var i=sL(n,e);if(i<6){var a=t[t.length-1],l=a.dates[a.dates.length-1],u=ly(l,6-i),h=DT(ly(l,1),u,e);t.push.apply(t,h)}}return t}function HU(n){var e,t,i,a=Tt(),l=a.locale,u=a.classNames,h=a.styles,m=a.hideHead,g=a.fixedWeeks,y=a.components,_=a.weekStartsOn,E=a.firstWeekContainsDate,C=a.ISOWeek,D=FU(n.displayMonth,{useFixedWeeks:!!g,ISOWeek:C,locale:l,weekStartsOn:_,firstWeekContainsDate:E}),S=(e=y?.Head)!==null&&e!==void 0?e:iU,N=(t=y?.Row)!==null&&t!==void 0?t:BU,B=(i=y?.Footer)!==null&&i!==void 0?i:tU;return A.jsxs("table",{id:n.id,className:u.table,style:h.table,role:"grid","aria-labelledby":n["aria-labelledby"],children:[!m&&A.jsx(S,{}),A.jsx("tbody",{className:u.tbody,style:h.tbody,children:D.map(function(H){return A.jsx(N,{displayMonth:n.displayMonth,dates:H.dates,weekNumber:H.weekNumber},H.weekNumber)})}),A.jsx(B,{displayMonth:n.displayMonth})]})}function qU(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var GU=qU()?R.useLayoutEffect:R.useEffect,yg=!1,YU=0;function OT(){return"react-day-picker-".concat(++YU)}function WU(n){var e,t=n??(yg?OT():null),i=R.useState(t),a=i[0],l=i[1];return GU(function(){a===null&&l(OT())},[]),R.useEffect(function(){yg===!1&&(yg=!0)},[]),(e=n??a)!==null&&e!==void 0?e:void 0}function KU(n){var e,t,i=Tt(),a=i.dir,l=i.classNames,u=i.styles,h=i.components,m=Du().displayMonths,g=WU(i.id?"".concat(i.id,"-").concat(n.displayIndex):void 0),y=i.id?"".concat(i.id,"-grid-").concat(n.displayIndex):void 0,_=[l.month],E=u.month,C=n.displayIndex===0,D=n.displayIndex===m.length-1,S=!C&&!D;a==="rtl"&&(e=[C,D],D=e[0],C=e[1]),C&&(_.push(l.caption_start),E=ke(ke({},E),u.caption_start)),D&&(_.push(l.caption_end),E=ke(ke({},E),u.caption_end)),S&&(_.push(l.caption_between),E=ke(ke({},E),u.caption_between));var N=(t=h?.Caption)!==null&&t!==void 0?t:eU;return A.jsxs("div",{className:_.join(" "),style:E,children:[A.jsx(N,{id:g,displayMonth:n.displayMonth,displayIndex:n.displayIndex}),A.jsx(HU,{id:y,"aria-labelledby":g,displayMonth:n.displayMonth})]},n.displayIndex)}function QU(n){var e=Tt(),t=e.classNames,i=e.styles;return A.jsx("div",{className:t.months,style:i.months,children:n.children})}function $U(n){var e,t,i=n.initialProps,a=Tt(),l=jv(),u=Du(),h=R.useState(!1),m=h[0],g=h[1];R.useEffect(function(){a.initialFocus&&l.focusTarget&&(m||(l.focus(l.focusTarget),g(!0)))},[a.initialFocus,m,l.focus,l.focusTarget,l]);var y=[a.classNames.root,a.className];a.numberOfMonths>1&&y.push(a.classNames.multiple_months),a.showWeekNumber&&y.push(a.classNames.with_weeknumber);var _=ke(ke({},a.styles.root),a.style),E=Object.keys(i).filter(function(D){return D.startsWith("data-")}).reduce(function(D,S){var N;return ke(ke({},D),(N={},N[S]=i[S],N))},{}),C=(t=(e=i.components)===null||e===void 0?void 0:e.Months)!==null&&t!==void 0?t:QU;return A.jsx("div",ke({className:y.join(" "),style:_,dir:a.dir,id:a.id,nonce:i.nonce,title:i.title,lang:i.lang},E,{children:A.jsx(C,{children:u.displayMonths.map(function(D,S){return A.jsx(KU,{displayIndex:S,displayMonth:D},S)})})}))}function XU(n){var e=n.children,t=w5(n,["children"]);return A.jsx(z5,{initialProps:t,children:A.jsx($5,{children:A.jsx(DU,{initialProps:t,children:A.jsx(aU,{initialProps:t,children:A.jsx(cU,{initialProps:t,children:A.jsx(yU,{children:A.jsx(IU,{children:e})})})})})})})}function ZU(n){return A.jsx(XU,ke({},n,{children:A.jsx($U,{initialProps:n})}))}function Sx({className:n,classNames:e,showOutsideDays:t=!0,...i}){return A.jsx(ZU,{showOutsideDays:t,className:Vn("p-3",n),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium text-gray-900 dark:text-white",nav:"space-x-1 flex items-center",nav_button:Vn(Kg({variant:"outline"}),"h-7 w-7 bg-gray-100 dark:bg-zinc-800 p-0 text-gray-900 dark:text-white hover:bg-gray-200 dark:hover:bg-zinc-700 border-gray-300 dark:border-zinc-600"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-gray-500 dark:text-zinc-400 rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-gray-100 dark:[&:has([aria-selected].day-outside)]:bg-zinc-800/50 [&:has([aria-selected])]:bg-gray-100 dark:[&:has([aria-selected])]:bg-zinc-800 first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Vn(Kg({variant:"ghost"}),"h-9 w-9 p-0 font-normal text-gray-900 dark:text-white aria-selected:opacity-100 hover:bg-gray-100 dark:hover:bg-zinc-700"),day_range_end:"day-range-end",day_selected:"bg-gray-900 text-white dark:bg-white dark:text-black hover:bg-gray-900 hover:text-white dark:hover:bg-white dark:hover:text-black focus:bg-gray-900 focus:text-white dark:focus:bg-white dark:focus:text-black",day_today:"bg-gray-100 text-gray-900 dark:bg-zinc-800 dark:text-white",day_outside:"day-outside text-gray-400 dark:text-zinc-500 aria-selected:bg-gray-100/50 dark:aria-selected:bg-zinc-800/50 aria-selected:text-gray-500 dark:aria-selected:text-zinc-400",day_disabled:"text-gray-400 dark:text-zinc-600 opacity-50",day_range_middle:"aria-selected:bg-gray-100 aria-selected:text-gray-900 dark:aria-selected:bg-zinc-800 dark:aria-selected:text-white",day_hidden:"invisible",...e},components:{IconLeft:()=>A.jsx(F6,{className:"h-4 w-4"}),IconRight:()=>A.jsx(q6,{className:"h-4 w-4"})},...i})}Sx.displayName="Calendar";function JU(){const[n,e]=R.useState({customerName:"",email:"",phone:"",phoneCountryCode:"+41",date:si(new Date,"yyyy-MM-dd"),timeIndex:"",numberOfPeople:1,meetingPoint:"",flightType:"sensational",notes:""}),[t,i]=R.useState(!1),[a,l]=R.useState(null),[u,h]=R.useState({}),[m,g]=R.useState(!1),[y,_]=R.useState(!1),[E,C]=R.useState(""),[D,S]=R.useState([]),[N,B]=R.useState([]),[H,G]=R.useState(new Map),[ee,te]=R.useState(!0),[le,O]=R.useState(!1),[x,M]=R.useState(!1),[U,L]=R.useState(!1),[j,k]=R.useState(!1),[_e,Se]=R.useState(!1),[Y,K]=R.useState(!1),[z,ve]=R.useState(null),V=R.useMemo(()=>{try{return JL(n.date,"yyyy-MM-dd",new Date)}catch{return new Date}},[n.date]),ue=R.useMemo(()=>{const fe=new Date,be=new Date(fe);return be.setMonth(fe.getMonth()+2),V>=be},[V])||le;R.useEffect(()=>{(async()=>{const be=new URLSearchParams(window.location.search),Ge=be.get("hideAvailability")==="true",We=be.get("formId");if(We)try{const Ce=await bE(Bg($o,"bookingForms",We));if(Ce.exists()){const ft=Ce.data(),tt=ft.onlySensational??!1,vt=ft.hideAvailability??!1,jn=ft.requireTermsAndConditions??!1;ve({name:ft.name,commissionRate:ft.commissionRate||0,onlySensational:tt}),M(tt),O(vt),L(jn),Se(!0);return}}catch(Ce){console.error("Error loading custom form data:",Ce)}if(Ge){O(!0),Se(!0);return}try{const Ce=await bE(Bg($o,"settings","form"));if(Ce.exists()){const ft=Ce.data();O(ft.hideAvailability??!1),M(ft.onlySensational??!1),L(ft.requireTermsAndConditions??!1)}}catch(Ce){console.error("Error loading form settings:",Ce)}finally{Se(!0)}})()},[]);const ce=R.useMemo(()=>n5(V),[V]);R.useEffect(()=>{const fe=Qp(tf($o,"bookings"),be=>{const Ge=be.docs.map(We=>({id:We.id,...We.data()}));S(Ge)},be=>console.error("Error fetching bookings:",be));return()=>fe()},[]),R.useEffect(()=>{const fe=Qp(tf($o,"userProfiles"),be=>{const Ge=be.docs.map(We=>{const Ce=We.data();return{uid:Ce.uid,displayName:Ce.displayName,email:Ce.email,femalePilot:Ce.femalePilot,priority:Ce.priority}}).sort((We,Ce)=>{const ft=We.priority??999999,tt=Ce.priority??999999;return ft!==tt?ft-tt:We.displayName.localeCompare(Ce.displayName)});B(Ge),te(!1)},be=>{console.error("Error fetching pilots:",be),te(!1)});return()=>fe()},[]),R.useEffect(()=>{const fe=n.date,be=XO(tf($o,"availability"),ZO("date","==",fe)),Ge=Qp(be,We=>{const Ce=new Map;We.docs.forEach(ft=>{const tt=ft.data(),vt=tt.userId,jn=tt.timeSlot;Ce.has(vt)||Ce.set(vt,new Set),Ce.get(vt).add(jn)}),G(Ce)},We=>console.error("Error fetching availability:",We));return()=>Ge()},[n.date]);const me=R.useMemo(()=>D.filter(fe=>fe.date===n.date),[D,n.date]),Ne=(fe,be)=>{const Ge=H.get(fe);return Ge?Ge.has(be):!1},ge=R.useMemo(()=>ce.map((fe,be)=>{const Ge=N.filter(tt=>Ne(tt.uid,fe)),Ce=me.filter(tt=>tt.timeIndex===be).reduce((tt,vt)=>tt+(vt.numberOfPeople||0),0),ft=Ge.length-Ce;return{timeSlot:fe,timeIndex:be,availableSpots:Math.max(0,ft)}}),[ce,N,me,H]);R.useEffect(()=>{e(fe=>({...fe,timeIndex:""}))},[n.date]),R.useEffect(()=>{if(!ue&&n.timeIndex){const be=ge.find(Ge=>Ge.timeIndex.toString()===n.timeIndex)?.availableSpots??0;n.numberOfPeople>be&&e(Ge=>({...Ge,numberOfPeople:1}))}},[n.timeIndex,n.date,ge,ue]),R.useEffect(()=>{if(!ue&&n.timeIndex&&n.date){const fe=`${n.date}-${n.timeIndex}`;if(!u[fe]){const be=ge.find(Ge=>Ge.timeIndex.toString()===n.timeIndex);be&&h(Ge=>({...Ge,[fe]:be.availableSpots}))}}},[n.timeIndex,n.date,ge,u,ue]),R.useEffect(()=>{if(!ue&&n.timeIndex&&n.date&&n.numberOfPeople>1){const fe=`${n.date}-${n.timeIndex}`;u[fe]!==void 0&&(ge.find(Ce=>Ce.timeIndex.toString()===n.timeIndex)?.availableSpots??0)<n.numberOfPeople&&(l({type:"error",text:"Oops! These spots are no longer available. Availability has changed while you were filling out the form. Please select a different time or number of people."}),e(Ce=>({...Ce,numberOfPeople:1})),h(Ce=>{const ft={...Ce};return delete ft[fe],ft}))}},[n.timeIndex,n.date,n.numberOfPeople,ge,u,ue]);const de=async fe=>{if(fe.preventDefault(),i(!0),l(null),U&&!j){l({type:"error",text:"Please accept the terms and conditions to continue."}),i(!1);return}try{const be=ce[parseInt(n.timeIndex)],Ge=n.phone?`${n.phoneCountryCode} ${n.phone}`.trim():"",We=z?`${z.name} form`:"Online",Ce=Number(n.numberOfPeople),ft={customerName:n.customerName,email:n.email,phone:Ge,phoneCountryCode:n.phoneCountryCode,date:n.date,time:be,timeIndex:parseInt(n.timeIndex),numberOfPeople:Ce,meetingPoint:n.meetingPoint,flightType:n.flightType,notes:n.notes,bookingSource:We,status:"pending",createdAt:new Date};z&&z.commissionRate>0&&(ft.commission=z.commissionRate*Ce,ft.commissionStatus="unpaid"),await nM(tf($o,"bookingRequests"),ft),C(n.customerName),_(!0)}catch(be){console.error("Error submitting booking request:",be),l({type:"error",text:"Failed to submit booking request. Please try again."})}finally{i(!1)}},Ae=fe=>{const{name:be,value:Ge}=fe.target;e(We=>({...We,[be]:Ge}))},Je="+41796225100",He=`Hi! I just made a booking request under the name ${E}`,qe=`https://wa.me/${Je.replace(/\+/g,"")}?text=${encodeURIComponent(He)}`,et=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(qe)}`;return y?A.jsx("div",{className:"booking-request-form bg-gray-50 min-h-screen flex items-center justify-center px-4 py-6 sm:py-12",children:A.jsxs("div",{className:"max-w-2xl w-full text-center",children:[A.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 sm:mb-6 bg-green-500 rounded-full flex items-center justify-center",children:A.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),A.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Thank You for Your Booking Request!"}),A.jsx("p",{className:"text-gray-600 text-base sm:text-lg mb-6 sm:mb-8",children:"We have received your request and will be in touch with you shortly."}),A.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 sm:p-4 mb-6 sm:mb-8",children:A.jsxs("p",{className:"text-blue-800 text-xs sm:text-sm",children:[A.jsx("strong",{children:"Last Minute Booking?"})," To get your booking confirmed as fast as possible, contact us directly on WhatsApp."]})}),A.jsxs("div",{className:"mb-4 sm:mb-6",children:[A.jsx("p",{className:"text-gray-500 mb-3 sm:mb-4 text-xs sm:text-sm",children:"Scan to contact us on WhatsApp"}),A.jsx("div",{className:"inline-block bg-white p-3 sm:p-4 rounded-lg shadow-sm border border-gray-200",children:A.jsx("img",{src:et,alt:"WhatsApp QR Code",className:"w-36 h-36 sm:w-48 sm:h-48"})})]}),A.jsxs("a",{href:qe,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white font-medium px-6 py-3 sm:px-8 sm:py-4 rounded-lg transition-colors text-sm sm:text-base",children:[A.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),"Contact us on WhatsApp"]})]})}):A.jsx("div",{className:"booking-request-form bg-gray-50 flex items-center justify-center px-4 py-6 sm:py-12",children:A.jsxs("div",{className:"max-w-2xl w-full",children:[A.jsx("h1",{className:"text-2xl sm:text-4xl font-bold text-gray-900 mb-6 sm:mb-10",children:"Book a Flight"}),A.jsxs("form",{onSubmit:de,className:"space-y-4 sm:space-y-6",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"customerName",className:"text-sm font-medium text-gray-700",children:"Name *"}),A.jsx(Tf,{id:"customerName",name:"customerName",type:"text",value:n.customerName,onChange:Ae,required:!0,placeholder:"Your full name",className:"!bg-white !border-gray-300 !text-gray-900 placeholder:!text-gray-400"})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email *"}),A.jsx(Tf,{id:"email",name:"email",type:"email",value:n.email,onChange:Ae,required:!0,placeholder:"your@email.com",className:"!bg-white !border-gray-300 !text-gray-900 placeholder:!text-gray-400"})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"phone",className:"text-sm font-medium text-gray-700",children:"Phone Number"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(X6,{value:n.phoneCountryCode,onChange:fe=>e(be=>({...be,phoneCountryCode:fe})),lightMode:!0}),A.jsx(Tf,{id:"phone",name:"phone",type:"tel",value:n.phone,onChange:Ae,placeholder:"555 000 0000",className:"!bg-white !border-gray-300 !text-gray-900 placeholder:!text-gray-400 flex-1",autoComplete:"off"})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"date",className:"text-sm font-medium text-gray-700",children:"Date *"}),A.jsxs(_5,{open:Y,onOpenChange:K,children:[A.jsx(b5,{asChild:!0,children:A.jsxs("button",{type:"button",className:"flex h-10 w-full items-center gap-3 rounded-md border border-gray-300 bg-white px-3 text-sm text-gray-900 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 hover:bg-gray-50 transition-colors",children:[A.jsx(L6,{className:"h-5 w-5 text-gray-400"}),A.jsx("span",{children:si(V,"dd/MM/yyyy")})]})}),A.jsx(hx,{className:"w-auto p-0 !bg-white !border-gray-200",align:"start",onOpenAutoFocus:fe=>fe.preventDefault(),children:A.jsx(Sx,{mode:"single",selected:V,onSelect:fe=>{fe&&(e(be=>({...be,date:si(fe,"yyyy-MM-dd")})),K(!1))},className:"!bg-white",classNames:{caption_label:"text-sm font-medium text-gray-900",nav_button:"h-7 w-7 bg-gray-100 p-0 text-gray-900 hover:bg-gray-200 border-gray-300 inline-flex items-center justify-center rounded-md border",head_cell:"text-gray-500 rounded-md w-9 font-normal text-[0.8rem]",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-gray-100 [&:has([aria-selected])]:bg-gray-100 first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:"h-9 w-9 p-0 font-normal text-gray-900 aria-selected:opacity-100 hover:bg-gray-100 inline-flex items-center justify-center rounded-md",day_selected:"bg-gray-900 text-white hover:bg-gray-900 hover:text-white focus:bg-gray-900 focus:text-white",day_today:"bg-gray-100 text-gray-900",day_outside:"day-outside text-gray-400 aria-selected:bg-gray-100 aria-selected:text-gray-500",day_disabled:"text-gray-300 opacity-50",day_range_middle:"aria-selected:bg-gray-100 aria-selected:text-gray-900"}})})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Time Slot *"}),ee||!_e?A.jsx("div",{className:"text-gray-500 text-sm",children:"Loading availability..."}):A.jsxs(wT,{value:n.timeIndex,onValueChange:fe=>e(be=>({...be,timeIndex:fe})),required:!0,children:[A.jsx(ay,{className:"!bg-white !border-gray-300 !text-gray-900",children:A.jsx(ET,{placeholder:"Select a time slot"})}),A.jsx(oy,{className:"min-w-[280px] !bg-white !border-gray-200 !text-gray-900",children:ge.map(fe=>{const be=fe.availableSpots,Ge=n.numberOfPeople,We=!ue&&be<Ge;return A.jsx(al,{value:fe.timeIndex.toString(),disabled:We,className:`!text-gray-900 focus:!bg-gray-100 focus:!text-gray-900 ${We?"opacity-50 cursor-not-allowed":""}`,children:A.jsxs("div",{className:"flex items-center justify-between gap-4 w-full",children:[A.jsx("span",{className:"flex-shrink-0",children:fe.timeSlot}),!ue&&A.jsxs("span",{className:`text-xs px-2 py-0.5 rounded flex-shrink-0 ${be===0?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:[be," available"]})]})},fe.timeIndex)})})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Number of People *"}),m&&!n.timeIndex&&A.jsx("div",{className:"text-sm text-orange-700 bg-orange-50 border border-orange-200 rounded px-3 py-2",children:"Please select a time slot first"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsx("div",{className:"flex gap-2 pb-2",children:Array.from({length:30},(fe,be)=>be+1).map(fe=>{if(!n.timeIndex)return A.jsx("button",{type:"button",onClick:()=>{g(!0),setTimeout(()=>g(!1),3e3)},className:"flex-shrink-0 w-12 h-12 rounded-lg font-medium transition-colors bg-gray-100 text-gray-400 cursor-not-allowed",children:fe},fe);if(ue)return A.jsx("button",{type:"button",onClick:()=>e(Ce=>({...Ce,numberOfPeople:fe})),className:`flex-shrink-0 w-12 h-12 rounded-lg font-medium transition-colors ${n.numberOfPeople===fe?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:fe},fe);const We=(ge.find(Ce=>Ce.timeIndex.toString()===n.timeIndex)?.availableSpots??0)<fe;return A.jsx("button",{type:"button",onClick:()=>!We&&e(Ce=>({...Ce,numberOfPeople:fe})),disabled:We,className:`flex-shrink-0 w-12 h-12 rounded-lg font-medium transition-colors ${n.numberOfPeople===fe?"bg-gray-900 text-white":We?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:fe},fe)})})})]}),_e&&!z&&A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"meetingPoint",className:"text-sm font-medium text-gray-700",children:"Meeting Point *"}),A.jsxs(wT,{value:n.meetingPoint,onValueChange:fe=>e(be=>({...be,meetingPoint:fe})),required:!0,children:[A.jsx(ay,{className:"!bg-white !border-gray-300 !text-gray-900",children:A.jsx(ET,{placeholder:"Select meeting point"})}),A.jsxs(oy,{className:"!bg-white !border-gray-200 !text-gray-900",children:[A.jsx(al,{value:"HW",className:"!text-gray-900 focus:!bg-gray-100 focus:!text-gray-900",children:"Meet at our base near the landing field in the centre"}),A.jsx(al,{value:"OST",className:"!text-gray-900 focus:!bg-gray-100 focus:!text-gray-900",children:"Train Station Interlaken Ost (Outside BIG coop supermarket)"}),A.jsx(al,{value:"mhof",className:"!text-gray-900 focus:!bg-gray-100 focus:!text-gray-900",children:"Mattenhof Resort (Free Parking)"}),A.jsx(al,{value:"other",className:"!text-gray-900 focus:!bg-gray-100 focus:!text-gray-900",children:"Other meeting point in or near Interlaken"})]})]})]}),_e&&!x&&A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Flight Type *"}),A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[{type:"sensational",price:"CHF 180"},{type:"classic",price:"CHF 170"},{type:"early bird",price:"CHF 180"}].map(({type:fe,price:be})=>A.jsxs("button",{type:"button",onClick:()=>e(Ge=>({...Ge,flightType:fe})),className:`px-3 py-3 rounded-lg font-medium transition-colors ${n.flightType===fe?"bg-gray-900 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[A.jsx("div",{className:"capitalize text-sm",children:fe}),A.jsx("div",{className:"text-xs mt-1 opacity-80",children:be})]},fe))})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"notes",className:"text-sm font-medium text-gray-700",children:"Additional Notes"}),A.jsx("textarea",{id:"notes",name:"notes",value:n.notes,onChange:Ae,rows:4,placeholder:"Any special requests or information...",className:"w-full px-3 py-2 !bg-white !border !border-gray-300 rounded !text-gray-900 placeholder:!text-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-transparent"})]}),_e&&U&&A.jsx("div",{className:"pt-2",children:A.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[A.jsx("div",{className:"relative flex items-center justify-center",children:A.jsx("input",{type:"checkbox",checked:j,onChange:fe=>k(fe.target.checked),className:"w-5 h-5 border-2 border-gray-300 rounded bg-white checked:bg-gray-900 checked:border-gray-900 focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 cursor-pointer transition-colors",required:!0})}),A.jsxs("span",{className:"text-sm text-gray-700 flex-1",children:["I accept the"," ",A.jsx("a",{href:"https://www.tandemparagliding.ch/gcc.html",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 underline font-medium",children:"terms and conditions"})," ","*"]})]})}),A.jsx(EA,{type:"submit",disabled:t||U&&!j,className:"w-full !bg-gray-900 !text-white hover:!bg-gray-800 mt-8 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Submitting...":"Submit Booking Request"}),a&&A.jsx("div",{className:`p-4 rounded-lg text-sm ${a.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:a.text})]})]})})}oI.createRoot(document.getElementById("root")).render(A.jsx(R.StrictMode,{children:A.jsx(JU,{})}));
